(()=>{var t={29(t,e,r){"use strict";r(10009)("iterator")},220(t){t.exports=function(){"use strict";const t=new Map;return{set(e,r,n){t.has(e)||t.set(e,new Map);const i=t.get(e);i.has(r)||0===i.size?i.set(r,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,r)=>t.has(e)&&t.get(e).get(r)||null,remove(e,r){if(!t.has(e))return;const n=t.get(e);n.delete(r),0===n.size&&t.delete(e)}}}()},459(t,e,r){"use strict";var n=r(99466),i=r(88423);t.exports=function(t){if(i){try{return n.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}}},856(t,e,r){"use strict";r(91652)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},1173(t,e,r){"use strict";var n=r(11269);t.exports=/MSIE|Trident/.test(n)},1178(t,e,r){"use strict";var n=r(58993)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},1179(t,e,r){"use strict";var n=r(50265),i=r(99466).RegExp,o=n(function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),a=o||n(function(){return!i("a","y").sticky}),s=o||n(function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},1478(t,e,r){"use strict";var n=r(93534),i=r(12106),o=r(79224),a=r(51712),s=n.aTypedArray,c=n.getTypedArrayConstructor,l=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);l("toSorted",function(t){void 0!==t&&o(t);var e=s(this),r=a(c(e),e);return u(r,t)})},1987(t,e,r){"use strict";var n=r(99466),i=r(50265),o=n.RegExp,a=!i(function(){var t=!0;try{o(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(o.prototype,"flags").get.call(e)!==n||r!==n});t.exports={correct:a}},2492(t,e,r){"use strict";r(40423)},2580(t,e,r){"use strict";var n=r(93534),i=r(29507).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},2702(t,e,r){"use strict";var n=r(12106);t.exports=n(1.1.valueOf)},2857(t,e,r){"use strict";var n=r(91652),i=r(63938);n({global:!0,forced:parseFloat!==i},{parseFloat:i})},2896(t,e,r){"use strict";var n=r(73556);t.exports=function(t){return n(t.length)}},2995(t,e,r){"use strict";var n=r(70639),i=r(51544),o=r(21087),a=r(54996),s=r(70236),c=r(58993),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,c=a(t,u);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!i(r)||o(r))return r;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},3008(t,e,r){"use strict";var n=r(52870),i=r(98960),o=r(43524),a=r(16235),s=r(67191),c=r(97313),l=i.Set,u=i.add,h=i.has;t.exports=function(t){var e=n(this),r=a(t),i=new l;return o(e)>r.size?c(r.getIterator(),function(t){h(e,t)&&u(i,t)}):s(e,function(t){r.includes(t)&&u(i,t)}),i}},3209(t,e,r){"use strict";var n=r(29507).forEach,i=r(69312)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},3421(t,e,r){"use strict";var n=r(11467),i=r(91787),o=r(72139),a=r(4513),s=r(96785),c=a("IE_PROTO"),l=Object,u=l.prototype;t.exports=s?l.getPrototypeOf:function(t){var e=o(t);if(n(e,c))return e[c];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof l?u:null}},3438(t,e,r){"use strict";var n=r(10009),i=r(90608);n("toPrimitive"),i()},3476(t,e,r){"use strict";var n=r(50286),i=r(57103),o=r(52438).f,a=r(87874),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===n(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},3693(t,e,r){"use strict";var n=r(3806),i=r(20011),o=r(61994);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},3806(t,e,r){"use strict";var n=r(50265);t.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3938(t,e,r){"use strict";var n=r(50265);t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},4446(t,e,r){"use strict";var n=r(93534),i=r(13295),o=r(61716),a=r(40257),s=r(70639),c=r(12106),l=r(50265),u=n.aTypedArray,h=n.exportTypedArrayMethod,f=c("".slice);h("fill",function(t){var e=arguments.length;u(this);var r="Big"===f(a(this),0,3)?o(t):+t;return s(i,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)},l(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}))},4513(t,e,r){"use strict";var n=r(57495),i=r(62122),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},4573(t,e,r){"use strict";var n=r(67074),i=r(82554),o=r(67013);n||i(Object.prototype,"toString",o,{unsafe:!0})},4713(t,e,r){"use strict";var n=r(82554),i=r(12106),o=r(48085),a=r(40706),s=URLSearchParams,c=s.prototype,l=i(c.append),u=i(c.delete),h=i(c.forEach),f=i([].push),d=new s("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&n(c,"delete",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return u(this,t);var n=[];h(this,function(t,e){f(n,{key:e,value:t})}),a(e,1);for(var i,s=o(t),c=o(r),d=0,p=0,v=!1,m=n.length;d<m;)i=n[d++],v||i.key===s?(v=!0,u(this,i.key)):p++;for(;p<m;)(i=n[p++]).key===s&&i.value===c||l(this,i.key,i.value)},{enumerable:!0,unsafe:!0})},4748(t,e,r){"use strict";var n=r(91652),i=r(3806),o=r(89049),a=r(57103),s=r(56065),c=r(44366);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,l=o(n),u={},h=0;l.length>h;)void 0!==(r=i(n,e=l[h++]))&&c(u,e,r);return u}})},4888(t,e,r){"use strict";var n=r(93534),i=r(11381).findLastIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},5415(t,e,r){t.exports=function(t,e){"use strict";class r{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(r,n){const i=e.isElement(n)?t.getDataAttribute(n,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...e.isElement(n)?t.getDataAttributes(n):{},..."object"==typeof r?r:{}}}_typeCheckConfig(t,r=this.constructor.DefaultType){for(const[n,i]of Object.entries(r)){const r=t[n],o=e.isElement(r)?"element":e.toType(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${i}".`)}}}return r}(r(17575),r(35429))},5713(t,e,r){"use strict";var n,i,o,a,s=r(99466),c=r(459),l=r(5726),u=s.structuredClone,h=s.ArrayBuffer,f=s.MessageChannel,d=!1;if(l)d=function(t){u(t,{transfer:[t]})};else if(h)try{f||(n=c("worker_threads"))&&(f=n.MessageChannel),f&&(i=new f,o=new h(2),a=function(t){i.port1.postMessage(null,[t])},2===o.byteLength&&(a(o),0===o.byteLength&&(d=a)))}catch(t){}t.exports=d},5726(t,e,r){"use strict";var n=r(99466),i=r(50265),o=r(62381),a=r(74713),s=n.structuredClone;t.exports=!!s&&!i(function(){if("DENO"===a&&o>92||"NODE"===a&&o>94||"BROWSER"===a&&o>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength})},6047(t,e,r){"use strict";var n=r(3806),i=r(12106),o=r(70639),a=r(50265),s=r(57178),c=r(42891),l=r(77739),u=r(72139),h=r(99673),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||a(function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(t){e[t]=t}),7!==f({},t)[r]||s(f({},e)).join("")!==i})?function(t,e){for(var r=u(t),i=arguments.length,a=1,f=c.f,d=l.f;i>a;)for(var v,m=h(arguments[a++]),y=f?p(s(m),f(m)):s(m),g=y.length,b=0;g>b;)v=y[b++],n&&!o(d,m,v)||(r[v]=m[v]);return r}:f},6227(t,e,r){"use strict";var n=r(3806),i=r(95160),o=r(91436),a=ArrayBuffer.prototype;n&&!("detached"in a)&&i(a,"detached",{configurable:!0,get:function(){return o(this)}})},6419(t,e,r){"use strict";var n=r(20177),i=r(95160),o=r(58993),a=r(3806),s=o("species");t.exports=function(t){var e=n(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},6687(t,e,r){"use strict";var n=r(11269).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},6755(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(70639),a=r(12106),s=r(36613),c=r(3806),l=r(75373),u=r(50265),h=r(11467),f=r(8367),d=r(59637),p=r(57103),v=r(52519),m=r(48085),y=r(61994),g=r(72330),b=r(57178),_=r(52438),w=r(3476),S=r(42891),E=r(56065),T=r(20011),x=r(9399),A=r(77739),k=r(82554),O=r(95160),C=r(57495),P=r(4513),I=r(10067),R=r(62122),M=r(58993),L=r(11821),j=r(10009),D=r(90608),N=r(62005),B=r(19043),F=r(29507).forEach,U=P("hidden"),z="Symbol",H="prototype",G=B.set,Y=B.getterFor(z),q=Object[H],V=i.Symbol,W=V&&V[H],$=i.RangeError,K=i.TypeError,Z=i.QObject,X=E.f,J=T.f,Q=w.f,tt=A.f,et=a([].push),rt=C("symbols"),nt=C("op-symbols"),it=C("wks"),ot=!Z||!Z[H]||!Z[H].findChild,at=function(t,e,r){var n=X(q,e);n&&delete q[e],J(t,e,r),n&&t!==q&&J(q,e,n)},st=c&&u(function(){return 7!==g(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?at:J,ct=function(t,e){var r=rt[t]=g(W);return G(r,{type:z,tag:t,description:e}),c||(r.description=e),r},lt=function(t,e,r){t===q&&lt(nt,e,r),d(t);var n=v(e);return d(r),h(rt,n)?(r.enumerable?(h(t,U)&&t[U][n]&&(t[U][n]=!1),r=g(r,{enumerable:y(0,!1)})):(h(t,U)||J(t,U,y(1,g(null))),t[U][n]=!0),st(t,n,r)):J(t,n,r)},ut=function(t,e){d(t);var r=p(e),n=b(r).concat(pt(r));return F(n,function(e){c&&!o(ht,r,e)||lt(t,e,r[e])}),t},ht=function(t){var e=v(t),r=o(tt,this,e);return!(this===q&&h(rt,e)&&!h(nt,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,U)&&this[U][e])||r)},ft=function(t,e){var r=p(t),n=v(e);if(r!==q||!h(rt,n)||h(nt,n)){var i=X(r,n);return!i||!h(rt,n)||h(r,U)&&r[U][n]||(i.enumerable=!0),i}},dt=function(t){var e=Q(p(t)),r=[];return F(e,function(t){h(rt,t)||h(I,t)||et(r,t)}),r},pt=function(t){var e=t===q,r=Q(e?nt:p(t)),n=[];return F(r,function(t){!h(rt,t)||e&&!h(q,t)||et(n,rt[t])}),n};l||(V=function(){if(f(W,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=R(t),r=function(t){var n=void 0===this?i:this;n===q&&o(r,nt,t),h(n,U)&&h(n[U],e)&&(n[U][e]=!1);var a=y(1,t);try{st(n,e,a)}catch(t){if(!(t instanceof $))throw t;at(n,e,a)}};return c&&ot&&st(q,e,{configurable:!0,set:r}),ct(e,t)},k(W=V[H],"toString",function(){return Y(this).tag}),k(V,"withoutSetter",function(t){return ct(R(t),t)}),A.f=ht,T.f=lt,x.f=ut,E.f=ft,_.f=w.f=dt,S.f=pt,L.f=function(t){return ct(M(t),t)},c&&(O(W,"description",{configurable:!0,get:function(){return Y(this).description}}),s||k(q,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:V}),F(b(it),function(t){j(t)}),n({target:z,stat:!0,forced:!l},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?g(t):ut(g(t),e)},defineProperty:lt,defineProperties:ut,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:dt}),D(),N(V,z),I[U]=!0},6828(t,e,r){"use strict";var n=r(72330),i=r(95160),o=r(32073),a=r(88402),s=r(15093),c=r(21039),l=r(23442),u=r(49166),h=r(37007),f=r(6419),d=r(3806),p=r(92649).fastKey,v=r(19043),m=v.set,y=v.getterFor;t.exports={getConstructor:function(t,e,r,u){var h=t(function(t,i){s(t,f),m(t,{type:e,index:n(null),first:null,last:null,size:0}),d||(t.size=0),c(i)||l(i,t[u],{that:t,AS_ENTRIES:r})}),f=h.prototype,v=y(e),g=function(t,e,r){var n,i,o=v(t),a=b(t,e);return a?a.value=r:(o.last=a={index:i=p(e,!0),key:e,value:r,previous:n=o.last,next:null,removed:!1},o.first||(o.first=a),n&&(n.next=a),d?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},b=function(t,e){var r,n=v(t),i=p(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===e)return r};return o(f,{clear:function(){for(var t=v(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),d?t.size=0:this.size=0},delete:function(t){var e=this,r=v(e),n=b(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first===n&&(r.first=i),r.last===n&&(r.last=o),d?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=v(this),n=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),o(f,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),d&&i(f,"size",{configurable:!0,get:function(){return v(this).size}}),h},setStrong:function(t,e,r){var n=e+" Iterator",i=y(e),o=y(n);u(t,e,function(t,e){m(this,{type:n,target:t,state:i(t),kind:e,last:null})},function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?h("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,h(void 0,!0))},r?"entries":"values",!r,!0),f(e)}}},7038(t,e,r){"use strict";var n=r(91652),i=r(92714),o=r(49659).indexOf,a=r(69312),s=i([].indexOf),c=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?s(this,t,e)||0:o(this,t,e)}})},7185(t,e,r){"use strict";var n=r(12106),i=r(31821),o=r(48085),a=r(58400),s=n("".charAt),c=n("".charCodeAt),l=n("".slice),u=function(t){return function(e,r){var n,u,h=o(a(e)),f=i(r),d=h.length;return f<0||f>=d?t?"":void 0:(n=c(h,f))<55296||n>56319||f+1===d||(u=c(h,f+1))<56320||u>57343?t?s(h,f):n:t?l(h,f,f+2):u-56320+(n-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},7709(t,e,r){"use strict";var n=r(91652),i=r(3806),o=r(99466),a=r(12106),s=r(11467),c=r(91787),l=r(8367),u=r(48085),h=r(95160),f=r(35670),d=o.Symbol,p=d&&d.prototype;if(i&&c(d)&&(!("description"in p)||void 0!==d().description)){var v={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(v[e]=!0),e};f(m,d),m.prototype=p,p.constructor=m;var y="Symbol(description detection)"===String(d("description detection")),g=a(p.valueOf),b=a(p.toString),_=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),S=a("".slice);h(p,"description",{configurable:!0,get:function(){var t=g(this);if(s(v,t))return"";var e=b(t),r=y?S(e,7,-1):w(e,_,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},8210(t,e,r){"use strict";var n=r(58993)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},8367(t,e,r){"use strict";var n=r(12106);t.exports=n({}.isPrototypeOf)},8554(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9342(t,e,r){"use strict";var n=r(11269);t.exports=/web0s(?!.*chrome)/i.test(n)},9348(t,e,r){"use strict";var n=r(91652),i=r(20177),o=r(11467),a=r(48085),s=r(57495),c=r(77042),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=a(t);if(o(l,e))return l[e];var r=i("Symbol")(e);return l[e]=r,u[r]=e,r}})},9399(t,e,r){"use strict";var n=r(3806),i=r(67640),o=r(20011),a=r(59637),s=r(57103),c=r(57178);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=c(e),l=i.length,u=0;l>u;)o.f(t,r=i[u++],n[r]);return t}},9654(t,e,r){"use strict";var n=r(51712),i=r(93534).getTypedArrayConstructor;t.exports=function(t,e){return n(i(t),e)}},9794(t,e,r){"use strict";var n=r(91652),i=r(65963).start;n({target:"String",proto:!0,forced:r(38517)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9828(t,e,r){"use strict";var n=r(31821),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw new i("The argument can't be less than 0");return e}},9902(t,e,r){"use strict";var n=r(91652),i=r(29507).filter;n({target:"Array",proto:!0,forced:!r(87987)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},10009(t,e,r){"use strict";var n=r(52285),i=r(11467),o=r(11821),a=r(20011).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},10067(t){"use strict";t.exports={}},10259(t,e,r){"use strict";var n=r(93534),i=r(12106),o=n.aTypedArray,a=n.exportTypedArrayMethod,s=i([].join);a("join",function(t){return s(o(this),t)})},10957(t,e,r){"use strict";var n=r(91787),i=r(51544),o=r(40017);t.exports=function(t,e,r){var a,s;return o&&n(a=e.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},11269(t,e,r){"use strict";var n=r(99466).navigator,i=n&&n.userAgent;t.exports=i?String(i):""},11317(t,e,r){"use strict";var n=r(49675),i=r(57103),o=r(31821),a=r(2896),s=r(69312),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),f=u||!h;t.exports=f?function(t){if(u)return n(l,this,arguments)||0;var e=i(this),r=a(e);if(0===r)return-1;var s=r-1;for(arguments.length>1&&(s=c(s,o(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:l},11381(t,e,r){"use strict";var n=r(88402),i=r(99673),o=r(72139),a=r(2896),s=function(t){var e=1===t;return function(r,s,c){for(var l,u=o(r),h=i(u),f=a(h),d=n(s,c);f-- >0;)if(d(l=h[f],f,u))switch(t){case 0:return l;case 1:return f}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},11467(t,e,r){"use strict";var n=r(12106),i=r(72139),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},11483(t,e,r){"use strict";var n=r(52870),i=r(98960).has,o=r(43524),a=r(16235),s=r(67191),c=r(97313),l=r(71905);t.exports=function(t){var e=n(this),r=a(t);if(o(e)<=r.size)return!1!==s(e,function(t){if(r.includes(t))return!1},!0);var u=r.getIterator();return!1!==c(u,function(t){if(i(e,t))return l(u,"normal",!1)})}},11763(t,e,r){"use strict";var n=r(91652),i=r(12106),o=r(48880),a=RangeError,s=String.fromCharCode,c=String.fromCodePoint,l=i([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],o(e,1114111)!==e)throw new a(e+" is not a valid code point");r[i]=e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320)}return l(r,"")}})},11821(t,e,r){"use strict";var n=r(58993);e.f=n},12048(t,e,r){"use strict";r(54029);var n,i,o=r(91652),a=r(70639),s=r(91787),c=r(59637),l=r(48085),u=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),h=/./.test;o({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=c(this),r=l(t),n=e.exec;if(!s(n))return a(h,e,r);var i=a(n,e,r);return null!==i&&(c(i),!0)}})},12100(t,e,r){"use strict";var n=r(99466),i=r(71784),o=r(50286),a=n.ArrayBuffer,s=n.TypeError;t.exports=a&&i(a.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new s("ArrayBuffer expected");return t.byteLength}},12106(t,e,r){"use strict";var n=r(58354),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);t.exports=n?a:function(t){return function(){return o.apply(t,arguments)}}},12277(t,e,r){"use strict";var n=r(93534),i=r(29507).map,o=n.aTypedArray,a=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(a(t))(e)})})},12442(t,e,r){"use strict";var n=r(87874),i=Math.floor,o=function(t,e){var r=t.length;if(r<8)for(var a,s,c=1;c<r;){for(s=c,a=t[c];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==c++&&(t[s]=a)}else for(var l=i(r/2),u=o(n(t,0,l),e),h=o(n(t,l),e),f=u.length,d=h.length,p=0,v=0;p<f||v<d;)t[p+v]=p<f&&v<d?e(u[p],h[v])<=0?u[p++]:h[v++]:p<f?u[p++]:h[v++];return t};t.exports=o},12686(t,e,r){"use strict";var n=r(20011).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},13295(t,e,r){"use strict";var n=r(72139),i=r(48880),o=r(2896);t.exports=function(t){for(var e=n(this),r=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,l=void 0===c?r:i(c,r);l>s;)e[s++]=t;return e}},13623(t,e,r){"use strict";var n=r(55970),i=r(64607),o=r(51544),a=r(58993)("species"),s=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===s||n(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},13664(t,e,r){"use strict";var n=r(42811).IteratorPrototype,i=r(72330),o=r(61994),a=r(62005),s=r(59671),c=function(){return this};t.exports=function(t,e,r,l){var u=e+" Iterator";return t.prototype=i(n,{next:o(+!l,r)}),a(t,u,!1,!0),s[u]=c,t}},13757(t,e,r){"use strict";var n=r(91652),i=r(11381).findLastIndex,o=r(68423);n({target:"Array",proto:!0},{findLastIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},13820(t){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},13843(t,e,r){"use strict";var n=r(31821),i=r(48085),o=r(58400),a=RangeError;t.exports=function(t){var e=i(o(this)),r="",s=n(t);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},14204(t,e,r){"use strict";r(94562),r(72233),r(72009),r(97217),r(35231),r(14734)},14395(t,e,r){"use strict";var n=r(12106),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,l=n(a.exec),u=Math.floor,h=String.fromCharCode,f=n("".charCodeAt),d=n([].join),p=n([].push),v=n("".replace),m=n("".split),y=n("".toLowerCase),g=function(t){return t+22+75*(t<26)},b=function(t,e,r){var n=0;for(t=r?u(t/700):t>>1,t+=u(t/e);t>455;)t=u(t/35),n+=36;return u(n+36*t/(t+38))},_=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=f(t,r++);if(i>=55296&&i<=56319&&r<n){var o=f(t,r++);56320==(64512&o)?p(e,((1023&i)<<10)+(1023&o)+65536):(p(e,i),r--)}else p(e,i)}return e}(t);var r,n,o=t.length,a=128,l=0,v=72;for(r=0;r<t.length;r++)(n=t[r])<128&&p(e,h(n));var m=e.length,y=m;for(m&&p(e,"-");y<o;){var _=i;for(r=0;r<t.length;r++)(n=t[r])>=a&&n<_&&(_=n);var w=y+1;if(_-a>u((i-l)/w))throw new c(s);for(l+=(_-a)*w,a=_,r=0;r<t.length;r++){if((n=t[r])<a&&++l>i)throw new c(s);if(n===a){for(var S=l,E=36;;){var T=E<=v?1:E>=v+26?26:E-v;if(S<T)break;var x=S-T,A=36-T;p(e,h(g(T+x%A))),S=u(x/A),E+=36}p(e,h(g(S))),v=b(l,w,y===m),l=0,y++}}l++,a++}return d(e,"")};t.exports=function(t){var e,r,n=[],i=m(v(y(t),a,"."),".");for(e=0;e<i.length;e++)r=i[e],p(n,l(o,r)?"xn--"+_(r):r);return d(n,".")}},14734(t,e,r){"use strict";var n=r(91652),i=r(20177),o=r(36613),a=r(57632),s=r(73486).CONSTRUCTOR,c=r(24924),l=i("Promise"),u=o&&!s;n({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return c(u&&this===l?a:this,t)}})},14743(t,e,r){"use strict";var n=r(99466),i=r(49675),o=r(93534),a=r(50265),s=r(87874),c=n.Int8Array,l=o.aTypedArray,u=o.exportTypedArrayMethod,h=[].toLocaleString,f=!!c&&a(function(){h.call(new c(1))});u("toLocaleString",function(){return i(h,f?s(l(this)):l(this),s(arguments))},a(function(){return[1,2].toLocaleString()!==new c([1,2]).toLocaleString()})||!a(function(){c.prototype.toLocaleString.call([1,2])}))},14853(t,e,r){"use strict";var n=r(20177),i="DOMException";r(62005)(n(i),i)},15075(t,e,r){"use strict";var n=r(20046);t.exports=Math.fround||function(t){return n(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},15093(t,e,r){"use strict";var n=r(8367),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},15942(t,e,r){"use strict";var n=r(91652),i=r(33108).left,o=r(69312),a=r(62381);n({target:"Array",proto:!0,forced:!r(88423)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},16235(t,e,r){"use strict";var n=r(79224),i=r(59637),o=r(70639),a=r(31821),s=r(58985),c="Invalid size",l=RangeError,u=TypeError,h=Math.max,f=function(t,e){this.set=t,this.size=h(e,0),this.has=n(t.has),this.keys=n(t.keys)};f.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new u(c);var r=a(e);if(r<0)throw new l(c);return new f(t,r)}},16415(t,e,r){"use strict";var n=r(99466),i=r(8554),o=r(76318),a=r(92482),s=r(3693),c=r(62005),l=r(58993)("iterator"),u=a.values,h=function(t,e){if(t){if(t[l]!==u)try{s(t,l,u)}catch(e){t[l]=u}if(c(t,e,!0),i[e])for(var r in a)if(t[r]!==a[r])try{s(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var f in i)h(n[f]&&n[f].prototype,f);h(o,"DOMTokenList")},16545(t,e,r){t.exports=function(t,e,r,n){"use strict";const i="5.3.8";class o extends r{constructor(e,r){super(),(e=n.getElement(e))&&(this._element=e,this._config=this._getConfig(r),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),e.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,r=!0){n.executeAfterTransition(t,e,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(e){return t.get(n.getElement(e),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return i}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}return o}(r(220),r(67922),r(5415),r(35429))},16676(t,e,r){"use strict";var n=r(3806),i=r(83328).EXISTS,o=r(12106),a=r(95160),s=Function.prototype,c=o(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec);n&&!i&&a(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},16859(t,e,r){"use strict";var n=r(93534),i=r(29507).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},17309(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(31872),a=r(6419),s="ArrayBuffer",c=o[s];n({global:!0,constructor:!0,forced:i[s]!==c},{ArrayBuffer:c}),a(s)},17575(t){t.exports=function(){"use strict";function t(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function e(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}return{setDataAttribute(t,r,n){t.setAttribute(`data-bs-${e(r)}`,n)},removeDataAttribute(t,r){t.removeAttribute(`data-bs-${e(r)}`)},getDataAttributes(e){if(!e)return{};const r={},n=Object.keys(e.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),r[n]=t(e.dataset[i])}return r},getDataAttribute:(r,n)=>t(r.getAttribute(`data-bs-${e(n)}`))}}()},18228(t,e,r){"use strict";var n=r(99466),i=r(91787),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},18234(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(49675),a=r(92431),s="WebAssembly",c=i[s],l=7!==new Error("e",{cause:7}).cause,u=function(t,e){var r={};r[t]=a(t,e,l),n({global:!0,constructor:!0,arity:1,forced:l},r)},h=function(t,e){if(c&&c[t]){var r={};r[t]=a(s+"."+t,e,l),n({target:s,stat:!0,constructor:!0,arity:1,forced:l},r)}};u("Error",function(t){return function(e){return o(t,this,arguments)}}),u("EvalError",function(t){return function(e){return o(t,this,arguments)}}),u("RangeError",function(t){return function(e){return o(t,this,arguments)}}),u("ReferenceError",function(t){return function(e){return o(t,this,arguments)}}),u("SyntaxError",function(t){return function(e){return o(t,this,arguments)}}),u("TypeError",function(t){return function(e){return o(t,this,arguments)}}),u("URIError",function(t){return function(e){return o(t,this,arguments)}}),h("CompileError",function(t){return function(e){return o(t,this,arguments)}}),h("LinkError",function(t){return function(e){return o(t,this,arguments)}}),h("RuntimeError",function(t){return function(e){return o(t,this,arguments)}})},18899(t,e,r){"use strict";var n=r(91652),i=r(3806),o=r(20011).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},19043(t,e,r){"use strict";var n,i,o,a=r(18228),s=r(99466),c=r(51544),l=r(3693),u=r(11467),h=r(38263),f=r(4513),d=r(10067),p="Object already initialized",v=s.TypeError,m=s.WeakMap;if(a||h.state){var y=h.state||(h.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,n=function(t,e){if(y.has(t))throw new v(p);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var g=f("state");d[g]=!0,n=function(t,e){if(u(t,g))throw new v(p);return e.facade=t,l(t,g,e),e},i=function(t){return u(t,g)?t[g]:{}},o=function(t){return u(t,g)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return r}}}},19741(t,e,r){"use strict";var n=r(11467);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},19830(t,e,r){"use strict";var n=r(91652),i=r(31024);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("isSubsetOf",function(t){return t})},{isSubsetOf:i})},19959(t,e,r){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(50477)}catch(t){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),a={},s=a.lib={},c=s.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new l.init(e,t)}}),u=a.enc={},h=u.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},f=u.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},d=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,o);if(c){for(var h=0;h<c;h+=a)this._doProcessBlock(i,h);r=i.splice(0,c),n.sigBytes-=u}return new l.init(r,u)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new v.HMAC.init(t,r).finalize(e)}}}),a.algo={});return a}(Math),n)},20011(t,e,r){"use strict";var n=r(3806),i=r(83719),o=r(67640),a=r(59637),s=r(52519),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=n?o?function(t,e,r){if(a(t),e=s(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=u(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:h in r?r[h]:n[h],writable:!1})}return l(t,e,r)}:l:function(t,e,r){if(a(t),e=s(e),a(r),i)try{return l(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},20015(t,e,r){"use strict";var n=r(99466),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},20046(t,e,r){"use strict";var n=r(95492),i=r(41552),o=Math.abs;t.exports=function(t,e,r,a){var s=+t,c=o(s),l=n(s);if(c<a)return l*i(c/a/e)*a*e;var u=(1+e/2220446049250313e-31)*c,h=u-(u-c);return h>r||h!=h?l*(1/0):l*h}},20172(t,e,r){"use strict";r(41178);var n,i=r(91652),o=r(3806),a=r(28314),s=r(99466),c=r(88402),l=r(12106),u=r(82554),h=r(95160),f=r(15093),d=r(11467),p=r(6047),v=r(49470),m=r(87874),y=r(7185).codeAt,g=r(14395),b=r(48085),_=r(62005),w=r(40706),S=r(43368),E=r(19043),T=E.set,x=E.getterFor("URL"),A=S.URLSearchParams,k=S.getState,O=s.URL,C=s.TypeError,P=s.parseInt,I=Math.floor,R=Math.pow,M=l("".charAt),L=l(/./.exec),j=l([].join),D=l(1.1.toString),N=l([].pop),B=l([].push),F=l("".replace),U=l([].shift),z=l("".split),H=l("".slice),G=l("".toLowerCase),Y=l([].unshift),q="Invalid scheme",V="Invalid host",W="Invalid port",$=/[a-z]/i,K=/[\d+-.a-z]/i,Z=/\d/,X=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ot=/[\t\n\r]/g,at=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)Y(e,t%256),t=I(t/256);return j(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r?n:e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=D(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},st={},ct=p({},st,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=p({},ct,{"#":1,"?":1,"{":1,"}":1}),ut=p({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var r=y(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var r;return 2===t.length&&L($,M(t,0))&&(":"===(r=M(t,1))||!e&&"|"===r)},pt=function(t){var e;return t.length>1&&dt(H(t,0,2))&&(2===t.length||"/"===(e=M(t,2))||"\\"===e||"?"===e||"#"===e)},vt=function(t){return"."===t||"%2e"===G(t)},mt=function(t){return".."===(t=G(t))||"%2e."===t||".%2e"===t||"%2e%2e"===t},yt={},gt={},bt={},_t={},wt={},St={},Et={},Tt={},xt={},At={},kt={},Ot={},Ct={},Pt={},It={},Rt={},Mt={},Lt={},jt={},Dt={},Nt={},Bt=function(t,e,r){var n,i,o,a=b(t);if(e){if(i=this.parse(a))throw new C(i);this.searchParams=null}else{if(void 0!==r&&(n=new Bt(r,!0)),i=this.parse(a,null,n))throw new C(i);(o=k(new A)).bindURL(this),this.searchParams=o}};Bt.prototype={type:"URL",parse:function(t,e,r){var i,o,a,s,c=this,l=e||yt,u=0,h="",f=!1,p=!1,y=!1;for(t=b(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=F(t,nt,""),t=F(t,it,"$1")),t=F(t,ot,""),i=v(t);u<=i.length;){switch(o=i[u],l){case yt:if(!o||!L($,o)){if(e)return q;l=bt;continue}h+=G(o),l=gt;break;case gt:if(o&&(L(K,o)||"+"===o||"-"===o||"."===o))h+=G(o);else{if(":"!==o){if(e)return q;h="",l=bt,u=0;continue}if(e&&(c.isSpecial()!==d(ft,h)||"file"===h&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=h,e)return void(c.isSpecial()&&ft[c.scheme]===c.port&&(c.port=null));h="","file"===c.scheme?l=Pt:c.isSpecial()&&r&&r.scheme===c.scheme?l=_t:c.isSpecial()?l=Tt:"/"===i[u+1]?(l=wt,u++):(c.cannotBeABaseURL=!0,B(c.path,""),l=jt)}break;case bt:if(!r||r.cannotBeABaseURL&&"#"!==o)return q;if(r.cannotBeABaseURL&&"#"===o){c.scheme=r.scheme,c.path=m(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=Nt;break}l="file"===r.scheme?Pt:St;continue;case _t:if("/"!==o||"/"!==i[u+1]){l=St;continue}l=xt,u++;break;case wt:if("/"===o){l=At;break}l=Lt;continue;case St:if(c.scheme=r.scheme,o===n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query=r.query;else if("/"===o||"\\"===o&&c.isSpecial())l=Et;else if("?"===o)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query="",l=Dt;else{if("#"!==o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.path.length--,l=Lt;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query=r.query,c.fragment="",l=Nt}break;case Et:if(!c.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Lt;continue}l=At}else l=xt;break;case Tt:if(l=xt,"/"!==o||"/"!==M(h,u+1))continue;u++;break;case xt:if("/"!==o&&"\\"!==o){l=At;continue}break;case At:if("@"===o){f&&(h="%40"+h),f=!0,a=v(h);for(var g=0;g<a.length;g++){var _=a[g];if(":"!==_||y){var w=ht(_,ut);y?c.password+=w:c.username+=w}else y=!0}h=""}else if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(f&&""===h)return"Invalid authority";u-=v(h).length+1,h="",l=kt}else h+=o;break;case kt:case Ot:if(e&&"file"===c.scheme){l=Rt;continue}if(":"!==o||p){if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(c.isSpecial()&&""===h)return V;if(e&&""===h&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(h))return s;if(h="",l=Mt,e)return;continue}"["===o?p=!0:"]"===o&&(p=!1),h+=o}else{if(""===h)return V;if(s=c.parseHost(h))return s;if(h="",l=Ct,e===Ot)return}break;case Ct:if(!L(Z,o)){if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()||e){if(""!==h){var S=P(h,10);if(S>65535)return W;c.port=c.isSpecial()&&S===ft[c.scheme]?null:S,h=""}if(e)return;l=Mt;continue}return W}h+=o;break;case Pt:if(c.scheme="file","/"===o||"\\"===o)l=It;else{if(!r||"file"!==r.scheme){l=Lt;continue}switch(o){case n:c.host=r.host,c.path=m(r.path),c.query=r.query;break;case"?":c.host=r.host,c.path=m(r.path),c.query="",l=Dt;break;case"#":c.host=r.host,c.path=m(r.path),c.query=r.query,c.fragment="",l=Nt;break;default:pt(j(m(i,u),""))||(c.host=r.host,c.path=m(r.path),c.shortenPath()),l=Lt;continue}}break;case It:if("/"===o||"\\"===o){l=Rt;break}r&&"file"===r.scheme&&!pt(j(m(i,u),""))&&(dt(r.path[0],!0)?B(c.path,r.path[0]):c.host=r.host),l=Lt;continue;case Rt:if(o===n||"/"===o||"\\"===o||"?"===o||"#"===o){if(!e&&dt(h))l=Lt;else if(""===h){if(c.host="",e)return;l=Mt}else{if(s=c.parseHost(h))return s;if("localhost"===c.host&&(c.host=""),e)return;h="",l=Mt}continue}h+=o;break;case Mt:if(c.isSpecial()){if(l=Lt,"/"!==o&&"\\"!==o)continue}else if(e||"?"!==o)if(e||"#"!==o){if(o!==n&&(l=Lt,"/"!==o))continue}else c.fragment="",l=Nt;else c.query="",l=Dt;break;case Lt:if(o===n||"/"===o||"\\"===o&&c.isSpecial()||!e&&("?"===o||"#"===o)){if(mt(h)?(c.shortenPath(),"/"===o||"\\"===o&&c.isSpecial()||B(c.path,"")):vt(h)?"/"===o||"\\"===o&&c.isSpecial()||B(c.path,""):("file"===c.scheme&&!c.path.length&&dt(h)&&(c.host&&(c.host=""),h=M(h,0)+":"),B(c.path,h)),h="","file"===c.scheme&&(o===n||"?"===o||"#"===o))for(;c.path.length>1&&""===c.path[0];)U(c.path);"?"===o?(c.query="",l=Dt):"#"===o&&(c.fragment="",l=Nt)}else h+=ht(o,lt);break;case jt:"?"===o?(c.query="",l=Dt):"#"===o?(c.fragment="",l=Nt):o!==n&&(c.path[0]+=ht(o,st));break;case Dt:e||"#"!==o?o!==n&&("'"===o&&c.isSpecial()?c.query+="%27":c.query+="#"===o?"%23":ht(o,st)):(c.fragment="",l=Nt);break;case Nt:o!==n&&(c.fragment+=ht(o,ct))}u++}},parseHost:function(t){var e,r,n;if("["===M(t,0)){if("]"!==M(t,t.length-1))return V;if(e=function(t){var e,r,n,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,h=0,f=function(){return M(t,h)};if(":"===f()){if(":"!==M(t,1))return;h+=2,u=++l}for(;f();){if(8===l)return;if(":"!==f()){for(e=r=0;r<4&&L(tt,f());)e=16*e+P(f(),16),h++,r++;if("."===f()){if(0===r)return;if(h-=r,l>6)return;for(n=0;f();){if(i=null,n>0){if(!("."===f()&&n<4))return;h++}if(!L(Z,f()))return;for(;L(Z,f());){if(o=P(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;h++}c[l]=256*c[l]+i,2!==++n&&4!==n||l++}if(4!==n)return;break}if(":"===f()){if(h++,!f())return}else if(f())return;c[l++]=e}else{if(null!==u)return;h++,u=++l}}if(null!==u)for(a=l-u,l=7;0!==l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!==l)return;return c}(H(t,1,-1)),!e)return V;this.host=e}else if(this.isSpecial()){if(t=g(t),L(et,t))return V;if(e=function(t){var e,r,n,i,o,a,s,c=z(t,".");if(c.length&&""===c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(i=c[n]))return t;if(o=10,i.length>1&&"0"===M(i,0)&&(o=L(X,i)?16:8,i=H(i,8===o?1:2)),""===i)a=0;else{if(!L(10===o?Q:8===o?J:tt,i))return t;a=P(i,o)}B(r,a)}for(n=0;n<e;n++)if(a=r[n],n===e-1){if(a>=R(256,5-e))return null}else if(a>255)return null;for(s=N(r),n=0;n<r.length;n++)s+=r[n]*R(256,3-n);return s}(t),null===e)return V;this.host=e}else{if(L(rt,t))return V;for(e="",r=v(t),n=0;n<r.length;n++)e+=ht(r[n],st);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==i?(l+="//",t.includesCredentials()&&(l+=r+(n?":"+n:"")+"@"),l+=at(i),null!==o&&(l+=":"+o)):"file"===e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+j(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(t){var e=this.parse(t);if(e)throw new C(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Ft(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+at(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",yt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ht(e[r],ut)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ht(e[r],ut)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?at(t):at(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,kt)},getHostname:function(){var t=this.host;return null===t?"":at(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ot)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=b(t))?this.port=null:this.parse(t,Ct))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+j(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Mt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=b(t))?this.query=null:("?"===M(t,0)&&(t=H(t,1)),this.query="",this.parse(t,Dt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=b(t))?("#"===M(t,0)&&(t=H(t,1)),this.fragment="",this.parse(t,Nt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ft=function(t){var e=f(this,Ut),r=w(arguments.length,1)>1?arguments[1]:void 0,n=T(e,new Bt(t,!1,r));o||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Ut=Ft.prototype,zt=function(t,e){return{get:function(){return x(this)[t]()},set:e&&function(t){return x(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(h(Ut,"href",zt("serialize","setHref")),h(Ut,"origin",zt("getOrigin")),h(Ut,"protocol",zt("getProtocol","setProtocol")),h(Ut,"username",zt("getUsername","setUsername")),h(Ut,"password",zt("getPassword","setPassword")),h(Ut,"host",zt("getHost","setHost")),h(Ut,"hostname",zt("getHostname","setHostname")),h(Ut,"port",zt("getPort","setPort")),h(Ut,"pathname",zt("getPathname","setPathname")),h(Ut,"search",zt("getSearch","setSearch")),h(Ut,"searchParams",zt("getSearchParams")),h(Ut,"hash",zt("getHash","setHash"))),u(Ut,"toJSON",function(){return x(this).serialize()},{enumerable:!0}),u(Ut,"toString",function(){return x(this).serialize()},{enumerable:!0}),O){var Ht=O.createObjectURL,Gt=O.revokeObjectURL;Ht&&u(Ft,"createObjectURL",c(Ht,O)),Gt&&u(Ft,"revokeObjectURL",c(Gt,O))}_(Ft,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Ft})},20177(t,e,r){"use strict";var n=r(99466),i=r(91787);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},20229(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},20366(t,e,r){"use strict";var n=r(3806),i=r(50265),o=r(59637),a=r(85361),s=Error.prototype.toString,c=i(function(){if(n){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==s.call(t))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})});t.exports=c?function(){var t=o(this),e=a(t.name,"Error"),r=a(t.message);return e?r?e+": "+r:e:r}:s},20730(t,e,r){"use strict";var n=r(93534),i=r(2896),o=r(31821),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",function(t){var e=a(this),r=i(e),n=o(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]})},21039(t){"use strict";t.exports=function(t){return null==t}},21087(t,e,r){"use strict";var n=r(20177),i=r(91787),o=r(8367),a=r(99134),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,s(t))}},21187(t,e,r){"use strict";var n=r(99466),i=r(70639),o=r(93534),a=r(2896),s=r(34483),c=r(72139),l=r(50265),u=n.RangeError,h=n.Int8Array,f=h&&h.prototype,d=f&&f.set,p=o.aTypedArray,v=o.exportTypedArrayMethod,m=!l(function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]}),y=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&l(function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]});v("set",function(t){p(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=c(t);if(m)return i(d,this,r,e);var n=this.length,o=a(r),l=0;if(o+e>n)throw new u("Wrong length");for(;l<o;)this[e+l]=r[l++]},!m||y)},21289(t,e,r){"use strict";var n=r(99466),i=r(51544),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},21767(t,e,r){"use strict";var n=r(91652),i=r(29507).find,o=r(68423),a="find",s=!0;a in[]&&Array(1)[a](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},22559(t,e,r){t.exports=function(t,e,r){"use strict";const n=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",i=".sticky-top",o="padding-right",a="margin-right";class s{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,o,e=>e+t),this._setElementAttributes(n,o,e=>e+t),this._setElementAttributes(i,a,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,o),this._resetElementAttributes(n,o),this._resetElementAttributes(i,a)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){const n=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${r(Number.parseFloat(i))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(e,r){const n=e.style.getPropertyValue(r);n&&t.setDataAttribute(e,r,n)}_resetElementAttributes(e,r){const n=e=>{const n=t.getDataAttribute(e,r);null!==n?(t.removeDataAttribute(e,r),e.style.setProperty(r,n)):e.style.removeProperty(r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(t,n){if(r.isElement(t))n(t);else for(const r of e.find(t,this._element))n(r)}}return s}(r(17575),r(82613),r(35429))},22621(t){"use strict";var e=TypeError;t.exports=function(t){if("string"==typeof t)return t;throw new e("Argument is not a string")}},22935(t,e,r){"use strict";var n=r(83328).PROPER,i=r(82554),o=r(59637),a=r(48085),s=r(50265),c=r(60120),l="toString",u=RegExp.prototype,h=u[l],f=s(function(){return"/a/b"!==h.call({source:"a",flags:"b"})}),d=n&&h.name!==l;(f||d)&&i(u,l,function(){var t=o(this);return"/"+a(t.source)+"/"+a(c(t))},{unsafe:!0})},22962(t,e,r){"use strict";var n=r(11269);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},23442(t,e,r){"use strict";var n=r(88402),i=r(70639),o=r(59637),a=r(74185),s=r(50051),c=r(2896),l=r(8367),u=r(36903),h=r(77481),f=r(71905),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,r){var m,y,g,b,_,w,S,E=r&&r.that,T=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_RECORD),A=!(!r||!r.IS_ITERATOR),k=!(!r||!r.INTERRUPTED),O=n(e,E),C=function(t){return m&&f(m,"normal"),new p(!0,t)},P=function(t){return T?(o(t),k?O(t[0],t[1],C):O(t[0],t[1])):k?O(t,C):O(t)};if(x)m=t.iterator;else if(A)m=t;else{if(!(y=h(t)))throw new d(a(t)+" is not iterable");if(s(y)){for(g=0,b=c(t);b>g;g++)if((_=P(t[g]))&&l(v,_))return _;return new p(!1)}m=u(t,y)}for(w=x?t.next:m.next;!(S=i(w,m)).done;){try{_=P(S.value)}catch(t){f(m,"throw",t)}if("object"==typeof _&&_&&l(v,_))return _}return new p(!1)}},23517(t,e,r){"use strict";var n=r(91652),i=r(36613),o=r(57632),a=r(50265),s=r(20177),c=r(91787),l=r(79235),u=r(24924),h=r(82554),f=o&&o.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=l(this,s("Promise")),r=c(t);return this.then(r?function(r){return u(e,t()).then(function(){return r})}:t,r?function(r){return u(e,t()).then(function(){throw r})}:t)}}),!i&&c(o)){var d=s("Promise").prototype.finally;f.finally!==d&&h(f,"finally",d,{unsafe:!0})}},23632(t,e,r){"use strict";var n=r(40257),i=TypeError;t.exports=function(t){if("Uint8Array"===n(t))return t;throw new i("Argument is not an Uint8Array")}},23903(t,e,r){"use strict";var n=r(51544);t.exports=function(t){return n(t)||null===t}},24142(t,e,r){"use strict";var n=r(59637),i=r(70236),o=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},24664(t,e,r){"use strict";var n=r(91652),i=r(55970),o=r(64607),a=r(51544),s=r(48880),c=r(2896),l=r(57103),u=r(44366),h=r(58993),f=r(87987),d=r(87874),p=f("slice"),v=h("species"),m=Array,y=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var r,n,h,f=l(this),p=c(f),g=s(t,p),b=s(void 0===e?p:e,p);if(i(f)&&(r=f.constructor,(o(r)&&(r===m||i(r.prototype))||a(r)&&null===(r=r[v]))&&(r=void 0),r===m||void 0===r))return d(f,g,b);for(n=new(void 0===r?m:r)(y(b-g,0)),h=0;g<b;g++,h++)g in f&&u(n,h,f[g]);return n.length=h,n}})},24924(t,e,r){"use strict";var n=r(59637),i=r(51544),o=r(75477);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},25112(t,e,r){"use strict";var n=r(91652),i=r(12106),o=r(99673),a=r(57103),s=r(69312),c=i([].join);n({target:"Array",proto:!0,forced:o!==Object||!s("join",",")},{join:function(t){return c(a(this),void 0===t?",":t)}})},26199(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(79224),a=r(59637),s=r(58985),c=r(71044),l=r(73605),u=r(36613),h=r(71905),f=r(28798),d=r(45059),p=!u&&!f("filter",function(){}),v=!u&&!p&&d("filter",TypeError),m=u||p||v,y=c(function(){for(var t,e,r=this.iterator,n=this.predicate,o=this.next;;){if(t=a(i(o,r)),this.done=!!t.done)return;if(e=t.value,l(r,n,[e,this.counter++],!0))return e}});n({target:"Iterator",proto:!0,real:!0,forced:m},{filter:function(t){a(this);try{o(t)}catch(t){h(this,"throw",t)}return v?i(v,this,t):new y(s(this),{predicate:t})}})},26312(t,e,r){"use strict";var n=r(91652),i=r(82081),o=r(79224),a=r(72139),s=r(2896),c=r(71591);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=a(this),n=s(r);return o(t),(e=c(r,0)).length=i(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},26521(t,e,r){"use strict";var n=r(51544),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},27002(t,e,r){"use strict";var n=r(20177),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},o=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var r=n("Set");try{(new r)[t](i(0));try{return(new r)[t](i(-1)),!1}catch(n){if(!e)return!0;try{return(new r)[t](o(-1/0)),!1}catch(n){return e(new r([1,2])[t](o(1/0)))}}}catch(t){return!1}}},27068(t,e,r){"use strict";var n=r(74185),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},27329(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(92714),a=r(13664),s=r(37007),c=r(58400),l=r(73556),u=r(48085),h=r(59637),f=r(51544),d=r(50286),p=r(52946),v=r(60120),m=r(54996),y=r(82554),g=r(50265),b=r(58993),_=r(79235),w=r(70275),S=r(87772),E=r(19043),T=r(36613),x=b("matchAll"),A="RegExp String",k=A+" Iterator",O=E.set,C=E.getterFor(k),P=RegExp.prototype,I=TypeError,R=o("".indexOf),M=o("".matchAll),L=!!M&&!g(function(){M("a",/./)}),j=a(function(t,e,r,n){O(this,{type:k,regexp:t,string:e,global:r,unicode:n,done:!1})},A,function(){var t=C(this);if(t.done)return s(void 0,!0);var e=t.regexp,r=t.string,n=S(e,r);return null===n?(t.done=!0,s(void 0,!0)):t.global?(""===u(n[0])&&(e.lastIndex=w(r,l(e.lastIndex),t.unicode)),s(n,!1)):(t.done=!0,s(n,!1))}),D=function(t){var e,r,n,i=h(this),o=u(t),a=_(i,RegExp),s=u(v(i));return e=new a(a===RegExp?i.source:i,s),r=!!~R(s,"g"),n=!!~R(s,"u"),e.lastIndex=l(i.lastIndex),new j(e,o,r,n)};n({target:"String",proto:!0,forced:L},{matchAll:function(t){var e,r,n,o,a=c(this);if(f(t)){if(p(t)&&(e=u(c(v(t))),!~R(e,"g")))throw new I("`.matchAll` does not allow non-global regexes");if(L)return M(a,t);if(void 0===(n=m(t,x))&&T&&"RegExp"===d(t)&&(n=D),n)return i(n,t,a)}else if(L)return M(a,t);return r=u(a),o=new RegExp(t,"g"),T?i(D,o,r):o[x](r)}}),T||x in P||y(P,x,D)},27565(t,e,r){"use strict";var n=r(59637);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},27649(t,e,r){"use strict";var n,i,o=r(70639),a=r(12106),s=r(48085),c=r(27565),l=r(1179),u=r(57495),h=r(72330),f=r(19043).get,d=r(90717),p=r(82416),v=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,g=a("".charAt),b=a("".indexOf),_=a("".replace),w=a("".slice),S=(i=/b*/g,o(m,n=/a/,"a"),o(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),E=l.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(S||T||E||d||p)&&(y=function(t){var e,r,n,i,a,l,u,d=this,p=f(d),x=s(t),A=p.raw;if(A)return A.lastIndex=d.lastIndex,e=o(y,A,x),d.lastIndex=A.lastIndex,e;var k=p.groups,O=E&&d.sticky,C=o(c,d),P=d.source,I=0,R=x;if(O&&(C=_(C,"y",""),-1===b(C,"g")&&(C+="g"),R=w(x,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==g(x,d.lastIndex-1))&&(P="(?: "+P+")",R=" "+R,I++),r=new RegExp("^(?:"+P+")",C)),T&&(r=new RegExp("^"+P+"$(?!\\s)",C)),S&&(n=d.lastIndex),i=o(m,O?r:d,R),O?i?(i.input=w(i.input,I),i[0]=w(i[0],I),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:S&&i&&(d.lastIndex=d.global?i.index+i[0].length:n),T&&i&&i.length>1&&o(v,i[0],r,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)}),i&&k)for(i.groups=l=h(null),a=0;a<k.length;a++)l[(u=k[a])[0]]=i[u[1]];return i}),t.exports=y},28314(t,e,r){"use strict";var n=r(50265),i=r(58993),o=r(3806),a=r(36613),s=i("iterator");t.exports=!n(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(t,r){e.delete("b"),n+=r+t}),r.delete("a",2),r.delete("b",void 0),a&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(a||!o)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host})},28507(t,e,r){"use strict";var n=r(84098),i=r(93534),o=r(84485),a=r(31821),s=r(61716),c=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,h=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),f=h&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();u("with",{with:function(t,e){var r=c(this),i=a(t),u=o(r)?s(e):+e;return n(r,l(r),i,u)}}.with,!h||f)},28545(t,e,r){"use strict";var n=r(91652),i=r(20177),o=r(459),a=r(50265),s=r(72330),c=r(61994),l=r(20011).f,u=r(82554),h=r(95160),f=r(11467),d=r(15093),p=r(59637),v=r(20366),m=r(85361),y=r(50340),g=r(56687),b=r(19043),_=r(3806),w=r(36613),S="DOMException",E="DATA_CLONE_ERR",T=i("Error"),x=i(S)||function(){try{(new(i("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===E&&25===t.code)return t.constructor}}(),A=x&&x.prototype,k=T.prototype,O=b.set,C=b.getterFor(S),P="stack"in new T(S),I=function(t){return f(y,t)&&y[t].m?y[t].c:0},R=function(){d(this,M);var t=arguments.length,e=m(t<1?void 0:arguments[0]),r=m(t<2?void 0:arguments[1],"Error"),n=I(r);if(O(this,{type:S,name:r,message:e,code:n}),_||(this.name=r,this.message=e,this.code=n),P){var i=new T(e);i.name=S,l(this,"stack",c(1,g(i.stack,1)))}},M=R.prototype=s(k),L=function(t){return{enumerable:!0,configurable:!0,get:t}},j=function(t){return L(function(){return C(this)[t]})};_&&(h(M,"code",j("code")),h(M,"message",j("message")),h(M,"name",j("name"))),l(M,"constructor",c(1,R));var D=a(function(){return!(new x instanceof T)}),N=D||a(function(){return k.toString!==v||"2: 1"!==String(new x(1,2))}),B=D||a(function(){return 25!==new x(1,"DataCloneError").code}),F=D||25!==x[E]||25!==A[E],U=w?N||B||F:D;n({global:!0,constructor:!0,forced:U},{DOMException:U?R:x});var z=i(S),H=z.prototype;for(var G in N&&(w||x===z)&&u(H,"toString",v),B&&_&&x===z&&h(H,"code",L(function(){return I(p(this).name)})),y)if(f(y,G)){var Y=y[G],q=Y.s,V=c(6,Y.c);f(z,q)||l(z,q,V),f(H,q)||l(H,q,V)}},28651(t,e,r){var n;t.exports=(n=r(19959),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),c[i]=r(t.pow(n,1/3)),i++),n++}();var l=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],h=r[6],f=r[7],d=0;d<64;d++){if(d<16)l[d]=0|t[e+d];else{var p=l[d-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=l[d-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[d]=v+l[d-7]+y+l[d-16]}var g=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&h)+c[d]+l[d];f=h,h=u,u=s,s=a+_|0,a=o,o=i,i=n,n=_+(b+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+h|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)},28798(t){"use strict";t.exports=function(t,e){var r="function"==typeof Iterator&&Iterator.prototype[t];if(r)try{r.call({next:null},e).next()}catch(t){return!0}}},28922(t,e,r){t.exports=function(t,e,r){"use strict";const n="focustrap",i=".bs.focustrap",o=`focusin${i}`,a=`keydown.tab${i}`,s="Tab",c="forward",l="backward",u={autofocus:!0,trapElement:null},h={autofocus:"boolean",trapElement:"element"};class f extends r{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return u}static get DefaultType(){return h}static get NAME(){return n}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),t.off(document,i),t.on(document,o,t=>this._handleFocusin(t)),t.on(document,a,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,t.off(document,i))}_handleFocusin(t){const{trapElement:r}=this._config;if(t.target===document||t.target===r||r.contains(t.target))return;const n=e.focusableChildren(r);0===n.length?r.focus():this._lastTabNavDirection===l?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===s&&(this._lastTabNavDirection=t.shiftKey?l:c)}}return f}(r(67922),r(82613),r(5415))},29193(t,e,r){"use strict";var n=r(3806),i=r(55970),o=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},29455(t,e,r){"use strict";var n=r(91652),i=r(20177),o=r(49675),a=r(88692),s=r(30806),c=r(59637),l=r(51544),u=r(72330),h=r(50265),f=i("Reflect","construct"),d=Object.prototype,p=[].push,v=h(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),m=!h(function(){f(function(){})}),y=v||m;n({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),c(e);var r=arguments.length<3?t:s(arguments[2]);if(m&&!v)return f(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return o(p,n,e),new(o(a,t,n))}var i=r.prototype,h=u(l(i)?i:d),y=o(t,h,e);return l(y)?y:h}})},29507(t,e,r){"use strict";var n=r(88402),i=r(12106),o=r(99673),a=r(72139),s=r(2896),c=r(71591),l=i([].push),u=function(t){var e=1===t,r=2===t,i=3===t,u=4===t,h=6===t,f=7===t,d=5===t||h;return function(p,v,m,y){for(var g,b,_=a(p),w=o(_),S=s(w),E=n(v,m),T=0,x=y||c,A=e?x(p,S):r||f?x(p,0):void 0;S>T;T++)if((d||T in w)&&(b=E(g=w[T],T,_),t))if(e)A[T]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return T;case 2:l(A,g)}else switch(t){case 4:return!1;case 7:l(A,g)}return h?-1:i||u?u:A}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},30806(t,e,r){"use strict";var n=r(64607),i=r(74185),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a constructor")}},31024(t,e,r){"use strict";var n=r(52870),i=r(43524),o=r(67191),a=r(16235);t.exports=function(t){var e=n(this),r=a(t);return!(i(e)>r.size)&&!1!==o(e,function(t){if(!r.includes(t))return!1},!0)}},31181(t,e,r){"use strict";var n=r(50265),i=r(61994);t.exports=!n(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)})},31809(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(70639),a=r(3806),s=r(80763),c=r(93534),l=r(31872),u=r(15093),h=r(61994),f=r(3693),d=r(26521),p=r(73556),v=r(45814),m=r(34483),y=r(53561),g=r(52519),b=r(11467),_=r(40257),w=r(51544),S=r(21087),E=r(72330),T=r(8367),x=r(40017),A=r(52438).f,k=r(67301),O=r(29507).forEach,C=r(6419),P=r(95160),I=r(20011),R=r(56065),M=r(51712),L=r(19043),j=r(10957),D=L.get,N=L.set,B=L.enforce,F=I.f,U=R.f,z=i.RangeError,H=l.ArrayBuffer,G=H.prototype,Y=l.DataView,q=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_TAG,W=c.TypedArray,$=c.TypedArrayPrototype,K=c.isTypedArray,Z="BYTES_PER_ELEMENT",X="Wrong length",J=function(t,e){P(t,e,{configurable:!0,get:function(){return D(this)[e]}})},Q=function(t){var e;return T(G,t)||"ArrayBuffer"===(e=_(t))||"SharedArrayBuffer"===e},tt=function(t,e){return K(t)&&!S(e)&&e in t&&d(+e)&&e>=0},et=function(t,e){return e=g(e),tt(t,e)?h(2,t[e]):U(t,e)},rt=function(t,e,r){return e=g(e),!(tt(t,e)&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?F(t,e,r):(t[e]=r.value,t)};a?(q||(R.f=et,I.f=rt,J($,"buffer"),J($,"byteOffset"),J($,"byteLength"),J($,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:et,defineProperty:rt}),t.exports=function(t,e,r){var a=t.match(/\d+/)[0]/8,c=t+(r?"Clamped":"")+"Array",l="get"+t,h="set"+t,d=i[c],g=d,b=g&&g.prototype,_={},S=function(t,e){F(t,e,{get:function(){return function(t,e){var r=D(t);return r.view[l](e*a+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=D(t);i.view[h](e*a+i.byteOffset,r?y(n):n,!0)}(this,e,t)},enumerable:!0})};q?s&&(g=e(function(t,e,r,n){return u(t,b),j(w(e)?Q(e)?void 0!==n?new d(e,m(r,a),n):void 0!==r?new d(e,m(r,a)):new d(e):K(e)?M(g,e):o(k,g,e):new d(v(e)),t,g)}),x&&x(g,W),O(A(d),function(t){t in g||f(g,t,d[t])}),g.prototype=b):(g=e(function(t,e,r,n){u(t,b);var i,s,c,l=0,h=0;if(w(e)){if(!Q(e))return K(e)?M(g,e):o(k,g,e);i=e,h=m(r,a);var f=e.byteLength;if(void 0===n){if(f%a)throw new z(X);if((s=f-h)<0)throw new z(X)}else if((s=p(n)*a)+h>f)throw new z(X);c=s/a}else c=v(e),i=new H(s=c*a);for(N(t,{buffer:i,byteOffset:h,byteLength:s,length:c,view:new Y(i)});l<c;)S(t,l++)}),x&&x(g,W),b=g.prototype=E($)),b.constructor!==g&&f(b,"constructor",g),B(b).TypedArrayConstructor=g,V&&f(b,V,c);var T=g!==d;_[c]=g,n({global:!0,constructor:!0,forced:T,sham:!q},_),Z in g||f(g,Z,a),Z in b||f(b,Z,a),C(c)}):t.exports=function(){}},31821(t,e,r){"use strict";var n=r(88871);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},31872(t,e,r){"use strict";var n=r(99466),i=r(12106),o=r(3806),a=r(95057),s=r(83328),c=r(3693),l=r(95160),u=r(32073),h=r(50265),f=r(15093),d=r(31821),p=r(73556),v=r(45814),m=r(15075),y=r(63728),g=r(3421),b=r(40017),_=r(13295),w=r(87874),S=r(10957),E=r(35670),T=r(62005),x=r(19043),A=s.PROPER,k=s.CONFIGURABLE,O="ArrayBuffer",C="DataView",P="prototype",I="Wrong index",R=x.getterFor(O),M=x.getterFor(C),L=x.set,j=n[O],D=j,N=D&&D[P],B=n[C],F=B&&B[P],U=Object.prototype,z=n.Array,H=n.RangeError,G=i(_),Y=i([].reverse),q=y.pack,V=y.unpack,W=function(t){return[255&t]},$=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Z=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return q(m(t),23,4)},J=function(t){return q(t,52,8)},Q=function(t,e,r){l(t[P],e,{configurable:!0,get:function(){return r(this)[e]}})},tt=function(t,e,r,n){var i=M(t),o=v(r),a=!!n;if(o+e>i.byteLength)throw new H(I);var s=i.bytes,c=o+i.byteOffset,l=w(s,c,c+e);return a?l:Y(l)},et=function(t,e,r,n,i,o){var a=M(t),s=v(r),c=n(+i),l=!!o;if(s+e>a.byteLength)throw new H(I);for(var u=a.bytes,h=s+a.byteOffset,f=0;f<e;f++)u[h+f]=c[l?f:e-f-1]};if(a){var rt=A&&j.name!==O;h(function(){j(1)})&&h(function(){new j(-1)})&&!h(function(){return new j,new j(1.5),new j(NaN),1!==j.length||rt&&!k})?rt&&k&&c(j,"name",O):((D=function(t){return f(this,N),S(new j(v(t)),this,D)})[P]=N,N.constructor=D,E(D,j)),b&&g(F)!==U&&b(F,U);var nt=new B(new D(2)),it=i(F.setInt8);nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||u(F,{setInt8:function(t,e){it(this,t,e<<24>>24)},setUint8:function(t,e){it(this,t,e<<24>>24)}},{unsafe:!0})}else N=(D=function(t){f(this,N);var e=v(t);L(this,{type:O,bytes:G(z(e),0),byteLength:e}),o||(this.byteLength=e,this.detached=!1)})[P],F=(B=function(t,e,r){f(this,F),f(t,N);var n=R(t),i=n.byteLength,a=d(e);if(a<0||a>i)throw new H("Wrong offset");if(a+(r=void 0===r?i-a:p(r))>i)throw new H("Wrong length");L(this,{type:C,buffer:t,byteLength:r,byteOffset:a,bytes:n.bytes}),o||(this.buffer=t,this.byteLength=r,this.byteOffset=a)})[P],o&&(Q(D,"byteLength",R),Q(B,"buffer",M),Q(B,"byteLength",M),Q(B,"byteOffset",M)),u(F,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return Z(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return Z(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return V(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return V(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){et(this,1,t,W,e)},setUint8:function(t,e){et(this,1,t,W,e)},setInt16:function(t,e){et(this,2,t,$,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){et(this,2,t,$,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){et(this,4,t,X,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){et(this,8,t,J,e,arguments.length>2&&arguments[2])}});T(D,O),T(B,C),t.exports={ArrayBuffer:D,DataView:B}},31956(t,e,r){"use strict";var n=r(83328).PROPER,i=r(50265),o=r(42046);t.exports=function(t){return i(function(){return!!o[t]()||""!==""[t]()||n&&o[t].name!==t})}},32022(t){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"+/",n=e+"-_",i=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e};t.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},32035(t,e,r){"use strict";var n=r(91652),i=r(75373),o=r(50265),a=r(42891),s=r(72139);n({target:"Object",stat:!0,forced:!i||o(function(){a.f(1)})},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},32073(t,e,r){"use strict";var n=r(82554);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},32336(t,e,r){"use strict";var n=r(12106),i=r(58400),o=r(48085),a=r(42046),s=n("".replace),c=RegExp("^["+a+"]+"),l=RegExp("(^|[^"+a+"])["+a+"]+$"),u=function(t){return function(e){var r=o(i(e));return 1&t&&(r=s(r,c,"")),2&t&&(r=s(r,l,"$1")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},32649(t,e,r){"use strict";var n,i,o,a,s,c=r(99466),l=r(44475),u=r(88402),h=r(66543).set,f=r(38147),d=r(22962),p=r(69039),v=r(9342),m=r(88423),y=c.MutationObserver||c.WebKitMutationObserver,g=c.document,b=c.process,_=c.Promise,w=l("queueMicrotask");if(!w){var S=new f,E=function(){var t,e;for(m&&(t=b.domain)&&t.exit();e=S.get();)try{e()}catch(t){throw S.head&&n(),t}t&&t.enter()};d||m||v||!y||!g?!p&&_&&_.resolve?((a=_.resolve(void 0)).constructor=_,s=u(a.then,a),n=function(){s(E)}):m?n=function(){b.nextTick(E)}:(h=u(h,c),n=function(){h(E)}):(i=!0,o=g.createTextNode(""),new y(E).observe(o,{characterData:!0}),n=function(){o.data=i=!i}),w=function(t){S.head||n(),S.add(t)}}t.exports=w},33108(t,e,r){"use strict";var n=r(79224),i=r(72139),o=r(99673),a=r(2896),s=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,r,l,u){var h=i(e),f=o(h),d=a(h);if(n(r),0===d&&l<2)throw new s(c);var p=t?d-1:0,v=t?-1:1;if(l<2)for(;;){if(p in f){u=f[p],p+=v;break}if(p+=v,t?p<0:d<=p)throw new s(c)}for(;t?p>=0:d>p;p+=v)p in f&&(u=r(u,f[p],p,h));return u}};t.exports={left:l(!1),right:l(!0)}},34117(t,e,r){"use strict";var n=r(91652),i=r(50265),o=r(72139),a=r(3421),s=r(96785);n({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},34483(t,e,r){"use strict";var n=r(9828),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw new i("Wrong offset");return r}},34658(t,e,r){"use strict";r(26199)},34975(t,e,r){"use strict";var n=r(72139),i=r(48880),o=r(2896),a=r(27068),s=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),c=o(r),l=i(t,c),u=i(e,c),h=arguments.length>2?arguments[2]:void 0,f=s((void 0===h?c:i(h,c))-u,c-l),d=1;for(u<l&&l<u+f&&(d=-1,u+=f-1,l+=f-1);f-- >0;)u in r?r[l]=r[u]:a(r,l),l+=d,u+=d;return r}},35024(t,e,r){"use strict";var n=r(91652),i=r(72139),o=r(48880),a=r(31821),s=r(2896),c=r(29193),l=r(90675),u=r(71591),h=r(44366),f=r(27068),d=r(87987)("splice"),p=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,n,d,m,y,g,b=i(this),_=s(b),w=o(t,_),S=arguments.length;for(0===S?r=n=0:1===S?(r=0,n=_-w):(r=S-2,n=v(p(a(e),0),_-w)),l(_+r-n),d=u(b,n),m=0;m<n;m++)(y=w+m)in b&&h(d,m,b[y]);if(d.length=n,r<n){for(m=w;m<_-n;m++)g=m+r,(y=m+n)in b?b[g]=b[y]:f(b,g);for(m=_;m>_-n+r;m--)f(b,m-1)}else if(r>n)for(m=_-n;m>w;m--)g=m+r-1,(y=m+n-1)in b?b[g]=b[y]:f(b,g);for(m=0;m<r;m++)b[m+w]=arguments[m+2];return c(b,_-n+r),d}})},35231(t,e,r){"use strict";var n=r(91652),i=r(75477);n({target:"Promise",stat:!0,forced:r(73486).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},35266(t,e,r){"use strict";var n=r(70639),i=r(12106),o=r(92318),a=r(59637),s=r(51544),c=r(58400),l=r(79235),u=r(70275),h=r(73556),f=r(48085),d=r(54996),p=r(87772),v=r(1179),m=r(50265),y=v.UNSUPPORTED_Y,g=Math.min,b=i([].push),_=i("".slice),w=!m(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),S="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",function(t,e,r){var i="0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n(e,this,t,r)}:e;return[function(e,r){var o=c(this),a=s(e)?d(e,t):void 0;return a?n(a,e,o,r):n(i,f(o),e,r)},function(t,n){var o=a(this),s=f(t);if(!S){var c=r(i,o,s,n,i!==e);if(c.done)return c.value}var d=l(o,RegExp),v=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(y?"g":"y"),w=new d(y?"^(?:"+o.source+")":o,m),E=void 0===n?4294967295:n>>>0;if(0===E)return[];if(0===s.length)return null===p(w,s)?[s]:[];for(var T=0,x=0,A=[];x<s.length;){w.lastIndex=y?0:x;var k,O=p(w,y?_(s,x):s);if(null===O||(k=g(h(w.lastIndex+(y?x:0)),s.length))===T)x=u(s,x,v);else{if(b(A,_(s,T,x)),A.length===E)return A;for(var C=1;C<=O.length-1;C++)if(b(A,O[C]),A.length===E)return A;x=T=k}}return b(A,_(s,T)),A}]},S||!w,y)},35429(t,e){!function(t){"use strict";const e=1e6,r=1e3,n="transitionend",i=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),o=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),a=t=>{do{t+=Math.floor(Math.random()*e)}while(document.getElementById(t));return t},s=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return i||o?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*r):0},c=t=>{t.dispatchEvent(new Event(n))},l=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),u=t=>l(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(i(t)):null,h=t=>{if(!l(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),r=t.closest("details:not([open])");if(!r)return e;if(r!==t){const e=t.closest("summary");if(e&&e.parentNode!==r)return!1;if(null===e)return!1}return e},f=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),d=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?d(t.parentNode):null},p=()=>{},v=t=>{t.offsetHeight},m=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],g=t=>{"loading"===document.readyState?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of y)t()}),y.push(t)):t()},b=()=>"rtl"===document.documentElement.dir,_=t=>{g(()=>{const e=m();if(e){const r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}})},w=(t,e=[],r=t)=>"function"==typeof t?t.call(...e):r,S=(t,e,r=!0)=>{if(!r)return void w(t);const i=5,o=s(e)+i;let a=!1;const l=({target:r})=>{r===e&&(a=!0,e.removeEventListener(n,l),w(t))};e.addEventListener(n,l),setTimeout(()=>{a||c(e)},o)},E=(t,e,r,n)=>{const i=t.length;let o=t.indexOf(e);return-1===o?!r&&n?t[i-1]:t[0]:(o+=r?1:-1,n&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])};t.defineJQueryPlugin=_,t.execute=w,t.executeAfterTransition=S,t.findShadowRoot=d,t.getElement=u,t.getNextActiveElement=E,t.getTransitionDurationFromElement=s,t.getUID=a,t.getjQuery=m,t.isDisabled=f,t.isElement=l,t.isRTL=b,t.isVisible=h,t.noop=p,t.onDOMContentLoaded=g,t.parseSelector=i,t.reflow=v,t.toType=o,t.triggerTransitionEnd=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e)},35498(t,e,r){"use strict";var n=r(50265),i=r(91787),o=/#|\.prototype\./,a=function(t,e){var r=c[s(t)];return r===u||r!==l&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},35670(t,e,r){"use strict";var n=r(11467),i=r(89049),o=r(56065),a=r(20011);t.exports=function(t,e,r){for(var s=i(e),c=a.f,l=o.f,u=0;u<s.length;u++){var h=s[u];n(t,h)||r&&n(r,h)||c(t,h,l(e,h))}}},36208(t,e,r){"use strict";var n=r(51544),i=r(19043).get;t.exports=function(t){if(!n(t))return!1;var e=i(t);return!!e&&"RawJSON"===e.type}},36613(t){"use strict";t.exports=!1},36903(t,e,r){"use strict";var n=r(70639),i=r(79224),o=r(59637),a=r(74185),s=r(77481),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?s(t):e;if(i(r))return o(n(r,t));throw new c(a(t)+" is not iterable")}},37007(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},37734(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(12106),a=r(35498),s=r(82554),c=r(92649),l=r(23442),u=r(15093),h=r(91787),f=r(21039),d=r(51544),p=r(50265),v=r(8210),m=r(62005),y=r(10957);t.exports=function(t,e,r){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),_=g?"set":"add",w=i[t],S=w&&w.prototype,E=w,T={},x=function(t){var e=o(S[t]);s(S,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!d(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(a(t,!h(w)||!(b||S.forEach&&!p(function(){(new w).entries().next()}))))E=r.getConstructor(e,t,g,_),c.enable();else if(a(t,!0)){var A=new E,k=A[_](b?{}:-0,1)!==A,O=p(function(){A.has(1)}),C=v(function(t){new w(t)}),P=!b&&p(function(){for(var t=new w,e=5;e--;)t[_](e,e);return!t.has(-0)});C||((E=e(function(t,e){u(t,S);var r=y(new w,t,E);return f(e)||l(e,r[_],{that:r,AS_ENTRIES:g}),r})).prototype=S,S.constructor=E),(O||P)&&(x("delete"),x("has"),g&&x("get")),(P||k)&&x(_),b&&S.clear&&delete S.clear}return T[t]=E,n({global:!0,constructor:!0,forced:E!==w},T),m(E,t),b||r.setStrong(E,t,g),E}},38147(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},38263(t,e,r){"use strict";var n=r(36613),i=r(99466),o=r(20015),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.47.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})},38517(t,e,r){"use strict";var n=r(11269);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},38717(t,e,r){"use strict";var n=r(52946),i=TypeError;t.exports=function(t){if(n(t))throw new i("The method doesn't accept regular expressions");return t}},39413(t,e,r){"use strict";r(37734)("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r(6828))},39710(t,e,r){"use strict";var n=r(91652),i=r(36613),o=r(3806),a=r(99466),s=r(52285),c=r(12106),l=r(35498),u=r(11467),h=r(10957),f=r(8367),d=r(21087),p=r(2995),v=r(50265),m=r(52438).f,y=r(56065).f,g=r(20011).f,b=r(2702),_=r(32336).trim,w="Number",S=a[w],E=s[w],T=S.prototype,x=a.TypeError,A=c("".slice),k=c("".charCodeAt),O=function(t){var e,r,n,i,o,a,s,c,l=p(t,"number");if(d(l))throw new x("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=_(l),43===(e=k(l,0))||45===e){if(88===(r=k(l,2))||120===r)return NaN}else if(48===e){switch(k(l,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(a=(o=A(l,2)).length,s=0;s<a;s++)if((c=k(o,s))<48||c>i)return NaN;return parseInt(o,n)}return+l},C=l(w,!S(" 0o1")||!S("0b1")||S("+0x1")),P=function(t){var e,r=arguments.length<1?0:S(function(t){var e=p(t,"number");return"bigint"==typeof e?e:O(e)}(t));return f(T,e=this)&&v(function(){b(e)})?h(Object(r),this,P):r};P.prototype=T,C&&!i&&(T.constructor=P),n({global:!0,constructor:!0,wrap:!0,forced:C},{Number:P});var I=function(t,e){for(var r,n=o?m(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)u(e,r=n[i])&&!u(t,r)&&g(t,r,y(e,r))};i&&E&&I(s[w],E),(C||i)&&I(s[w],S)},39828(t,e,r){"use strict";r(55773)},39942(t,e,r){"use strict";var n=r(49675),i=r(70639),o=r(12106),a=r(92318),s=r(50265),c=r(59637),l=r(91787),u=r(51544),h=r(31821),f=r(73556),d=r(48085),p=r(58400),v=r(70275),m=r(54996),y=r(98244),g=r(60120),b=r(87772),_=r(58993)("replace"),w=Math.max,S=Math.min,E=o([].concat),T=o([].push),x=o("".indexOf),A=o("".slice),k=function(t){return void 0===t?t:String(t)},O="$0"==="a".replace(/./,"$0"),C=!!/./[_]&&""===/./[_]("a","$0");a("replace",function(t,e,r){var o=C?"$":"$0";return[function(t,r){var n=p(this),o=u(t)?m(t,_):void 0;return o?i(o,t,n,r):i(e,d(n),t,r)},function(t,i){var a=c(this),s=d(t);if("string"==typeof i&&-1===x(i,o)&&-1===x(i,"$<")){var u=r(e,a,s,i);if(u.done)return u.value}var p=l(i);p||(i=d(i));var m,_=d(g(a)),O=-1!==x(_,"g");O&&(m=-1!==x(_,"u"),a.lastIndex=0);for(var C,P=[];null!==(C=b(a,s))&&(T(P,C),O);){""===d(C[0])&&(a.lastIndex=v(s,f(a.lastIndex),m))}for(var I="",R=0,M=0;M<P.length;M++){for(var L,j=d((C=P[M])[0]),D=w(S(h(C.index),s.length),0),N=[],B=1;B<C.length;B++)T(N,k(C[B]));var F=C.groups;if(p){var U=E([j],N,D,s);void 0!==F&&T(U,F),L=d(n(i,void 0,U))}else L=y(j,s,D,N,F,i);D>=R&&(I+=A(s,R,D)+L,R=D+j.length)}return I+A(s,R)}]},!!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!O||C)},40017(t,e,r){"use strict";var n=r(71784),i=r(51544),o=r(58400),a=r(77068);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),a(n),i(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},40257(t,e,r){"use strict";var n=r(67074),i=r(91787),o=r(50286),a=r(58993)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?r:c?o(e):"Object"===(n=o(e))&&i(e.callee)?"Arguments":n}},40374(t,e,r){"use strict";var n=r(91652),i=r(96421);n({global:!0,forced:parseInt!==i},{parseInt:i})},40423(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(79224),a=r(59637),s=r(58985),c=r(71044),l=r(73605),u=r(71905),h=r(28798),f=r(45059),d=r(36613),p=!d&&!h("map",function(){}),v=!d&&!p&&f("map",TypeError),m=d||p||v,y=c(function(){var t=this.iterator,e=a(i(this.next,t));if(!(this.done=!!e.done))return l(t,this.mapper,[e.value,this.counter++],!0)});n({target:"Iterator",proto:!0,real:!0,forced:m},{map:function(t){a(this);try{o(t)}catch(t){u(this,"throw",t)}return v?i(v,this,t):new y(s(this),{mapper:t})}})},40543(t,e,r){"use strict";var n=r(91652),i=r(11483);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("isDisjointFrom",function(t){return!t})},{isDisjointFrom:i})},40706(t){"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},41178(t,e,r){"use strict";var n=r(7185).charAt,i=r(48085),o=r(19043),a=r(49166),s=r(37007),c="String Iterator",l=o.set,u=o.getterFor(c);a(String,"String",function(t){l(this,{type:c,string:i(t),index:0})},function(){var t,e=u(this),r=e.string,i=e.index;return i>=r.length?s(void 0,!0):(t=n(r,i),e.index+=t.length,s(t,!1))})},41209(t,e,r){"use strict";var n=r(91652),i=r(49659).includes,o=r(50265),a=r(68423);n({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},41552(t){"use strict";var e=4503599627370496;t.exports=function(t){return t+e-e}},42046(t){"use strict";t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},42358(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(12106),a=r(23632),s=r(77839),c=o(1.1.toString),l=i.Uint8Array,u=!l||!l.prototype.toHex||!function(){try{return"ffffffffffffffff"===new l([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();l&&n({target:"Uint8Array",proto:!0,forced:u},{toHex:function(){a(this),s(this.buffer);for(var t="",e=0,r=this.length;e<r;e++){var n=c(this[e],16);t+=1===n.length?"0"+n:n}return t}})},42427(t,e,r){"use strict";var n=r(20177);t.exports=n("document","documentElement")},42811(t,e,r){"use strict";var n,i,o,a=r(50265),s=r(91787),c=r(51544),l=r(72330),u=r(3421),h=r(82554),f=r(58993),d=r(36613),p=f("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(n=i):v=!0),!c(n)||a(function(){var t={};return n[p].call(t)!==t})?n={}:d&&(n=l(n)),s(n[p])||h(n,p,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},42891(t,e){"use strict";e.f=Object.getOwnPropertySymbols},43368(t,e,r){"use strict";r(92482),r(11763);var n=r(91652),i=r(99466),o=r(44475),a=r(20177),s=r(70639),c=r(12106),l=r(3806),u=r(28314),h=r(82554),f=r(95160),d=r(32073),p=r(62005),v=r(13664),m=r(19043),y=r(15093),g=r(91787),b=r(11467),_=r(88402),w=r(40257),S=r(59637),E=r(51544),T=r(48085),x=r(72330),A=r(61994),k=r(36903),O=r(77481),C=r(37007),P=r(40706),I=r(58993),R=r(12442),M=I("iterator"),L="URLSearchParams",j=L+"Iterator",D=m.set,N=m.getterFor(L),B=m.getterFor(j),F=o("fetch"),U=o("Request"),z=o("Headers"),H=U&&U.prototype,G=z&&z.prototype,Y=i.TypeError,q=i.encodeURIComponent,V=String.fromCharCode,W=a("String","fromCodePoint"),$=parseInt,K=c("".charAt),Z=c([].join),X=c([].push),J=c("".replace),Q=c([].shift),tt=c([].splice),et=c("".split),rt=c("".slice),nt=c(/./.exec),it=/\+/g,ot=/^[0-9a-f]+$/i,at=function(t,e){var r=rt(t,e,e+2);return nt(ot,r)?$(r,16):NaN},st=function(t){for(var e=0,r=128;r>0&&0!==(t&r);r>>=1)e++;return e},ct=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},lt=function(t){for(var e=(t=J(t,it," ")).length,r="",n=0;n<e;){var i=K(t,n);if("%"===i){if("%"===K(t,n+1)||n+3>e){r+="%",n++;continue}var o=at(t,n+1);if(o!=o){r+=i,n++;continue}n+=2;var a=st(o);if(0===a)i=V(o);else{if(1===a||a>4){r+="",n++;continue}for(var s=[o],c=1;c<a&&!(++n+3>e||"%"!==K(t,n));){var l=at(t,n+1);if(l!=l){n+=3;break}if(l>191||l<128)break;X(s,l),n+=2,c++}if(s.length!==a){r+="";continue}var u=ct(s);null===u?r+="":i=W(u)}}r+=i,n++}return r},ut=/[!'()~]|%20/g,ht={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ft=function(t){return ht[t]},dt=function(t){return J(q(t),ut,ft)},pt=v(function(t,e){D(this,{type:j,target:N(t).entries,index:0,kind:e})},L,function(){var t=B(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,C(void 0,!0);var n=e[r];switch(t.kind){case"keys":return C(n.key,!1);case"values":return C(n.value,!1)}return C([n.key,n.value],!1)},!0),vt=function(t){this.entries=[],this.url=null,void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?rt(t,1):t:T(t)))};vt.prototype={type:L,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,a,c,l=this.entries,u=O(t);if(u)for(r=(e=k(t,u)).next;!(n=s(r,e)).done;){if(o=(i=k(S(n.value))).next,(a=s(o,i)).done||(c=s(o,i)).done||!s(o,i).done)throw new Y("Expected sequence with length 2");X(l,{key:T(a.value),value:T(c.value)})}else for(var h in t)b(t,h)&&X(l,{key:h,value:T(t[h])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,i=et(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(r=et(e,"="),X(n,{key:lt(Q(r)),value:lt(Z(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],X(r,dt(t.key)+"="+dt(t.value));return Z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var mt=function(){y(this,yt);var t=D(this,new vt(arguments.length>0?arguments[0]:void 0));l||(this.size=t.entries.length)},yt=mt.prototype;if(d(yt,{append:function(t,e){var r=N(this);P(arguments.length,2),X(r.entries,{key:T(t),value:T(e)}),l||this.size++,r.updateURL()},delete:function(t){for(var e=N(this),r=P(arguments.length,1),n=e.entries,i=T(t),o=r<2?void 0:arguments[1],a=void 0===o?o:T(o),s=0;s<n.length;){var c=n[s];if(c.key!==i||void 0!==a&&c.value!==a)s++;else if(tt(n,s,1),void 0!==a)break}l||(this.size=n.length),e.updateURL()},get:function(t){var e=N(this).entries;P(arguments.length,1);for(var r=T(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=N(this).entries;P(arguments.length,1);for(var r=T(t),n=[],i=0;i<e.length;i++)e[i].key===r&&X(n,e[i].value);return n},has:function(t){for(var e=N(this).entries,r=P(arguments.length,1),n=T(t),i=r<2?void 0:arguments[1],o=void 0===i?i:T(i),a=0;a<e.length;){var s=e[a++];if(s.key===n&&(void 0===o||s.value===o))return!0}return!1},set:function(t,e){var r=N(this);P(arguments.length,1);for(var n,i=r.entries,o=!1,a=T(t),s=T(e),c=0;c<i.length;c++)(n=i[c]).key===a&&(o?tt(i,c--,1):(o=!0,n.value=s));o||X(i,{key:a,value:s}),l||(this.size=i.length),r.updateURL()},sort:function(){var t=N(this);R(t.entries,function(t,e){return t.key>e.key?1:-1}),t.updateURL()},forEach:function(t){for(var e,r=N(this).entries,n=_(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new pt(this,"keys")},values:function(){return new pt(this,"values")},entries:function(){return new pt(this,"entries")}},{enumerable:!0}),h(yt,M,yt.entries,{name:"entries"}),h(yt,"toString",function(){return N(this).serialize()},{enumerable:!0}),l&&f(yt,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),p(mt,L),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:mt}),!u&&g(z)){var gt=c(G.has),bt=c(G.set),_t=function(t){if(E(t)){var e,r=t.body;if(w(r)===L)return e=t.headers?new z(t.headers):new z,gt(e,"content-type")||bt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(t,{body:A(0,T(r)),headers:A(0,e)})}return t};if(g(F)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return F(t,arguments.length>1?_t(arguments[1]):{})}}),g(U)){var wt=function(t){return y(this,H),new U(t,arguments.length>1?_t(arguments[1]):{})};H.constructor=wt,wt.prototype=H,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:wt})}}t.exports={URLSearchParams:mt,getState:N}},43524(t,e,r){"use strict";var n=r(71784),i=r(98960);t.exports=n(i.proto,"size","get")||function(t){return t.size}},43970(t,e,r){"use strict";var n=r(12106),i=r(11467),o=SyntaxError,a=parseInt,s=String.fromCharCode,c=n("".charAt),l=n("".slice),u=n(/./.exec),h={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},f=/^[\da-f]{4}$/i,d=/^[\u0000-\u001F]$/;t.exports=function(t,e){for(var r=!0,n="";e<t.length;){var p=c(t,e);if("\\"===p){var v=l(t,e,e+2);if(i(h,v))n+=h[v],e+=2;else{if("\\u"!==v)throw new o('Unknown escape sequence: "'+v+'"');var m=l(t,e+=2,e+4);if(!u(f,m))throw new o("Bad Unicode escape at: "+e);n+=s(a(m,16)),e+=4}}else{if('"'===p){r=!1,e++;break}if(u(d,p))throw new o("Bad control character in string literal at: "+e);n+=p,e++}}if(r)throw new o("Unterminated string at: "+e);return{value:n,end:e}}},43986(t,e,r){"use strict";var n=r(99466),i=r(12106),o=r(71784),a=r(45814),s=r(77839),c=r(12100),l=r(5713),u=r(5726),h=n.structuredClone,f=n.ArrayBuffer,d=n.DataView,p=Math.min,v=f.prototype,m=d.prototype,y=i(v.slice),g=o(v,"resizable","get"),b=o(v,"maxByteLength","get"),_=i(m.getInt8),w=i(m.setInt8);t.exports=(u||l)&&function(t,e,r){var n,i=c(t),o=void 0===e?i:a(e),v=!g||!g(t);if(s(t),u&&(t=h(t,{transfer:[t]}),i===o&&(r||v)))return t;if(i>=o&&(!r||v))n=y(t,0,o);else{var m=r&&!v&&b?{maxByteLength:b(t)}:void 0;n=new f(o,m);for(var S=new d(t),E=new d(n),T=p(o,i),x=0;x<T;x++)w(E,x,_(S,x))}return u||l(t),n}},44259(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(20177),a=r(12106),s=r(70639),c=r(50265),l=r(48085),u=r(40706),h=r(32022).c2i,f=/[^\d+/a-z]/i,d=/[\t\n\f\r ]+/g,p=/[=]{1,2}$/,v=o("atob"),m=String.fromCharCode,y=a("".charAt),g=a("".replace),b=a(f.exec),_=!!v&&!c(function(){return"hi"!==v("aGk=")}),w=_&&c(function(){return""!==v(" ")}),S=_&&!c(function(){v("a")}),E=_&&!c(function(){v()}),T=_&&1!==v.length;n({global:!0,bind:!0,enumerable:!0,forced:!_||w||S||E||T},{atob:function(t){if(u(arguments.length,1),_&&!w&&!S)return s(v,i,t);var e,r,n,a=g(l(t),d,""),c="",E=0,T=0;if(a.length%4==0&&(a=g(a,p,"")),(e=a.length)%4==1||b(f,a))throw new(o("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;E<e;)r=y(a,E++),n=T%4?64*n+h[r]:h[r],T++%4&&(c+=m(255&n>>(-2*T&6)));return c}})},44366(t,e,r){"use strict";var n=r(3806),i=r(20011),o=r(61994);t.exports=function(t,e,r){n?i.f(t,e,o(0,r)):t[e]=r}},44475(t,e,r){"use strict";var n=r(99466),i=r(3806),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=o(n,t);return e&&e.value}},44760(t,e,r){"use strict";var n=r(91652),i=r(32336).trim;n({target:"String",proto:!0,forced:r(31956)("trim")},{trim:function(){return i(this)}})},45059(t,e,r){"use strict";var n=r(99466);t.exports=function(t,e){var r=n.Iterator,i=r&&r.prototype,o=i&&i[t],a=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(t){t instanceof e||(a=!1)}if(!a)return o}},45502(t,e,r){"use strict";r(91041)},45814(t,e,r){"use strict";var n=r(31821),i=r(73556),o=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw new o("Wrong length or index");return r}},48018(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(92261),a=r(23632),s=i.Uint8Array,c=!s||!s.prototype.setFromBase64||!function(){var t=new s([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{return void t.setFromBase64("a")}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();s&&n({target:"Uint8Array",proto:!0,forced:c},{setFromBase64:function(t){a(this);var e=o(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}})},48085(t,e,r){"use strict";var n=r(40257),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},48580(t,e,r){"use strict";var n=r(91652),i=r(49470);n({target:"Array",stat:!0,forced:!r(8210)(function(t){Array.from(t)})},{from:i})},48880(t,e,r){"use strict";var n=r(31821),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},49072(t,e,r){"use strict";var n=r(70639),i=r(59637),o=r(58985),a=r(77481);t.exports=function(t,e){e&&"string"==typeof t||i(t);var r=a(t);return o(i(void 0!==r?n(r,t):t))}},49130(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(51544),a=r(59637),s=r(19741),c=r(56065),l=r(3421);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,u,h=arguments.length<3?e:arguments[2];return a(e)===h?e[r]:(n=c.f(e,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,h):o(u=l(e))?t(u,r,h):void 0}})},49166(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(36613),a=r(83328),s=r(91787),c=r(13664),l=r(3421),u=r(40017),h=r(62005),f=r(3693),d=r(82554),p=r(58993),v=r(59671),m=r(42811),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),S="keys",E="values",T="entries",x=function(){return this};t.exports=function(t,e,r,a,p,m,A){c(r,e,a);var k,O,C,P=function(t){if(t===p&&j)return j;if(!_&&t&&t in M)return M[t];switch(t){case S:case E:case T:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",R=!1,M=t.prototype,L=M[w]||M["@@iterator"]||p&&M[p],j=!_&&L||P(p),D="Array"===e&&M.entries||L;if(D&&(k=l(D.call(new t)))!==Object.prototype&&k.next&&(o||l(k)===b||(u?u(k,b):s(k[w])||d(k,w,x)),h(k,I,!0,!0),o&&(v[I]=x)),y&&p===E&&L&&L.name!==E&&(!o&&g?f(M,"name",E):(R=!0,j=function(){return i(L,this)})),p)if(O={values:P(E),keys:m?j:P(S),entries:P(T)},A)for(C in O)(_||R||!(C in M))&&d(M,C,O[C]);else n({target:e,proto:!0,forced:_||R},O);return o&&!A||M[w]===j||d(M,w,j,{name:p}),v[e]=j,O}},49172(t,e,r){"use strict";var n=r(82554),i=r(12106),o=r(48085),a=r(40706),s=URLSearchParams,c=s.prototype,l=i(c.getAll),u=i(c.has),h=new s("a=1");!h.has("a",2)&&h.has("a",void 0)||n(c,"has",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return u(this,t);var n=l(this,t);a(e,1);for(var i=o(r),s=0;s<n.length;)if(n[s++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})},49470(t,e,r){"use strict";var n=r(88402),i=r(70639),o=r(72139),a=r(73605),s=r(50051),c=r(64607),l=r(2896),u=r(44366),h=r(36903),f=r(77481),d=Array;t.exports=function(t){var e=o(t),r=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v;m&&(v=n(v,p>2?arguments[2]:void 0));var y,g,b,_,w,S,E=f(e),T=0;if(!E||this===d&&s(E))for(y=l(e),g=r?new this(y):d(y);y>T;T++)S=m?v(e[T],T):e[T],u(g,T,S);else for(g=r?new this:[],w=(_=h(e,E)).next;!(b=i(w,_)).done;T++)S=m?a(_,v,[b.value,T],!0):b.value,u(g,T,S);return g.length=T,g}},49659(t,e,r){"use strict";var n=r(57103),i=r(48880),o=r(2896),a=function(t){return function(e,r,a){var s=n(e),c=o(s);if(0===c)return!t&&-1;var l,u=i(a,c);if(t&&r!=r){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((t||u in s)&&s[u]===r)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},49675(t,e,r){"use strict";var n=r(58354),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},50033(t,e,r){"use strict";var n=r(65026),i=r(93534),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",function(){return n(o(this),s(this))})},50051(t,e,r){"use strict";var n=r(58993),i=r(59671),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},50250(t,e,r){"use strict";var n=r(93534),i=r(49659).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},50265(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},50286(t,e,r){"use strict";var n=r(12106),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},50340(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},50477(){},51469(t,e,r){"use strict";var n=r(50265);t.exports=!n(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t})},51544(t,e,r){"use strict";var n=r(91787);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},51708(t,e,r){"use strict";var n=r(52870),i=r(98960),o=r(94632),a=r(16235),s=r(97313),c=i.add,l=i.has,u=i.remove;t.exports=function(t){var e=n(this),r=a(t).getIterator(),i=o(e);return s(r,function(t){l(e,t)?u(i,t):c(i,t)}),i}},51712(t,e,r){"use strict";var n=r(2896);t.exports=function(t,e,r){for(var i=0,o=arguments.length>2?r:n(e),a=new t(o);o>i;)a[i]=e[i++];return a}},51806(t,e,r){"use strict";var n=r(93534),i=r(33108).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)})},51954(t,e,r){"use strict";var n=r(93534).exportTypedArrayMethod,i=r(50265),o=r(99466),a=r(12106),s=o.Uint8Array,c=s&&s.prototype||{},l=[].toString,u=a([].join);i(function(){l.call({})})&&(l=function(){return u(this)});var h=c.toString!==l;n("toString",l,h)},52247(t,e,r){"use strict";var n=r(91652),i=r(92714),o=r(50265),a=r(31872),s=r(59637),c=r(48880),l=r(73556),u=a.ArrayBuffer,h=a.DataView,f=h.prototype,d=i(u.prototype.slice),p=i(f.getUint8),v=i(f.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(t,e){if(d&&void 0===e)return d(s(this),t);for(var r=s(this).byteLength,n=c(t,r),i=c(void 0===e?r:e,r),o=new u(l(i-n)),a=new h(this),f=new h(o),m=0;n<i;)v(f,m++,p(a,n++));return o}})},52285(t,e,r){"use strict";var n=r(99466);t.exports=n},52438(t,e,r){"use strict";var n=r(83622),i=r(20229).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},52519(t,e,r){"use strict";var n=r(2995),i=r(21087);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},52598(t,e,r){"use strict";var n=r(91652),i=r(50265),o=r(3008);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||i(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:o})},52865(t,e,r){"use strict";var n=r(99466),i=r(50265),o=r(12106),a=r(93534),s=r(92482),c=r(58993)("iterator"),l=n.Uint8Array,u=o(s.values),h=o(s.keys),f=o(s.entries),d=a.aTypedArray,p=a.exportTypedArrayMethod,v=l&&l.prototype,m=!i(function(){v[c].call([1])}),y=!!v&&v.values&&v[c]===v.values&&"values"===v.values.name,g=function(){return u(d(this))};p("entries",function(){return f(d(this))},m),p("keys",function(){return h(d(this))},m),p("values",g,m||!y,{name:"values"}),p(c,g,m||!y,{name:"values"})},52870(t,e,r){"use strict";var n=r(98960).has;t.exports=function(t){return n(t),t}},52946(t,e,r){"use strict";var n=r(51544),i=r(50286),o=r(58993)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},53047(t,e,r){"use strict";r(39413)},53561(t){"use strict";var e=Math.round;t.exports=function(t){var r=e(t);return r<0?0:r>255?255:255&r}},53986(t,e,r){"use strict";var n=r(50265),i=r(51544),o=r(50286),a=r(82222),s=Object.isExtensible,c=n(function(){s(1)});t.exports=c||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==o(t))&&(!s||s(t)))}:s},54029(t,e,r){"use strict";var n=r(91652),i=r(27649);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},54367(t,e,r){"use strict";var n=r(3806),i=r(12106),o=r(95160),a=URLSearchParams.prototype,s=i(a.forEach);n&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return s(this,function(){t++}),t},configurable:!0,enumerable:!0})},54996(t,e,r){"use strict";var n=r(79224),i=r(21039);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},55319(t,e,r){"use strict";r(31809)("Uint8",function(t){return function(e,r,n){return t(this,e,r,n)}})},55773(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(79224),a=r(59637),s=r(58985),c=r(49072),l=r(71044),u=r(71905),h=r(36613),f=r(28798),d=r(45059),p=!h&&!f("flatMap",function(){}),v=!h&&!p&&d("flatMap",TypeError),m=h||p||v,y=l(function(){for(var t,e,r=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=a(i(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){u(r,"throw",t)}if(t=a(i(this.next,r)),this.done=!!t.done)return;try{this.inner=c(n(t.value,this.counter++),!1)}catch(t){u(r,"throw",t)}}});n({target:"Iterator",proto:!0,real:!0,forced:m},{flatMap:function(t){a(this);try{o(t)}catch(t){u(this,"throw",t)}return v?i(v,this,t):new y(s(this),{mapper:t,inner:null})}})},55970(t,e,r){"use strict";var n=r(50286);t.exports=Array.isArray||function(t){return"Array"===n(t)}},56012(t,e,r){"use strict";var n=r(91652),i=r(99483).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},56065(t,e,r){"use strict";var n=r(3806),i=r(70639),o=r(77739),a=r(61994),s=r(57103),c=r(52519),l=r(11467),u=r(83719),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=c(e),u)try{return h(t,e)}catch(t){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},56419(t,e,r){"use strict";r(76228)},56442(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(23442),a=r(79224),s=r(59637),c=r(58985),l=r(71905),u=r(45059)("find",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),r=0;return o(e,function(e,n){if(t(e,r++))return n(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},56687(t,e,r){"use strict";var n=r(12106),i=Error,o=n("".replace),a=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,s,"");return t}},57103(t,e,r){"use strict";var n=r(99673),i=r(58400);t.exports=function(t){return n(i(t))}},57178(t,e,r){"use strict";var n=r(83622),i=r(20229);t.exports=Object.keys||function(t){return n(t,i)}},57199(t,e,r){"use strict";var n=r(71905);t.exports=function(t,e,r){for(var i=t.length-1;i>=0;i--)if(void 0!==t[i])try{r=n(t[i].iterator,e,r)}catch(t){e="throw",r=t}if("throw"===e)throw r;return r}},57495(t,e,r){"use strict";var n=r(38263);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},57632(t,e,r){"use strict";var n=r(99466);t.exports=n.Promise},58190(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(23442),a=r(79224),s=r(59637),c=r(58985),l=r(71905),u=r(45059)("every",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),r=0;return!o(e,function(e,n){if(!t(e,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},58354(t,e,r){"use strict";var n=r(50265);t.exports=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},58400(t,e,r){"use strict";var n=r(21039),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},58985(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},58993(t,e,r){"use strict";var n=r(99466),i=r(57495),o=r(11467),a=r(62122),s=r(75373),c=r(99134),l=n.Symbol,u=i("wks"),h=c?l.for||l:l&&l.withoutSetter||a;t.exports=function(t){return o(u,t)||(u[t]=s&&o(l,t)?l[t]:h("Symbol."+t)),u[t]}},59179(t,e,r){"use strict";var n,i=r(91652),o=r(92714),a=r(56065).f,s=r(73556),c=r(48085),l=r(38717),u=r(58400),h=r(1178),f=r(36613),d=o("".slice),p=Math.min,v=h("endsWith");i({target:"String",proto:!0,forced:!!(f||v||(n=a(String.prototype,"endsWith"),!n||n.writable))&&!v},{endsWith:function(t){var e=c(u(this));l(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,i=void 0===r?n:p(s(r),n),o=c(t);return d(e,i-o.length,i)===o}})},59637(t,e,r){"use strict";var n=r(51544),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not an object")}},59671(t){"use strict";t.exports={}},60120(t,e,r){"use strict";var n=r(70639),i=r(11467),o=r(8367),a=r(1987),s=r(27565),c=RegExp.prototype;t.exports=a.correct?function(t){return t.flags}:function(t){return a.correct||!o(c,t)||i(t,"flags")?t.flags:n(s,t)}},60331(t,e,r){"use strict";var n=r(91652),i=r(23442),o=r(79224),a=r(59637),s=r(58985),c=r(71905),l=r(45059),u=r(49675),h=r(50265),f=TypeError,d=h(function(){[].keys().reduce(function(){},void 0)}),p=!d&&l("reduce",f);n({target:"Iterator",proto:!0,real:!0,forced:d||p},{reduce:function(t){a(this);try{o(t)}catch(t){c(this,"throw",t)}var e=arguments.length<2,r=e?void 0:arguments[1];if(p)return u(p,this,e?[t]:[t,r]);var n=s(this),l=0;if(i(n,function(n){e?(e=!1,r=n):r=t(r,n,l),l++},{IS_RECORD:!0}),e)throw new f("Reduce of empty iterator with no initial value");return r}})},60441(t,e,r){"use strict";r(6755),r(9348),r(84150),r(80360),r(32035)},60942(t,e,r){"use strict";var n=r(99466),i=r(8554),o=r(76318),a=r(3209),s=r(3693),c=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var l in i)i[l]&&c(n[l]&&n[l].prototype);c(o)},61031(t,e,r){"use strict";var n=r(99466),i=r(92714),o=r(50265),a=r(79224),s=r(12442),c=r(93534),l=r(6687),u=r(1173),h=r(62381),f=r(73197),d=c.aTypedArray,p=c.exportTypedArrayMethod,v=n.Uint16Array,m=v&&i(v.prototype.sort),y=!(!m||o(function(){m(new v(2),null)})&&o(function(){m(new v(2),{})})),g=!!m&&!o(function(){if(h)return h<74;if(l)return l<67;if(u)return!0;if(f)return f<602;var t,e,r=new v(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(m(r,function(t,e){return(t/4|0)-(e/4|0)}),t=0;t<516;t++)if(r[t]!==n[t])return!0});p("sort",function(t){return void 0!==t&&a(t),g?m(this,t):s(d(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))},!g||y)},61563(t,e,r){t.exports=function(t,e,r){"use strict";const n="backdrop",i="fade",o="show",a=`mousedown.bs.${n}`,s={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class l extends e{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return s}static get DefaultType(){return c}static get NAME(){return n}show(t){if(!this._config.isVisible)return void r.execute(t);this._append();const e=this._getElement();this._config.isAnimated&&r.reflow(e),e.classList.add(o),this._emulateAnimation(()=>{r.execute(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove(o),this._emulateAnimation(()=>{this.dispose(),r.execute(t)})):r.execute(t)}dispose(){this._isAppended&&(t.off(this._element,a),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(i),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=r.getElement(t.rootElement),t}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),t.on(e,a,()=>{r.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){r.executeAfterTransition(t,this._getElement(),this._config.isAnimated)}}return l}(r(67922),r(5415),r(35429))},61716(t,e,r){"use strict";var n=r(2995),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},61805(t,e,r){t.exports=function(t,e,r,n){"use strict";const i="collapse",o=".bs.collapse",a=`show${o}`,s=`shown${o}`,c=`hide${o}`,l=`hidden${o}`,u=`click${o}.data-api`,h="show",f="collapse",d="collapsing",p="collapsed",v=`:scope .${f} .${f}`,m="collapse-horizontal",y="width",g="height",b=".collapse.show, .collapse.collapsing",_='[data-bs-toggle="collapse"]',w={parent:null,toggle:!0},S={parent:"(null|element)",toggle:"boolean"};class E extends t{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=r.find(_);for(const t of n){const e=r.getSelectorFromElement(t),n=r.find(e).filter(t=>t===this._element);null!==e&&n.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return w}static get DefaultType(){return S}static get NAME(){return i}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(b).filter(t=>t!==this._element).map(t=>E.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(e.trigger(this._element,a).defaultPrevented)return;for(const e of t)e.hide();const r=this._getDimension();this._element.classList.remove(f),this._element.classList.add(d),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(d),this._element.classList.add(f,h),this._element.style[r]="",e.trigger(this._element,s)},i=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[r]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(e.trigger(this._element,c).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,n.reflow(this._element),this._element.classList.add(d),this._element.classList.remove(f,h);for(const t of this._triggerArray){const e=r.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(d),this._element.classList.add(f),e.trigger(this._element,l)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(h)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=n.getElement(t.parent),t}_getDimension(){return this._element.classList.contains(m)?y:g}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(_);for(const e of t){const t=r.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=r.find(v,this._config.parent);return r.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const r of t)r.classList.toggle(p,!e),r.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const r=E.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t]()}})}}return e.on(document,u,_,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of r.getMultipleElementsFromSelector(this))E.getOrCreateInstance(t,{toggle:!1}).toggle()}),n.defineJQueryPlugin(E),E}(r(16545),r(67922),r(82613),r(35429))},61855(t,e,r){"use strict";var n=r(91652),i=r(3806),o=r(9399).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},61994(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},62005(t,e,r){"use strict";var n=r(20011).f,i=r(11467),o=r(58993)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,o)&&n(t,o,{configurable:!0,value:e})}},62030(t,e,r){"use strict";var n=r(52870),i=r(98960).add,o=r(94632),a=r(16235),s=r(97313);t.exports=function(t){var e=n(this),r=a(t).getIterator(),c=o(e);return s(r,function(t){i(c,t)}),c}},62085(t,e,r){"use strict";var n=r(93534),i=r(11381).findLast,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},62122(t,e,r){"use strict";var n=r(12106),i=0,o=Math.random(),a=n(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},62381(t,e,r){"use strict";var n,i,o=r(99466),a=r(11269),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},62729(t,e,r){"use strict";var n=r(91652),i=r(50265),o=r(57103),a=r(56065).f,s=r(3806);n({target:"Object",stat:!0,forced:!s||i(function(){a(1)}),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},63033(t,e,r){"use strict";r(42358)},63692(t,e,r){"use strict";var n=r(91652),i=r(62030),o=r(79645);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("union")||!o("union")},{union:i})},63728(t){"use strict";var e=Array,r=Math.abs,n=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(t,s,c){var l,u,h,f=e(c),d=8*c-s-1,p=(1<<d)-1,v=p>>1,m=23===s?n(2,-24)-n(2,-77):0,y=t<0||0===t&&1/t<0?1:0,g=0;for((t=r(t))!=t||t===1/0?(u=t!=t?1:0,l=p):(l=i(o(t)/a),t*(h=n(2,-l))<1&&(l--,h*=2),(t+=l+v>=1?m/h:m*n(2,1-v))*h>=2&&(l++,h/=2),l+v>=p?(u=0,l=p):l+v>=1?(u=(t*h-1)*n(2,s),l+=v):(u=t*n(2,v-1)*n(2,s),l=0));s>=8;)f[g++]=255&u,u/=256,s-=8;for(l=l<<s|u,d+=s;d>0;)f[g++]=255&l,l/=256,d-=8;return f[g-1]|=128*y,f},unpack:function(t,e){var r,i=t.length,o=8*i-e-1,a=(1<<o)-1,s=a>>1,c=o-7,l=i-1,u=t[l--],h=127&u;for(u>>=7;c>0;)h=256*h+t[l--],c-=8;for(r=h&(1<<-c)-1,h>>=-c,c+=e;c>0;)r=256*r+t[l--],c-=8;if(0===h)h=1-s;else{if(h===a)return r?NaN:u?-1/0:1/0;r+=n(2,e),h-=s}return(u?-1:1)*r*n(2,h-e)}}},63754(t,e,r){"use strict";r(20172)},63938(t,e,r){"use strict";var n=r(99466),i=r(50265),o=r(12106),a=r(48085),s=r(32336).trim,c=r(42046),l=o("".charAt),u=n.parseFloat,h=n.Symbol,f=h&&h.iterator,d=1/u(c+"-0")!=-1/0||f&&!i(function(){u(Object(f))});t.exports=d?function(t){var e=s(a(t)),r=u(e);return 0===r&&"-"===l(e,0)?-0:r}:u},63945(t,e,r){"use strict";r(82579)},64607(t,e,r){"use strict";var n=r(12106),i=r(50265),o=r(91787),a=r(40257),s=r(20177),c=r(78996),l=function(){},u=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=n(h.exec),d=!h.test(l),p=function(t){if(!o(t))return!1;try{return u(l,[],t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(h,c(t))}catch(t){return!0}};v.sham=!0,t.exports=!u||i(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?v:p},64745(t,e,r){"use strict";var n=r(93534),i=r(29507).filter,o=r(9654),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function(t){var e=i(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)})},65026(t,e,r){"use strict";var n=r(2896);t.exports=function(t,e){for(var r=n(t),i=new e(r),o=0;o<r;o++)i[o]=t[r-o-1];return i}},65174(t,e,r){"use strict";var n=r(52870),i=r(98960),o=r(94632),a=r(43524),s=r(16235),c=r(67191),l=r(97313),u=i.has,h=i.remove;t.exports=function(t){var e=n(this),r=s(t),i=o(e);return a(e)<=r.size?c(e,function(t){r.includes(t)&&h(i,t)}):l(r.getIterator(),function(t){u(i,t)&&h(i,t)}),i}},65596(t,e,r){var n;t.exports=(n=r(19959),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},65963(t,e,r){"use strict";var n=r(12106),i=r(73556),o=r(48085),a=r(13843),s=r(58400),c=n(a),l=n("".slice),u=Math.ceil,h=function(t){return function(e,r,n){var a,h,f=o(s(e)),d=i(r),p=f.length,v=void 0===n?" ":o(n);return d<=p||""===v?f:((h=c(v,u((a=d-p)/v.length))).length>a&&(h=l(h,0,a)),t?f+h:h+f)}};t.exports={start:h(!1),end:h(!0)}},66543(t,e,r){"use strict";var n,i,o,a,s=r(99466),c=r(49675),l=r(88402),u=r(91787),h=r(11467),f=r(50265),d=r(42427),p=r(87874),v=r(21289),m=r(40706),y=r(22962),g=r(88423),b=s.setImmediate,_=s.clearImmediate,w=s.process,S=s.Dispatch,E=s.Function,T=s.MessageChannel,x=s.String,A=0,k={},O="onreadystatechange";f(function(){n=s.location});var C=function(t){if(h(k,t)){var e=k[t];delete k[t],e()}},P=function(t){return function(){C(t)}},I=function(t){C(t.data)},R=function(t){s.postMessage(x(t),n.protocol+"//"+n.host)};b&&_||(b=function(t){m(arguments.length,1);var e=u(t)?t:E(t),r=p(arguments,1);return k[++A]=function(){c(e,void 0,r)},i(A),A},_=function(t){delete k[t]},g?i=function(t){w.nextTick(P(t))}:S&&S.now?i=function(t){S.now(P(t))}:T&&!y?(a=(o=new T).port2,o.port1.onmessage=I,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!f(R)?(i=R,s.addEventListener("message",I,!1)):i=O in v("script")?function(t){d.appendChild(v("script"))[O]=function(){d.removeChild(this),C(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:b,clear:_}},66754(t,e,r){"use strict";var n=r(91652),i=r(72139),o=r(57178);n({target:"Object",stat:!0,forced:r(50265)(function(){o(1)})},{keys:function(t){return o(i(t))}})},67013(t,e,r){"use strict";var n=r(67074),i=r(40257);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},67074(t,e,r){"use strict";var n={};n[r(58993)("toStringTag")]="z",t.exports="[object z]"===String(n)},67191(t,e,r){"use strict";var n=r(12106),i=r(97313),o=r(98960),a=o.Set,s=o.proto,c=n(s.forEach),l=n(s.keys),u=l(new a).next;t.exports=function(t,e,r){return r?i({iterator:l(t),next:u},e):c(t,e)}},67301(t,e,r){"use strict";var n=r(88402),i=r(70639),o=r(30806),a=r(72139),s=r(2896),c=r(36903),l=r(77481),u=r(50051),h=r(84485),f=r(93534).aTypedArrayConstructor,d=r(61716);t.exports=function(t){var e,r,p,v,m,y,g,b,_=o(this),w=a(t),S=arguments.length,E=S>1?arguments[1]:void 0,T=void 0!==E,x=l(w);if(x&&!u(x))for(b=(g=c(w,x)).next,w=[];!(y=i(b,g)).done;)w.push(y.value);for(T&&S>2&&(E=n(E,arguments[2])),r=s(w),p=new(f(_))(r),v=h(p),e=0;r>e;e++)m=T?E(w[e],e):w[e],p[e]=v?d(m):+m;return p}},67640(t,e,r){"use strict";var n=r(3806),i=r(50265);t.exports=n&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},67773(t,e,r){t.exports=function(t,e,r,n,i,o,a,s){"use strict";const c="modal",l=".bs.modal",u="Escape",h=`hide${l}`,f=`hidePrevented${l}`,d=`hidden${l}`,p=`show${l}`,v=`shown${l}`,m=`resize${l}`,y=`click.dismiss${l}`,g=`mousedown.dismiss${l}`,b=`keydown.dismiss${l}`,_=`click${l}.data-api`,w="modal-open",S="fade",E="show",T="modal-static",x=".modal.show",A=".modal-dialog",k=".modal-body",O='[data-bs-toggle="modal"]',C={backdrop:!0,focus:!0,keyboard:!0},P={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class I extends t{constructor(t,e){super(t,e),this._dialog=r.findOne(A,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new s,this._addEventListeners()}static get Default(){return C}static get DefaultType(){return P}static get NAME(){return c}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||e.trigger(this._element,p,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(w),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(e.trigger(this._element,h).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(E),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){e.off(window,l),e.off(this._dialog,l),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new n({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=r.findOne(k,this._dialog);n&&(n.scrollTop=0),a.reflow(this._element),this._element.classList.add(E);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,e.trigger(this._element,v,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){e.on(this._element,b,t=>{t.key===u&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),e.on(window,m,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),e.on(this._element,g,t=>{e.one(this._element,y,e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(w),this._resetAdjustments(),this._scrollBar.reset(),e.trigger(this._element,d)})}_isAnimated(){return this._element.classList.contains(S)}_triggerBackdropTransition(){if(e.trigger(this._element,f).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;"hidden"===r||this._element.classList.contains(T)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(T),this._queueCallback(()=>{this._element.classList.remove(T),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;if(r&&!t){const t=a.isRTL()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!r&&t){const t=a.isRTL()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const r=I.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t](e)}})}}return e.on(document,_,O,function(t){const n=r.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),e.one(n,p,t=>{t.defaultPrevented||e.one(n,d,()=>{a.isVisible(this)&&this.focus()})});const i=r.findOne(x);i&&I.getInstance(i).hide(),I.getOrCreateInstance(n).toggle(this)}),i.enableDismissTrigger(I),a.defineJQueryPlugin(I),I}(r(16545),r(67922),r(82613),r(61563),r(68546),r(28922),r(35429),r(22559))},67902(t,e,r){"use strict";var n=r(91652),i=r(43986);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},67922(t,e,r){t.exports=function(t){"use strict";const e=/[^.]*(?=\..*)\.|.*/,r=/\..*/,n=/::\d+$/,i={};let o=1;const a={mouseenter:"mouseover",mouseleave:"mouseout"},s=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(t,e){return e&&`${e}::${o++}`||t.uidEvent||o++}function l(t){const e=c(t);return t.uidEvent=e,i[e]=i[e]||{},i[e]}function u(t,e){return function r(n){return b(n,{delegateTarget:t}),r.oneOff&&g.off(t,n.type,e),e.apply(t,[n])}}function h(t,e,r){return function n(i){const o=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return b(i,{delegateTarget:a}),n.oneOff&&g.off(t,i.type,e,r),r.apply(a,[i])}}function f(t,e,r=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===r)}function d(t,e,r){const n="string"==typeof e,i=n?r:e||r;let o=y(t);return s.has(o)||(o=t),[n,i,o]}function p(t,r,n,i,o){if("string"!=typeof r||!t)return;let[s,p,v]=d(r,n,i);if(r in a){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};p=t(p)}const m=l(t),y=m[v]||(m[v]={}),g=f(y,p,s?n:null);if(g)return void(g.oneOff=g.oneOff&&o);const b=c(p,r.replace(e,"")),_=s?h(t,n,p):u(t,p);_.delegationSelector=s?n:null,_.callable=p,_.oneOff=o,_.uidEvent=b,y[b]=_,t.addEventListener(v,_,s)}function v(t,e,r,n,i){const o=f(e[r],n,i);o&&(t.removeEventListener(r,o,Boolean(i)),delete e[r][o.uidEvent])}function m(t,e,r,n){const i=e[r]||{};for(const[o,a]of Object.entries(i))o.includes(n)&&v(t,e,r,a.callable,a.delegationSelector)}function y(t){return t=t.replace(r,""),a[t]||t}const g={on(t,e,r,n){p(t,e,r,n,!1)},one(t,e,r,n){p(t,e,r,n,!0)},off(t,e,r,i){if("string"!=typeof e||!t)return;const[o,a,s]=d(e,r,i),c=s!==e,u=l(t),h=u[s]||{},f=e.startsWith(".");if(void 0===a){if(f)for(const r of Object.keys(u))m(t,u,r,e.slice(1));for(const[r,i]of Object.entries(h)){const o=r.replace(n,"");c&&!e.includes(o)||v(t,u,s,i.callable,i.delegationSelector)}}else{if(!Object.keys(h).length)return;v(t,u,s,a,o?r:null)}},trigger(e,r,n){if("string"!=typeof r||!e)return null;const i=t.getjQuery();let o=null,a=!0,s=!0,c=!1;r!==y(r)&&i&&(o=i.Event(r,n),i(e).trigger(o),a=!o.isPropagationStopped(),s=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const l=b(new Event(r,{bubbles:a,cancelable:!0}),n);return c&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function b(t,e={}){for(const[r,n]of Object.entries(e))try{t[r]=n}catch(e){Object.defineProperty(t,r,{configurable:!0,get:()=>n})}return t}return g}(r(35429))},67930(t,e,r){"use strict";r(60331)},68423(t,e,r){"use strict";var n=r(58993),i=r(72330),o=r(20011).f,a=n("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},68452(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(12106),a=r(94626),s=r(23632),c=r(77839),l=r(32022),u=r(91678),h=l.i2c,f=l.i2cUrl,d=o("".charAt),p=i.Uint8Array,v=!p||!p.prototype.toBase64||!function(){try{(new p).toBase64(null)}catch(t){return!0}}();p&&n({target:"Uint8Array",proto:!0,forced:v},{toBase64:function(){var t=s(this),e=arguments.length?a(arguments[0]):void 0,r="base64"===u(e)?h:f,n=!!e&&!!e.omitPadding;c(this.buffer);for(var i,o="",l=0,p=t.length,v=function(t){return d(r,i>>6*t&63)};l+2<p;l+=3)i=(t[l]<<16)+(t[l+1]<<8)+t[l+2],o+=v(3)+v(2)+v(1)+v(0);return l+2===p?(i=(t[l]<<16)+(t[l+1]<<8),o+=v(3)+v(2)+v(1)+(n?"":"=")):l+1===p&&(i=t[l]<<16,o+=v(3)+v(2)+(n?"":"==")),o}})},68546(t,e,r){!function(t,e,r,n){"use strict";const i=(t,i="hide")=>{const o=`click.dismiss${t.EVENT_KEY}`,a=t.NAME;e.on(document,o,`[data-bs-dismiss="${a}"]`,function(e){if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),n.isDisabled(this))return;const o=r.getElementFromSelector(this)||this.closest(`.${a}`);t.getOrCreateInstance(o)[i]()})};t.enableDismissTrigger=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e,r(67922),r(82613),r(35429))},68707(t,e,r){"use strict";r(56442)},69039(t,e,r){"use strict";var n=r(11269);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},69209(t,e,r){"use strict";var n=r(3806),i=r(95160),o=r(1987),a=r(27565);n&&!o.correct&&(i(RegExp.prototype,"flags",{configurable:!0,get:a}),o.correct=!0)},69259(t,e,r){"use strict";r(60441),r(7709),r(29),r(3438),r(18234),r(92482),r(90930),r(39710),r(18899),r(4573),r(41178),r(45502),r(93815),r(60942),r(16415);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}const a=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),document.querySelectorAll(this._selectors.btn)&&document.querySelectorAll(this._selectors.btn).forEach(function(t){t.addEventListener("focus",e._onBtnClick.bind(e)),t.addEventListener("active",e._onBtnClick.bind(e))}),document.querySelector(this._selectors.themeLight).addEventListener("click",this._onLightTheme.bind(this)),document.querySelector(this._selectors.themeDark).addEventListener("click",this._onDarkTheme.bind(this)),this._setColorScheme()},e=[{key:"_selectors",get:function(){return{btn:".js-btn-custom",themeLight:".js-theme-light",themeDark:".js-theme-dark"}}},{key:"_onBtnClick",value:function(t){setTimeout(function(){t.target.blur()},250)}},{key:"_setColorScheme",value:function(){var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";null===localStorage.getItem("theme")?"dark"===t?document.querySelector(this._selectors.themeDark).click():document.querySelector(this._selectors.themeLight).click():"dark"===localStorage.getItem("theme")?document.querySelector(this._selectors.themeDark).click():document.querySelector(this._selectors.themeLight).click()}},{key:"_onLightTheme",value:function(t){t.currentTarget.classList.contains("active")||(document.querySelector(this._selectors.themeLight).classList.add("active"),document.querySelector(this._selectors.themeDark).classList.remove("active"),this._setTheme("light"))}},{key:"_onDarkTheme",value:function(t){t.currentTarget.classList.contains("active")||(document.querySelector(this._selectors.themeLight).classList.remove("active"),document.querySelector(this._selectors.themeDark).classList.add("active"),this._setTheme("dark"))}},{key:"_setTheme",value:function(t){document.documentElement.dataset.theme=t,localStorage.setItem("theme",t)}}],e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();r(41209),r(34117),r(82425),r(14204),r(93217);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,u=Object.create(c.prototype);return l(u,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),u}var a={};function s(){}function u(){}function h(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(l(e={},n,function(){return this}),e),d=h.prototype=s.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=h,l(d,"constructor",h),l(h,"constructor",u),u.displayName="GeneratorFunction",l(h,i,"GeneratorFunction"),l(d),l(d,i,"Generator"),l(d,n,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m:p}})()}function l(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}l=function(t,e,r,n){function o(e,r){l(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},l(t,e,r,n)}function u(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=null,r=[{key:"remove",value:(n=c().m(function t(){var e,r;return c().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll(".endora-panel")&&document.querySelectorAll(".endora-panel").forEach(function(t){return t.remove()}),(e=document.querySelectorAll("style"))&&e.forEach(function(t){t.textContent.includes(".endora-panel")&&t.remove()}),setTimeout(function(){for(var t,e=document.createNodeIterator(document.head,NodeFilter.SHOW_COMMENT);t=e.nextNode();)if(t.nodeValue.includes("injected banner")){t.remove();break}for(var r,n=document.createNodeIterator(document.body,NodeFilter.SHOW_COMMENT);r=n.nextNode();)if(r.nodeValue.includes("end banner")){r.remove();break}},100),(r=document.querySelectorAll(".temp"))&&r.forEach(function(t){t.remove()});case 1:return t.a(2)}},t)}),i=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)})},function(){return i.apply(this,arguments)})}],e&&h(t.prototype,e),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}();const p=d;var v;window._3f8rc0x586eet346||(window._3f8rc0x586eet346=!0,window.started_at=new Date,v=function(){p.remove().catch(function(t){return t}),new a},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){v()}):v())},69312(t,e,r){"use strict";var n=r(50265);t.exports=function(t,e){var r=[][t];return!!r&&n(function(){r.call(null,e||function(){return 1},1)})}},69790(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(62005);n({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},70236(t,e,r){"use strict";var n=r(70639),i=r(91787),o=r(51544),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&i(r=t.toString)&&!o(s=n(r,t)))return s;if(i(r=t.valueOf)&&!o(s=n(r,t)))return s;if("string"!==e&&i(r=t.toString)&&!o(s=n(r,t)))return s;throw new a("Can't convert object to primitive value")}},70275(t,e,r){"use strict";var n=r(7185).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},70639(t,e,r){"use strict";var n=r(58354),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},70960(t,e,r){"use strict";var n=r(91652),i=r(12106),o=r(79224),a=r(72139),s=r(2896),c=r(27068),l=r(48085),u=r(50265),h=r(12442),f=r(69312),d=r(6687),p=r(1173),v=r(62381),m=r(73197),y=[],g=i(y.sort),b=i(y.push),_=u(function(){y.sort(void 0)}),w=u(function(){y.sort(null)}),S=f("sort"),E=!u(function(){if(v)return v<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:e+n,v:r})}for(y.sort(function(t,e){return e.v-t.v}),n=0;n<y.length;n++)e=y[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});n({target:"Array",proto:!0,forced:_||!w||!S||!E},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(E)return void 0===t?g(e):g(e,t);var r,n,i=[],u=s(e);for(n=0;n<u;n++)n in e&&b(i,e[n]);for(h(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:l(e)>l(r)?1:-1}}(t)),r=s(i),n=0;n<r;)e[n]=i[n++];for(;n<u;)c(e,n++);return e}})},71044(t,e,r){"use strict";var n=r(70639),i=r(72330),o=r(3693),a=r(32073),s=r(58993),c=r(19043),l=r(54996),u=r(42811).IteratorPrototype,h=r(37007),f=r(71905),d=r(57199),p=s("toStringTag"),v="IteratorHelper",m="WrapForValidIterator",y="normal",g="throw",b=c.set,_=function(t){var e=c.getterFor(t?m:v);return a(i(u),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return h(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:h(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),i=r.iterator;if(r.done=!0,t){var o=l(i,"return");return o?n(o,i):h(void 0,!0)}if(r.inner)try{f(r.inner.iterator,y)}catch(t){return f(i,g,t)}if(r.openIters)try{d(r.openIters,y)}catch(t){return f(i,g,t)}return i&&f(i,y),h(void 0,!0)}})},w=_(!0),S=_(!1);o(S,p,"Iterator Helper"),t.exports=function(t,e,r){var n=function(n,i){i?(i.iterator=n.iterator,i.next=n.next):i=n,i.type=e?m:v,i.returnHandlerResult=!!r,i.nextHandler=t,i.counter=0,i.done=!1,b(this,i)};return n.prototype=e?w:S,n}},71591(t,e,r){"use strict";var n=r(13623);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},71784(t,e,r){"use strict";var n=r(12106),i=r(79224);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},71905(t,e,r){"use strict";var n=r(70639),i=r(59637),o=r(54996);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw r;if(s)throw a;return i(a),r}},71925(t,e,r){"use strict";var n=r(93534),i=r(49659).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},71930(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(23442),a=r(79224),s=r(59637),c=r(58985),l=r(71905),u=r(45059)("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{forEach:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),r=0;o(e,function(e){t(e,r++)},{IS_RECORD:!0})}})},72009(t,e,r){"use strict";var n=r(91652),i=r(36613),o=r(73486).CONSTRUCTOR,a=r(57632),s=r(20177),c=r(91787),l=r(82554),u=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(a)){var h=s("Promise").prototype.catch;u.catch!==h&&l(u,"catch",h,{unsafe:!0})}},72026(t,e,r){"use strict";var n=r(91652),i=r(43986);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},72139(t,e,r){"use strict";var n=r(58400),i=Object;t.exports=function(t){return i(n(t))}},72233(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(79224),a=r(75477),s=r(80481),c=r(23442);n({target:"Promise",stat:!0,forced:r(73823)},{all:function(t){var e=this,r=a.f(e),n=r.resolve,l=r.reject,u=s(function(){var r=o(e.resolve),a=[],s=0,u=1;c(t,function(t){var o=s++,c=!1;u++,i(r,e,t).then(function(t){c||(c=!0,a[o]=t,--u||n(a))},l)}),--u||n(a)});return u.error&&l(u.value),r.promise}})},72330(t,e,r){"use strict";var n,i=r(59637),o=r(9399),a=r(20229),s=r(10067),c=r(42427),l=r(21289),u=r(4513),h="prototype",f="script",d=u("IE_PROTO"),p=function(){},v=function(t){return"<"+f+">"+t+"</"+f+">"},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;y="undefined"!=typeof document?document.domain&&n?m(n):(e=l("iframe"),r="java"+f+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):m(n);for(var i=a.length;i--;)delete y[h][a[i]];return y()};s[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[h]=i(t),r=new p,p[h]=null,r[d]=t):r=y(),void 0===e?r:o.f(r,e)}},72777(t,e,r){"use strict";r(68452)},72862(t,e,r){"use strict";var n,i=r(91652),o=r(92714),a=r(56065).f,s=r(73556),c=r(48085),l=r(38717),u=r(58400),h=r(1178),f=r(36613),d=o("".slice),p=Math.min,v=h("startsWith");i({target:"String",proto:!0,forced:!!(f||v||(n=a(String.prototype,"startsWith"),!n||n.writable))&&!v},{startsWith:function(t){var e=c(u(this));l(t);var r=s(p(arguments.length>1?arguments[1]:void 0,e.length)),n=c(t);return d(e,r,r+n.length)===n}})},73197(t,e,r){"use strict";var n=r(11269).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},73486(t,e,r){"use strict";var n=r(99466),i=r(57632),o=r(91787),a=r(35498),s=r(78996),c=r(58993),l=r(74713),u=r(36613),h=r(62381),f=i&&i.prototype,d=c("species"),p=!1,v=o(n.PromiseRejectionEvent),m=a("Promise",function(){var t=s(i),e=t!==String(i);if(!e&&66===h)return!0;if(u&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(t)){var r=new i(function(t){t(1)}),n=function(t){t(function(){},function(){})};if((r.constructor={})[d]=n,!(p=r.then(function(){})instanceof n))return!0}return!(e||"BROWSER"!==l&&"DENO"!==l||v)});t.exports={CONSTRUCTOR:m,REJECTION_EVENT:v,SUBCLASSING:p}},73556(t,e,r){"use strict";var n=r(31821),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},73605(t,e,r){"use strict";var n=r(59637),i=r(71905);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},73823(t,e,r){"use strict";var n=r(57632),i=r(8210),o=r(73486).CONSTRUCTOR;t.exports=o||!i(function(t){n.all(t).then(void 0,function(){})})},74017(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(23442),a=r(79224),s=r(59637),c=r(58985),l=r(71905),u=r(45059)("some",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{some:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),r=0;return o(e,function(e,n){if(t(e,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},74185(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},74220(t,e,r){"use strict";var n=r(93534),i=r(29507).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},74713(t,e,r){"use strict";var n=r(99466),i=r(11269),o=r(50286),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},74940(t){"use strict";t.exports=i,t.exports.isMobile=i,t.exports.default=i;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|redmi|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,n=/android|ipad|playbook|silk/i;function i(t){t||(t={});let i=t.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;let o=e.test(i)&&!r.test(i)||!!t.tablet&&n.test(i);return!o&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(o=!0),o}},75373(t,e,r){"use strict";var n=r(62381),i=r(50265),o=r(99466).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41})},75477(t,e,r){"use strict";var n=r(79224),i=TypeError,o=function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},75496(t,e,r){"use strict";var n=r(91652),i=r(50265),o=r(55970),a=r(51544),s=r(72139),c=r(2896),l=r(90675),u=r(44366),h=r(71591),f=r(87987),d=r(58993),p=r(62381),v=d("isConcatSpreadable"),m=p>=51||!i(function(){var t=[];return t[v]=!1,t.concat()[0]!==t}),y=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,arity:1,forced:!m||!f("concat")},{concat:function(t){var e,r,n,i,o,a=s(this),f=h(a,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(y(o=-1===e?a:arguments[e]))for(i=c(o),l(d+i),r=0;r<i;r++,d++)r in o&&u(f,d,o[r]);else l(d+1),u(f,d++,o);return f.length=d,f}})},76228(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(22621),a=r(23632),s=r(77839),c=r(83757);i.Uint8Array&&n({target:"Uint8Array",proto:!0},{setFromHex:function(t){a(this),o(t),s(this.buffer);var e=c(t,this).read;return{read:e,written:e/2}}})},76318(t,e,r){"use strict";var n=r(21289)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},77042(t,e,r){"use strict";var n=r(75373);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},77068(t,e,r){"use strict";var n=r(23903),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},77164(t,e,r){var n;t.exports=(n=r(19959),n.enc.Utf8)},77186(t,e,r){"use strict";var n=r(51544),i=r(3693);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},77332(t,e,r){"use strict";var n=r(91652),i=r(99483).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},77481(t,e,r){"use strict";var n=r(40257),i=r(54996),o=r(21039),a=r(59671),s=r(58993)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[n(t)]}},77739(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},77839(t,e,r){"use strict";var n=r(91436),i=TypeError;t.exports=function(t){if(n(t))throw new i("ArrayBuffer is detached");return t}},78996(t,e,r){"use strict";var n=r(12106),i=r(91787),o=r(38263),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},79224(t,e,r){"use strict";var n=r(91787),i=r(74185),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a function")}},79235(t,e,r){"use strict";var n=r(59637),i=r(30806),o=r(21039),a=r(58993)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||o(r=n(s)[a])?e:i(r)}},79645(t){"use strict";t.exports=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return 1===n.size&&4===n.values().next().value}catch(t){return!1}}},80360(t,e,r){"use strict";var n=r(91652),i=r(20177),o=r(49675),a=r(70639),s=r(12106),c=r(50265),l=r(55970),u=r(91787),h=r(36208),f=r(21087),d=r(50286),p=r(48085),v=r(87874),m=r(43970),y=r(62122),g=r(75373),b=r(51469),_=String,w=i("JSON","stringify"),S=s(/./.exec),E=s("".charAt),T=s("".charCodeAt),x=s("".replace),A=s("".slice),k=s([].push),O=s(1.1.toString),C=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,R=y(),M=R.length,L=!g||c(function(){var t=i("Symbol")("stringify detection");return"[null]"!==w([t])||"{}"!==w({a:t})||"{}"!==w(Object(t))}),j=c(function(){return'"\\udf06\\ud834"'!==w("\udf06\ud834")||'"\\udead"'!==w("\udead")}),D=L?function(t,e){var r=v(arguments),n=B(e);if(u(n)||void 0!==t&&!f(t))return r[1]=function(t,e){if(u(n)&&(e=a(n,this,_(t),e)),!f(e))return e},o(w,null,r)}:w,N=function(t,e,r){var n=E(r,e-1),i=E(r,e+1);return S(P,t)&&!S(I,i)||S(I,t)&&!S(P,n)?"\\u"+O(T(t,0),16):t},B=function(t){if(u(t))return t;if(l(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];"string"==typeof i?k(r,i):"number"!=typeof i&&"Number"!==d(i)&&"String"!==d(i)||k(r,p(i))}var o=r.length,a=!0;return function(t,e){if(a)return a=!1,e;if(l(this))return e;for(var n=0;n<o;n++)if(r[n]===t)return e}}};w&&n({target:"JSON",stat:!0,arity:3,forced:L||j||!b},{stringify:function(t,e,r){var n=B(e),i=[],o=D(t,function(t,e){var r=u(n)?a(n,this,_(t),e):e;return!b&&h(r)?R+(k(i,r.rawJSON)-1):r},r);if("string"!=typeof o)return o;if(j&&(o=x(o,C,N)),b)return o;for(var s="",c=o.length,l=0;l<c;l++){var f=E(o,l);if('"'===f){var d=m(o,++l).end-1,p=A(o,l,d);s+=A(p,0,M)===R?i[A(p,M)]:'"'+p+'"',l=d}else s+=f}return s}})},80481(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},80763(t,e,r){"use strict";var n=r(99466),i=r(50265),o=r(8210),a=r(93534).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;t.exports=!a||!i(function(){c(1)})||!i(function(){new c(-1)})||!o(function(t){new c,new c(null),new c(1.5),new c(t)},!0)||i(function(){return 1!==new c(new s(2),1,void 0).length})},80794(t,e,r){"use strict";var n=r(91652),i=r(70639);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},81320(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(12106),a=r(58400),s=r(91787),c=r(51544),l=r(52946),u=r(48085),h=r(54996),f=r(60120),d=r(98244),p=r(58993),v=r(36613),m=p("replace"),y=TypeError,g=o("".indexOf),b=o("".replace),_=o("".slice),w=Math.max;n({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,o,p,S,E,T,x,A,k,O=a(this),C=0,P="";if(c(t)){if((r=l(t))&&(n=u(a(f(t))),!~g(n,"g")))throw new y("`.replaceAll` does not allow non-global regexes");if(o=h(t,m))return i(o,t,O,e);if(v&&r)return b(u(O),t,e)}for(p=u(O),S=u(t),(E=s(e))||(e=u(e)),T=S.length,x=w(1,T),A=g(p,S);-1!==A;)k=E?u(e(S,A,p)):d(S,p,A,[],void 0,e),P+=_(p,C,A)+k,C=A+T,A=A+x>p.length?-1:g(p,S,A+x);return C<p.length&&(P+=_(p,C)),P}})},82081(t,e,r){"use strict";var n=r(55970),i=r(2896),o=r(90675),a=r(88402),s=function(t,e,r,c,l,u,h,f){for(var d,p,v=l,m=0,y=!!h&&a(h,f);m<c;)m in r&&(d=y?y(r[m],m,e):r[m],u>0&&n(d)?(p=i(d),v=s(t,e,d,p,v,u-1)-1):(o(v+1),t[v]=d),v++),m++;return v};t.exports=s},82222(t,e,r){"use strict";var n=r(50265);t.exports=n(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},82370(t,e,r){"use strict";var n=r(91652),i=r(51708),o=r(79645);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("symmetricDifference")||!o("symmetricDifference")},{symmetricDifference:i})},82393(t,e,r){"use strict";var n=r(12106),i=r(50265),o=r(91787),a=r(11467),s=r(3806),c=r(83328).CONFIGURABLE,l=r(78996),u=r(19043),h=u.enforce,f=u.get,d=String,p=Object.defineProperty,v=n("".slice),m=n("".replace),y=n([].join),g=s&&!i(function(){return 8!==p(function(){},"length",{value:8}).length}),b=String(String).split("String"),_=t.exports=function(t,e,r){"Symbol("===v(d(e),0,7)&&(e="["+m(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),g&&r&&a(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=h(t);return a(n,"source")||(n.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=_(function(){return o(this)&&f(this).source||l(this)},"toString")},82416(t,e,r){"use strict";var n=r(50265),i=r(99466).RegExp;t.exports=n(function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},82425(t,e,r){"use strict";r(91652)({target:"Object",stat:!0},{setPrototypeOf:r(40017)})},82554(t,e,r){"use strict";var n=r(91787),i=r(20011),o=r(82393),a=r(20015);t.exports=function(t,e,r,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:e;if(n(r)&&o(r,l,s),s.global)c?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},82579(t,e,r){"use strict";r(37734)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r(6828))},82613(t,e,r){t.exports=function(t){"use strict";const e=e=>{let r=e.getAttribute("data-bs-target");if(!r||"#"===r){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),r=t&&"#"!==t?t.trim():null}return r?r.split(",").map(e=>t.parseSelector(e)).join(","):null},r={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const r=[];let n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(e){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(r,e).filter(e=>!t.isDisabled(e)&&t.isVisible(e))},getSelectorFromElement(t){const n=e(t);return n&&r.findOne(n)?n:null},getElementFromSelector(t){const n=e(t);return n?r.findOne(n):null},getMultipleElementsFromSelector(t){const n=e(t);return n?r.find(n):[]}};return r}(r(35429))},82648(t,e,r){"use strict";var n=r(91652),i=r(29507).map;n({target:"Array",proto:!0,forced:!r(87987)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},83328(t,e,r){"use strict";var n=r(3806),i=r(11467),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},83622(t,e,r){"use strict";var n=r(12106),i=r(11467),o=r(57103),a=r(49659).indexOf,s=r(10067),c=n([].push);t.exports=function(t,e){var r,n=o(t),l=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&c(u,r);for(;e.length>l;)i(n,r=e[l++])&&(~a(u,r)||c(u,r));return u}},83719(t,e,r){"use strict";var n=r(3806),i=r(50265),o=r(21289);t.exports=!n&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},83757(t,e,r){"use strict";var n=r(99466),i=r(12106),o=n.Uint8Array,a=n.SyntaxError,s=n.parseInt,c=Math.min,l=/[^\da-f]/i,u=i(l.exec),h=i("".slice);t.exports=function(t,e){var r=t.length;if(r%2!=0)throw new a("String should be an even number of characters");for(var n=e?c(e.length,r/2):r/2,i=e||new o(n),f=0,d=0;d<n;){var p=h(t,f,f+=2);if(u(l,p))throw new a("String should only contain hex characters");i[d++]=s(p,16)}return{bytes:i,read:f}}},83885(t,e,r){"use strict";var n=r(93534),i=r(33108).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)})},84098(t,e,r){"use strict";var n=r(2896),i=r(31821),o=RangeError;t.exports=function(t,e,r,a){var s=n(t),c=i(r),l=c<0?s+c:c;if(l>=s||l<0)throw new o("Incorrect index");for(var u=new e(s),h=0;h<s;h++)u[h]=h===l?a:t[h];return u}},84150(t,e,r){"use strict";var n=r(91652),i=r(11467),o=r(21087),a=r(74185),s=r(57495),c=r(77042),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(l,t))return l[t]}})},84485(t,e,r){"use strict";var n=r(40257);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},85361(t,e,r){"use strict";var n=r(48085);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},85653(t,e,r){"use strict";var n=r(93534),i=r(29507).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},85688(t,e,r){"use strict";var n=r(12106),i=r(93534),o=n(r(34975)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(t,e){return o(a(this),t,e,arguments.length>2?arguments[2]:void 0)})},86032(t,e,r){"use strict";var n=r(70639),i=r(92318),o=r(59637),a=r(51544),s=r(58400),c=r(13820),l=r(48085),u=r(54996),h=r(87772);i("search",function(t,e,r){return[function(e){var r=s(this),i=a(e)?u(e,t):void 0;return i?n(i,e,r):new RegExp(e)[t](l(r))},function(t){var n=o(this),i=l(t),a=r(e,n,i);if(a.done)return a.value;var s=n.lastIndex;c(s,0)||(n.lastIndex=0);var u=h(n,i);return c(n.lastIndex,s)||(n.lastIndex=s),null===u?-1:u.index}]})},86736(t,e,r){"use strict";r(74017)},87659(t,e,r){"use strict";r(68423)("flatMap")},87723(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},87772(t,e,r){"use strict";var n=r(70639),i=r(59637),o=r(91787),a=r(50286),s=r(27649),c=TypeError;t.exports=function(t,e){var r=t.exec;if(o(r)){var l=n(r,t,e);return null!==l&&i(l),l}if("RegExp"===a(t))return n(s,t,e);throw new c("RegExp#exec called on incompatible receiver")}},87874(t,e,r){"use strict";var n=r(12106);t.exports=n([].slice)},87987(t,e,r){"use strict";var n=r(50265),i=r(58993),o=r(62381),a=i("species");t.exports=function(t){return o>=51||!n(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},88402(t,e,r){"use strict";var n=r(92714),i=r(79224),o=r(58354),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},88423(t,e,r){"use strict";var n=r(74713);t.exports="NODE"===n},88692(t,e,r){"use strict";var n=r(12106),i=r(79224),o=r(51544),a=r(11467),s=r(87874),c=r(58354),l=Function,u=n([].concat),h=n([].join),f={};t.exports=c?l.bind:function(t){var e=i(this),r=e.prototype,n=s(arguments,1),c=function(){var r=u(n,s(arguments));return this instanceof c?function(t,e,r){if(!a(f,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";f[e]=l("C,a","return new C("+h(n,",")+")")}return f[e](t,r)}(e,r.length,r):e.apply(t,r)};return o(r)&&(c.prototype=r),c}},88798(t,e,r){"use strict";r(43368)},88871(t){"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},89049(t,e,r){"use strict";var n=r(20177),i=r(12106),o=r(52438),a=r(42891),s=r(59637),c=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?c(e,r(t)):e}},89585(t,e,r){"use strict";var n=r(3693),i=r(56687),o=r(31181),a=Error.captureStackTrace;t.exports=function(t,e,r,s){o&&(a?a(t,e):n(t,"stack",i(r,s)))}},90009(t,e,r){"use strict";var n=r(52870),i=r(98960).has,o=r(43524),a=r(16235),s=r(97313),c=r(71905);t.exports=function(t){var e=n(this),r=a(t);if(o(e)<r.size)return!1;var l=r.getIterator();return!1!==s(l,function(t){if(!i(e,t))return c(l,"normal",!1)})}},90608(t,e,r){"use strict";var n=r(70639),i=r(20177),o=r(58993),a=r(82554);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,function(t){return n(r,this)},{arity:1})}},90675(t){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},90717(t,e,r){"use strict";var n=r(50265),i=r(99466).RegExp;t.exports=n(function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})},90760(t,e,r){"use strict";var n=r(91652),i=r(65174),o=r(50265);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("difference",function(t){return 0===t.size})||o(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var r=t++>1;return e.has(1)&&e.clear(),{done:r,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size})},{difference:i})},90930(t,e,r){"use strict";var n=r(11467),i=r(82554),o=r(24142),a=r(58993)("toPrimitive"),s=Date.prototype;n(s,a)||i(s,a,o)},90972(t,e,r){"use strict";var n=r(93534),i=r(73556),o=r(48880),a=n.aTypedArray,s=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("subarray",function(t,e){var r=a(this),n=r.length,c=o(t,n);return new(s(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,i((void 0===e?n:o(e,n))-c))})},91041(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(15093),a=r(59637),s=r(91787),c=r(3421),l=r(95160),u=r(44366),h=r(50265),f=r(11467),d=r(58993),p=r(42811).IteratorPrototype,v=r(3806),m=r(36613),y="constructor",g="Iterator",b=d("toStringTag"),_=TypeError,w=i[g],S=m||!s(w)||w.prototype!==p||!h(function(){w({})}),E=function(){if(o(this,p),c(this)===p)throw new _("Abstract class Iterator not directly constructable")},T=function(t,e){v?l(p,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===p)throw new _("You can't redefine this property");f(this,t)?this[t]=e:u(this,t,e)}}):p[t]=e};f(p,b)||T(b,g),!S&&f(p,y)&&p[y]!==Object||T(y,E),E.prototype=p,n({global:!0,constructor:!0,forced:S},{Iterator:E})},91227(t,e,r){"use strict";var n=r(70639),i=r(12106),o=r(92318),a=r(59637),s=r(51544),c=r(73556),l=r(48085),u=r(58400),h=r(54996),f=r(70275),d=r(60120),p=r(87772),v=i("".indexOf);o("match",function(t,e,r){return[function(e){var r=u(this),i=s(e)?h(e,t):void 0;return i?n(i,e,r):new RegExp(e)[t](l(r))},function(t){var n=a(this),i=l(t),o=r(e,n,i);if(o.done)return o.value;var s=l(d(n));if(-1===v(s,"g"))return p(n,i);var u=-1!==v(s,"u");n.lastIndex=0;for(var h,m=[],y=0;null!==(h=p(n,i));){var g=l(h[0]);m[y]=g,""===g&&(n.lastIndex=f(i,c(n.lastIndex),u)),y++}return 0===y?null:m}]})},91436(t,e,r){"use strict";var n=r(99466),i=r(95057),o=r(12100),a=n.DataView;t.exports=function(t){if(!i||0!==o(t))return!1;try{return new a(t),!1}catch(t){return!0}}},91652(t,e,r){"use strict";var n=r(99466),i=r(56065).f,o=r(3693),a=r(82554),s=r(20015),c=r(35670),l=r(35498);t.exports=function(t,e){var r,u,h,f,d,p=t.target,v=t.global,m=t.stat;if(r=v?n:m?n[p]||s(p,{}):n[p]&&n[p].prototype)for(u in e){if(f=e[u],h=t.dontCallGetSet?(d=i(r,u))&&d.value:r[u],!l(v?u:p+(m?".":"#")+u,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(r,u,f,t)}}},91678(t){"use strict";var e=TypeError;t.exports=function(t){var r=t&&t.alphabet;if(void 0===r||"base64"===r||"base64url"===r)return r||"base64";throw new e("Incorrect `alphabet` option")}},91787(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},92261(t,e,r){"use strict";var n=r(99466),i=r(12106),o=r(94626),a=r(22621),s=r(11467),c=r(32022),l=r(91678),u=r(77839),h=c.c2i,f=c.c2iUrl,d=n.SyntaxError,p=n.TypeError,v=i("".charAt),m=function(t,e){for(var r=t.length;e<r;e++){var n=v(t,e);if(" "!==n&&"\t"!==n&&"\n"!==n&&"\f"!==n&&"\r"!==n)break}return e},y=function(t,e,r){var n=t.length;n<4&&(t+=2===n?"AA":"A");var i=(e[v(t,0)]<<18)+(e[v(t,1)]<<12)+(e[v(t,2)]<<6)+e[v(t,3)],o=[i>>16&255,i>>8&255,255&i];if(2===n){if(r&&0!==o[1])throw new d("Extra bits");return[o[0]]}if(3===n){if(r&&0!==o[2])throw new d("Extra bits");return[o[0],o[1]]}return o},g=function(t,e,r){for(var n=e.length,i=0;i<n;i++)t[r+i]=e[i];return r+n};t.exports=function(t,e,r,n){a(t),o(e);var i="base64"===l(e)?h:f,c=e?e.lastChunkHandling:void 0;if(void 0===c&&(c="loose"),"loose"!==c&&"strict"!==c&&"stop-before-partial"!==c)throw new p("Incorrect `lastChunkHandling` option");r&&u(r.buffer);var b=t.length,_=r||[],w=0,S=0,E="",T=0;if(n)for(;;){if((T=m(t,T))===b){if(E.length>0){if("stop-before-partial"===c)break;if("loose"!==c)throw new d("Missing padding");if(1===E.length)throw new d("Malformed padding: exactly one additional character");w=g(_,y(E,i,!1),w)}S=b;break}var x=v(t,T);if(++T,"="===x){if(E.length<2)throw new d("Padding is too early");if(T=m(t,T),2===E.length){if(T===b){if("stop-before-partial"===c)break;throw new d("Malformed padding: only one =")}"="===v(t,T)&&(++T,T=m(t,T))}if(T<b)throw new d("Unexpected character after padding");w=g(_,y(E,i,"strict"===c),w),S=b;break}if(!s(i,x))throw new d("Unexpected character");var A=n-w;if(1===A&&2===E.length||2===A&&3===E.length)break;if(4===(E+=x).length&&(w=g(_,y(E,i,!1),w),E="",S=T,w===n))break}return{bytes:_,read:S,written:w}}},92318(t,e,r){"use strict";r(54029);var n=r(70639),i=r(82554),o=r(27649),a=r(50265),s=r(58993),c=r(3693),l=s("species"),u=RegExp.prototype;t.exports=function(t,e,r,h){var f=s(t),d=!a(function(){var e={};return e[f]=function(){return 7},7!==""[t](e)}),p=d&&!a(function(){var e=!1,r=/a/;if("split"===t){var n={};n[l]=function(){return r},(r={constructor:n,flags:""})[f]=/./[f]}return r.exec=function(){return e=!0,null},r[f](""),!e});if(!d||!p||r){var v=/./[f],m=e(f,""[t],function(t,e,r,i,a){var s=e.exec;return s===o||s===u.exec?d&&!a?{done:!0,value:n(v,e,r,i)}:{done:!0,value:n(t,r,e,i)}:{done:!1}});i(String.prototype,t,m[0]),i(u,f,m[1])}h&&c(u[f],"sham",!0)}},92342(t,e,r){"use strict";var n=r(91652),i=r(29507).findIndex,o=r(68423),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},92431(t,e,r){"use strict";var n=r(20177),i=r(11467),o=r(3693),a=r(8367),s=r(40017),c=r(35670),l=r(12686),u=r(10957),h=r(85361),f=r(77186),d=r(89585),p=r(3806),v=r(36613);t.exports=function(t,e,r,m){var y="stackTraceLimit",g=m?2:1,b=t.split("."),_=b[b.length-1],w=n.apply(null,b);if(w){var S=w.prototype;if(!v&&i(S,"cause")&&delete S.cause,!r)return w;var E=n("Error"),T=e(function(t,e){var r=h(m?e:t,void 0),n=m?new w(t):new w;return void 0!==r&&o(n,"message",r),d(n,T,n.stack,2),this&&a(S,this)&&u(n,this,T),arguments.length>g&&f(n,arguments[g]),n});if(T.prototype=S,"Error"!==_?s?s(T,E):c(T,E,{name:!0}):p&&y in w&&(l(T,w,y),l(T,w,"prepareStackTrace")),c(T,w),!v)try{S.name!==_&&o(S,"name",_),S.constructor=T}catch(t){}return T}}},92482(t,e,r){"use strict";var n=r(57103),i=r(68423),o=r(59671),a=r(19043),s=r(20011).f,c=r(49166),l=r(37007),u=r(36613),h=r(3806),f="Array Iterator",d=a.set,p=a.getterFor(f);t.exports=c(Array,"Array",function(t,e){d(this,{type:f,target:n(t),index:0,kind:e})},function(){var t=p(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,l(void 0,!0);switch(t.kind){case"keys":return l(r,!1);case"values":return l(e[r],!1)}return l([r,e[r]],!1)},"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&h&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(t){}},92649(t,e,r){"use strict";var n=r(91652),i=r(12106),o=r(10067),a=r(51544),s=r(11467),c=r(20011).f,l=r(52438),u=r(3476),h=r(53986),f=r(62122),d=r(3938),p=!1,v=f("meta"),m=0,y=function(t){c(t,v,{value:{objectID:"O"+m++,weakData:{}}})},g=t.exports={enable:function(){g.enable=function(){},p=!0;var t=l.f,e=i([].splice),r={};r[v]=1,t(r).length&&(l.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===v){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!h(t))return"F";if(!e)return"E";y(t)}return t[v].objectID},getWeakData:function(t,e){if(!s(t,v)){if(!h(t))return!0;if(!e)return!1;y(t)}return t[v].weakData},onFreeze:function(t){return d&&p&&h(t)&&!s(t,v)&&y(t),t}};o[v]=!0},92714(t,e,r){"use strict";var n=r(50286),i=r(12106);t.exports=function(t){if("Function"===n(t))return i(t)}},93217(t,e,r){"use strict";var n=r(91652),i=r(12106),o=r(38717),a=r(58400),s=r(48085),c=r(1178),l=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},93534(t,e,r){"use strict";var n,i,o,a=r(95057),s=r(3806),c=r(99466),l=r(91787),u=r(51544),h=r(11467),f=r(40257),d=r(74185),p=r(3693),v=r(82554),m=r(95160),y=r(8367),g=r(3421),b=r(40017),_=r(58993),w=r(62122),S=r(19043),E=S.enforce,T=S.get,x=c.Int8Array,A=x&&x.prototype,k=c.Uint8ClampedArray,O=k&&k.prototype,C=x&&g(x),P=A&&g(A),I=Object.prototype,R=c.TypeError,M=_("toStringTag"),L=w("TYPED_ARRAY_TAG"),j="TypedArrayConstructor",D=a&&!!b&&"Opera"!==f(c.opera),N=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},U=function(t){var e=g(t);if(u(e)){var r=T(e);return r&&h(r,j)?r[j]:U(e)}},z=function(t){if(!u(t))return!1;var e=f(t);return h(B,e)||h(F,e)};for(n in B)(o=(i=c[n])&&i.prototype)?E(o)[j]=i:D=!1;for(n in F)(o=(i=c[n])&&i.prototype)&&(E(o)[j]=i);if((!D||!l(C)||C===Function.prototype)&&(C=function(){throw new R("Incorrect invocation")},D))for(n in B)c[n]&&b(c[n],C);if((!D||!P||P===I)&&(P=C.prototype,D))for(n in B)c[n]&&b(c[n].prototype,P);if(D&&g(O)!==P&&b(O,P),s&&!h(P,M))for(n in N=!0,m(P,M,{configurable:!0,get:function(){return u(this)?this[L]:void 0}}),B)c[n]&&p(c[n],L,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:N&&L,aTypedArray:function(t){if(z(t))return t;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(l(t)&&(!b||y(C,t)))return t;throw new R(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(s){if(r)for(var i in B){var o=c[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(r){try{o.prototype[t]=e}catch(t){}}}P[t]&&!r||v(P,t,r?e:D&&A[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(s){if(b){if(r)for(n in B)if((i=c[n])&&h(i,t))try{delete i[t]}catch(t){}if(C[t]&&!r)return;try{return v(C,t,r?e:D&&C[t]||e)}catch(t){}}for(n in B)!(i=c[n])||i[t]&&!r||v(i,t,e)}},getTypedArrayConstructor:U,isView:function(t){if(!u(t))return!1;var e=f(t);return"DataView"===e||h(B,e)||h(F,e)},isTypedArray:z,TypedArray:C,TypedArrayPrototype:P}},93815(t,e,r){"use strict";r(71930)},94121(t,e,r){"use strict";var n=r(93534),i=r(50265),o=r(87874),a=n.aTypedArray,s=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("slice",function(t,e){for(var r=o(a(this),t,e),n=s(this),i=0,c=r.length,l=new n(c);c>i;)l[i]=r[i++];return l},i(function(){new Int8Array(1).slice()}))},94562(t,e,r){"use strict";var n,i,o,a,s=r(91652),c=r(36613),l=r(88423),u=r(99466),h=r(52285),f=r(70639),d=r(82554),p=r(40017),v=r(62005),m=r(6419),y=r(79224),g=r(91787),b=r(51544),_=r(15093),w=r(79235),S=r(66543).set,E=r(32649),T=r(87723),x=r(80481),A=r(38147),k=r(19043),O=r(57632),C=r(73486),P=r(75477),I="Promise",R=C.CONSTRUCTOR,M=C.REJECTION_EVENT,L=C.SUBCLASSING,j=k.getterFor(I),D=k.set,N=O&&O.prototype,B=O,F=N,U=u.TypeError,z=u.document,H=u.process,G=P.f,Y=G,q=!!(z&&z.createEvent&&u.dispatchEvent),V="unhandledrejection",W=function(t){var e;return!(!b(t)||!g(e=t.then))&&e},$=function(t,e){var r,n,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(a||(2===e.rejection&&Q(e),e.rejection=1),!0===s?r=o:(u&&u.enter(),r=s(o),u&&(u.exit(),i=!0)),r===t.promise?l(new U("Promise-chain cycle")):(n=W(r))?f(n,r,c,l):c(r)):l(o)}catch(t){u&&!i&&u.exit(),l(t)}},K=function(t,e){t.notified||(t.notified=!0,E(function(){for(var r,n=t.reactions;r=n.get();)$(r,t);t.notified=!1,e&&!t.rejection&&X(t)}))},Z=function(t,e,r){var n,i;q?((n=z.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!M&&(i=u["on"+t])?i(n):t===V&&T("Unhandled promise rejection",r)},X=function(t){f(S,u,function(){var e,r=t.facade,n=t.value;if(J(t)&&(e=x(function(){l?H.emit("unhandledRejection",n,r):Z(V,r,n)}),t.rejection=l||J(t)?2:1,e.error))throw e.value})},J=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){f(S,u,function(){var e=t.facade;l?H.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)})},tt=function(t,e,r){return function(n){t(e,n,r)}},et=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,K(t,!0))},rt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new U("Promise can't be resolved itself");var n=W(e);n?E(function(){var r={done:!1};try{f(n,e,tt(rt,r,t),tt(et,r,t))}catch(e){et(r,e,t)}}):(t.value=e,t.state=1,K(t,!1))}catch(e){et({done:!1},e,t)}}};if(R&&(F=(B=function(t){_(this,F),y(t),f(n,this);var e=j(this);try{t(tt(rt,e),tt(et,e))}catch(t){et(e,t)}}).prototype,(n=function(t){D(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:null})}).prototype=d(F,"then",function(t,e){var r=j(this),n=G(w(this,B));return r.parent=!0,n.ok=!g(t)||t,n.fail=g(e)&&e,n.domain=l?H.domain:void 0,0===r.state?r.reactions.add(n):E(function(){$(n,r)}),n.promise}),i=function(){var t=new n,e=j(t);this.promise=t,this.resolve=tt(rt,e),this.reject=tt(et,e)},P.f=G=function(t){return t===B||t===o?new i(t):Y(t)},!c&&g(O)&&N!==Object.prototype)){a=N.then,L||d(N,"then",function(t,e){var r=this;return new B(function(t,e){f(a,r,t,e)}).then(t,e)},{unsafe:!0});try{delete N.constructor}catch(t){}p&&p(N,F)}s({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:B}),o=h.Promise,v(B,I,!1,!0),m(I)},94626(t,e,r){"use strict";var n=r(51544),i=String,o=TypeError;t.exports=function(t){if(void 0===t||n(t))return t;throw new o(i(t)+" is not an object or undefined")}},94628(t,e,r){"use strict";var n=r(93534),i=r(29507).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},94632(t,e,r){"use strict";var n=r(98960),i=r(67191),o=n.Set,a=n.add;t.exports=function(t){var e=new o;return i(t,function(t){a(e,t)}),e}},95013(t,e,r){"use strict";r(58190)},95057(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},95160(t,e,r){"use strict";var n=r(82393),i=r(20011);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},95492(t){"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},96261(t,e,r){"use strict";var n=r(93534),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=Math.floor;o("reverse",function(){for(var t,e=this,r=i(e).length,n=a(r/2),o=0;o<n;)t=e[o],e[o++]=e[--r],e[r]=t;return e})},96270(t,e,r){"use strict";var n=r(93534),i=r(49675),o=r(11317),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(t){var e=arguments.length;return i(o,a(this),e>1?[t,arguments[1]]:[t])})},96301(t,e,r){"use strict";var n=r(91652),i=r(13295),o=r(68423);n({target:"Array",proto:!0},{fill:i}),o("fill")},96421(t,e,r){"use strict";var n=r(99466),i=r(50265),o=r(12106),a=r(48085),s=r(32336).trim,c=r(42046),l=n.parseInt,u=n.Symbol,h=u&&u.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==l(c+"08")||22!==l(c+"0x16")||h&&!i(function(){l(Object(h))});t.exports=p?function(t,e){var r=s(a(t));return l(r,e>>>0||(d(f,r)?16:10))}:l},96785(t,e,r){"use strict";var n=r(50265);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},96873(t,e,r){"use strict";var n=r(91652),i=r(99466),o=r(20177),a=r(61994),s=r(20011).f,c=r(11467),l=r(15093),u=r(10957),h=r(85361),f=r(50340),d=r(56687),p=r(3806),v=r(36613),m="DOMException",y=o("Error"),g=o(m),b=function(){l(this,_);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),n=new g(e,r),i=new y(e);return i.name=m,s(n,"stack",a(1,d(i.stack,1))),u(n,this,b),n},_=b.prototype=g.prototype,w="stack"in new y(m),S="stack"in new g(1,2),E=g&&p&&Object.getOwnPropertyDescriptor(i,m),T=!(!E||E.writable&&E.configurable),x=w&&!T&&!S;n({global:!0,constructor:!0,forced:v||x},{DOMException:x?b:g});var A=o(m),k=A.prototype;if(k.constructor!==A)for(var O in v||s(k,"constructor",a(1,A)),f)if(c(f,O)){var C=f[O],P=C.s;c(A,P)||s(A,P,a(6,C.c))}},97217(t,e,r){"use strict";var n=r(91652),i=r(70639),o=r(79224),a=r(75477),s=r(80481),c=r(23442);n({target:"Promise",stat:!0,forced:r(73823)},{race:function(t){var e=this,r=a.f(e),n=r.reject,l=s(function(){var a=o(e.resolve);c(t,function(t){i(a,e,t).then(r.resolve,n)})});return l.error&&n(l.value),r.promise}})},97313(t,e,r){"use strict";var n=r(70639);t.exports=function(t,e,r){for(var i,o,a=r?t:t.iterator,s=t.next;!(i=n(s,a)).done;)if(void 0!==(o=e(i.value)))return o}},97694(t,e,r){var n;t.exports=(n=r(19959),n.enc.Hex)},97949(t,e,r){"use strict";var n=r(91652),i=r(90009);n({target:"Set",proto:!0,real:!0,forced:!r(27002)("isSupersetOf",function(t){return!t})},{isSupersetOf:i})},98115(t,e,r){"use strict";r(48018)},98244(t,e,r){"use strict";var n=r(12106),i=r(72139),o=Math.floor,a=n("".charAt),s=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,h,f){var d=r+t.length,p=n.length,v=u;return void 0!==h&&(h=i(h),v=l),s(f,v,function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,d);case"<":l=h[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>p){var f=o(u/10);return 0===f?i:f<=p?void 0===n[f-1]?a(s,1):n[f-1]+a(s,1):i}l=n[u-1]}return void 0===l?"":l})}},98444(t,e,r){"use strict";var n=r(91652),i=r(72139),o=r(2896),a=r(29193),s=r(90675);n({target:"Array",proto:!0,arity:1,forced:r(50265)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),r=o(e),n=arguments.length;s(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return a(e,r),r}})},98960(t,e,r){"use strict";var n=r(12106),i=Set.prototype;t.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},99134(t,e,r){"use strict";var n=r(75373);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},99466(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},99483(t,e,r){"use strict";var n=r(3806),i=r(50265),o=r(12106),a=r(3421),s=r(57178),c=r(57103),l=o(r(77739).f),u=o([].push),h=n&&i(function(){var t=Object.create(null);return t[2]=2,!l(t,2)}),f=function(t){return function(e){for(var r,i=c(e),o=s(i),f=h&&null===a(i),d=o.length,p=0,v=[];d>p;)r=o[p++],n&&!(f?r in i:l(i,r))||u(v,t?[r,i[r]]:i[r]);return v}};t.exports={entries:f(!0),values:f(!1)}},99673(t,e,r){"use strict";var n=r(12106),i=r(50265),o=r(50286),a=Object,s=n("".split);t.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(t){return"String"===o(t)?s(t,""):a(t)}:a}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";r(69259),r(60441),r(7709),r(29),r(3438),r(18234),r(75496),r(9902),r(48580),r(41209),r(92482),r(82648),r(98444),r(15942),r(24664),r(90930),r(16676),r(80360),r(39710),r(61855),r(18899),r(56012),r(62729),r(4748),r(34117),r(66754),r(82425),r(4573),r(40374),r(14204),r(23517),r(54029),r(12048),r(22935),r(63945),r(90760),r(52598),r(40543),r(19830),r(97949),r(82370),r(63692),r(93217),r(41178),r(39942),r(44760),r(45502),r(34658),r(93815),r(2492),r(67930),r(60942),r(16415),r(63754),r(80794),r(88798),r(4713),r(49172),r(54367),r(17309),r(52247),r(6227),r(72026),r(67902),r(55319),r(20730),r(85688),r(74220),r(4446),r(64745),r(94628),r(85653),r(62085),r(4888),r(2580),r(50250),r(71925),r(52865),r(10259),r(96270),r(12277),r(83885),r(51806),r(96261),r(21187),r(94121),r(16859),r(61031),r(90972),r(14743),r(50033),r(1478),r(51954),r(28507),r(98115),r(56419),r(72777),r(63033),r(44259),r(28545),r(96873),r(14853);var t=r(28651),e=r.n(t),n=r(97694),i=r.n(n),o=r(65596),a=r.n(o),s=r(77164),c=r.n(s);function l(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}class u{type;data;constructor(t,e){this.type=t,this.data=e}}class h extends Error{constructor(t){super(t);const e=Object.create(h.prototype);Object.setPrototypeOf(this,e),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:h.name})}}const f=4294967295;function d(t,e){return 4294967296*t.getInt32(e)+t.getUint32(e+4)}function p({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=17179869183){if(0===e&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const r=t/4294967296,n=4294967295&t,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,e<<2|3&r),o.setUint32(4,n),i}}{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),function(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}(n,4,t),r}}const v={type:-1,encode:function(t){if(t instanceof Date){return p(function(t){const e=t.getTime(),r=Math.floor(e/1e3),n=1e6*(e-1e3*r),i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}(t))}return null},decode:function(t){const e=function(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0);return{sec:4294967296*(3&t)+e.getUint32(4),nsec:t>>>2}}case 12:return{sec:d(e,4),nsec:e.getUint32(0)};default:throw new h(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}(t);return new Date(1e3*e.sec+e.nsec/1e6)}};class m{static defaultCodec=new m;__brand;builtInEncoders=[];builtInDecoders=[];encoders=[];decoders=[];constructor(){this.register(v)}register({type:t,encode:e,decode:r}){if(t>=0)this.encoders[t]=e,this.decoders[t]=r;else{const n=-1-t;this.builtInEncoders[n]=e,this.builtInDecoders[n]=r}}tryToEncode(t,e){for(let r=0;r<this.builtInEncoders.length;r++){const n=this.builtInEncoders[r];if(null!=n){const i=n(t,e);if(null!=i){return new u(-1-r,i)}}}for(let r=0;r<this.encoders.length;r++){const n=this.encoders[r];if(null!=n){const i=n(t,e);if(null!=i){return new u(r,i)}}}return t instanceof u?t:null}decode(t,e,r){const n=e<0?this.builtInDecoders[-1-e]:this.decoders[e];return n?n(t,e,r):new u(e,t)}}new TextEncoder;function y(t,e,r){let n=e;const i=n+r,o=[];let a="";for(;n<i;){const e=t[n++];if(128&e)if(192==(224&e)){const r=63&t[n++];o.push((31&e)<<6|r)}else if(224==(240&e)){const r=63&t[n++],i=63&t[n++];o.push((31&e)<<12|r<<6|i)}else if(240==(248&e)){let r=(7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++];r>65535&&(r-=65536,o.push(r>>>10&1023|55296),r=56320|1023&r),o.push(r)}else o.push(e);else o.push(e);o.length>=4096&&(a+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(a+=String.fromCharCode(...o)),a}const g=new TextDecoder;function b(t,e,r){return r>200?function(t,e,r){const n=t.subarray(e,e+r);return g.decode(n)}(t,e,r):y(t,e,r)}function _(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):function(t){return t instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer}(t)?new Uint8Array(t):Uint8Array.from(t)}const w="array",S="map_key",E="map_value",T=t=>{if("string"==typeof t||"number"==typeof t)return t;throw new h("The type of key must be string or number but "+typeof t)};class x{stack=[];stackHeadPosition=-1;get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const e=this.getUninitializedStateFromPool();e.type=w,e.position=0,e.size=t,e.array=new Array(t)}pushMapState(t){const e=this.getUninitializedStateFromPool();e.type=S,e.readCount=0,e.size=t,e.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===w){const e=t;e.size=0,e.array=void 0,e.position=0,e.type=void 0}if(t.type===S||t.type===E){const e=t;e.size=0,e.map=void 0,e.readCount=0,e.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const A=new DataView(new ArrayBuffer(0)),k=new Uint8Array(A.buffer);try{A.getInt8(0)}catch(Rn){if(!(Rn instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const O=new RangeError("Insufficient data"),C=new class{hit=0;miss=0;caches;maxKeyLength;maxLengthPerKey;constructor(t=16,e=16){this.maxKeyLength=t,this.maxLengthPerKey=e,this.caches=[];for(let t=0;t<this.maxKeyLength;t++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,e,r){const n=this.caches[r-1];t:for(const i of n){const n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==t[e+i])continue t;return i.str}return null}store(t,e){const r=this.caches[t.length-1],n={bytes:t,str:e};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(t,e,r){const n=this.find(t,e,r);if(null!=n)return this.hit++,n;this.miss++;const i=y(t,e,r),o=Uint8Array.prototype.slice.call(t,e,e+r);return this.store(o,i),i}};class P{extensionCodec;context;useBigInt64;rawStrings;maxStrLength;maxBinLength;maxArrayLength;maxMapLength;maxExtLength;keyDecoder;mapKeyConverter;totalPos=0;pos=0;view=A;bytes=k;headByte=-1;stack=new x;entered=!1;constructor(t){this.extensionCodec=t?.extensionCodec??m.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??f,this.maxBinLength=t?.maxBinLength??f,this.maxArrayLength=t?.maxArrayLength??f,this.maxMapLength=t?.maxMapLength??f,this.maxExtLength=t?.maxExtLength??f,this.keyDecoder=void 0!==t?.keyDecoder?t.keyDecoder:C,this.mapKeyConverter=t?.mapKeyConverter??T}clone(){return new P({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(t){const e=_(t);this.bytes=e,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.pos=0}appendBuffer(t){if(-1!==this.headByte||this.hasRemaining(1)){const e=this.bytes.subarray(this.pos),r=_(t),n=new Uint8Array(e.length+r.length);n.set(e),n.set(r,e.length),this.setBuffer(n)}else this.setBuffer(t)}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:e,pos:r}=this;return new RangeError(`Extra ${e.byteLength-r} of ${e.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered){return this.clone().decode(t)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const e=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return e}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){const e=this.clone();return void(yield*e.decodeMulti(t))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered){return this.clone().decodeAsync(t)}try{this.entered=!0;let e,r=!1;for await(const n of t){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{e=this.doDecodeSync(),r=!0}catch(t){if(!(t instanceof RangeError))throw t}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return e}const{headByte:n,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${l(n)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,e){if(this.entered){const r=this.clone();return void(yield*r.decodeMultiAsync(t,e))}try{this.entered=!0;let r=e,n=-1;for await(const i of t){if(e&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--n;);}catch(t){if(!(t instanceof RangeError))throw t}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){const t=this.readHeadByte();let e;if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){const r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue t}e={}}else if(t<160){const r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue t}e=[]}else{const r=t-160;e=this.decodeString(r,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){const t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){const t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){const t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){const t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue t}e=[]}else if(221===t){const t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue t}e=[]}else if(222===t){const t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue t}e={}}else if(223===t){const t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue t}e={}}else if(196===t){const t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){const t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){const t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){const t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){const t=this.lookU16();e=this.decodeExtension(t,2)}else{if(201!==t)throw new h(`Unrecognized type byte: ${l(t)}`);{const t=this.lookU32();e=this.decodeExtension(t,4)}}this.complete();const r=this.stack;for(;r.length>0;){const t=r.top();if(t.type===w){if(t.array[t.position]=e,t.position++,t.position!==t.size)continue t;e=t.array,r.release(t)}else{if(t.type===S){if("__proto__"===e)throw new h("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=E;continue t}if(t.map[t.key]=e,t.readCount++,t.readCount!==t.size){t.key=null,t.type=S;continue t}e=t.map,r.release(t)}}return e}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:if(t<160)return t-144;throw new h(`Unrecognized array type byte: ${l(t)}`)}}pushMapState(t){if(t>this.maxMapLength)throw new h(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new h(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,e){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,e):this.decodeBinary(t,e)}decodeUtf8String(t,e){if(t>this.maxStrLength)throw new h(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+e+t)throw O;const r=this.pos+e;let n;return n=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?this.keyDecoder.decode(this.bytes,r,t):b(this.bytes,r,t),this.pos+=e+t,n}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===S}return!1}decodeBinary(t,e){if(t>this.maxBinLength)throw new h(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+e))throw O;const r=this.pos+e,n=this.bytes.subarray(r,r+t);return this.pos+=e+t,n}decodeExtension(t,e){if(t>this.maxExtLength)throw new h(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+e),n=this.decodeBinary(t,e+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=function(t,e){return 4294967296*t.getUint32(e)+t.getUint32(e+4)}(this.view,this.pos);return this.pos+=8,t}readI64(){const t=d(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}}function I(t){let e=t.length;for(;--e>=0;)t[e]=0}const R=256,M=286,L=30,j=15,D=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),N=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U=new Array(576);I(U);const z=new Array(60);I(z);const H=new Array(512);I(H);const G=new Array(256);I(G);const Y=new Array(29);I(Y);const q=new Array(L);function V(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let W,$,K;function Z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}I(q);const X=t=>t<256?H[t]:H[256+(t>>>7)],J=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Q=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,J(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},tt=(t,e,r)=>{Q(t,r[2*e],r[2*e+1])},et=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},rt=(t,e,r)=>{const n=new Array(16);let i,o,a=0;for(i=1;i<=j;i++)a=a+r[i-1]<<1,n[i]=a;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=et(n[e]++,e))}},nt=t=>{let e;for(e=0;e<M;e++)t.dyn_ltree[2*e]=0;for(e=0;e<L;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},it=t=>{t.bi_valid>8?J(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ot=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},at=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&ot(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!ot(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},st=(t,e,r)=>{let n,i,o,a,s=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+s++],n+=(255&t.pending_buf[t.sym_buf+s++])<<8,i=t.pending_buf[t.sym_buf+s++],0===n?tt(t,i,e):(o=G[i],tt(t,o+R+1,e),a=D[o],0!==a&&(i-=Y[o],Q(t,i,a)),n--,o=X(n),tt(t,o,r),a=N[o],0!==a&&(n-=q[o],Q(t,n,a)))}while(s<t.sym_next);tt(t,256,e)},ct=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let a,s,c,l=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<o;a++)0!==r[2*a]?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)at(t,r,a);c=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],at(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,r[2*c]=r[2*a]+r[2*s],t.depth[c]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,r[2*a+1]=r[2*s+1]=c,t.heap[1]=c++,at(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,c=e.stat_desc.max_length;let l,u,h,f,d,p,v=0;for(f=0;f<=j;f++)t.bl_count[f]=0;for(r[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)u=t.heap[l],f=r[2*r[2*u+1]+1]+1,f>c&&(f=c,v++),r[2*u+1]=f,u>n||(t.bl_count[f]++,d=0,u>=s&&(d=a[u-s]),p=r[2*u],t.opt_len+=p*(f+d),o&&(t.static_len+=p*(i[2*u+1]+d)));if(0!==v){do{for(f=c-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(f=c;0!==f;f--)for(u=t.bl_count[f];0!==u;)h=t.heap[--l],h>n||(r[2*h+1]!==f&&(t.opt_len+=(f-r[2*h+1])*r[2*h],r[2*h+1]=f),u--)}})(t,e),rt(r,l,t.bl_count)},lt=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<c&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))},ut=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<c&&i===a)){if(s<l)do{tt(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(tt(t,i,t.bl_tree),s--),tt(t,16,t.bl_tree),Q(t,s-3,2)):s<=10?(tt(t,17,t.bl_tree),Q(t,s-3,3)):(tt(t,18,t.bl_tree),Q(t,s-11,7));s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4)}};let ht=!1;const ft=(t,e,r,n)=>{Q(t,0+(n?1:0),3),it(t),J(t,r),J(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var dt=(t,e,r,n)=>{let i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<R;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ct(t,t.l_desc),ct(t,t.d_desc),a=(t=>{let e;for(lt(t,t.dyn_ltree,t.l_desc.max_code),lt(t,t.dyn_dtree,t.d_desc.max_code),ct(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*F[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?ft(t,e,r,n):4===t.strategy||o===i?(Q(t,2+(n?1:0),3),st(t,U,z)):(Q(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(Q(t,e-257,5),Q(t,r-1,5),Q(t,n-4,4),i=0;i<n;i++)Q(t,t.bl_tree[2*F[i]+1],3);ut(t,t.dyn_ltree,e-1),ut(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),st(t,t.dyn_ltree,t.dyn_dtree)),nt(t),n&&it(t)},pt={_tr_init:t=>{ht||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(Y[n]=r,t=0;t<1<<D[n];t++)G[r++]=n;for(G[r-1]=n,i=0,n=0;n<16;n++)for(q[n]=i,t=0;t<1<<N[n];t++)H[i++]=n;for(i>>=7;n<L;n++)for(q[n]=i<<7,t=0;t<1<<N[n]-7;t++)H[256+i++]=n;for(e=0;e<=j;e++)o[e]=0;for(t=0;t<=143;)U[2*t+1]=8,t++,o[8]++;for(;t<=255;)U[2*t+1]=9,t++,o[9]++;for(;t<=279;)U[2*t+1]=7,t++,o[7]++;for(;t<=287;)U[2*t+1]=8,t++,o[8]++;for(rt(U,287,o),t=0;t<L;t++)z[2*t+1]=5,z[2*t]=et(t,5);W=new V(U,D,257,M,j),$=new V(z,N,0,L,j),K=new V(new Array(0),B,0,19,7)})(),ht=!0),t.l_desc=new Z(t.dyn_ltree,W),t.d_desc=new Z(t.dyn_dtree,$),t.bl_desc=new Z(t.bl_tree,K),t.bi_buf=0,t.bi_valid=0,nt(t)},_tr_stored_block:ft,_tr_flush_block:dt,_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(G[r]+R+1)]++,t.dyn_dtree[2*X(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{Q(t,2,3),tt(t,256,U),(t=>{16===t.bi_valid?(J(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var vt=(t,e,r,n)=>{let i=65535&t,o=t>>>16&65535,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+e[n++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16};const mt=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var yt=(t,e,r,n)=>{const i=mt,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},gt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_t,_tr_stored_block:wt,_tr_flush_block:St,_tr_tally:Et,_tr_align:Tt}=pt,{Z_NO_FLUSH:xt,Z_PARTIAL_FLUSH:At,Z_FULL_FLUSH:kt,Z_FINISH:Ot,Z_BLOCK:Ct,Z_OK:Pt,Z_STREAM_END:It,Z_STREAM_ERROR:Rt,Z_DATA_ERROR:Mt,Z_BUF_ERROR:Lt,Z_DEFAULT_COMPRESSION:jt,Z_FILTERED:Dt,Z_HUFFMAN_ONLY:Nt,Z_RLE:Bt,Z_FIXED:Ft,Z_DEFAULT_STRATEGY:Ut,Z_UNKNOWN:zt,Z_DEFLATED:Ht}=bt,Gt=258,Yt=262,qt=42,Vt=113,Wt=666,$t=(t,e)=>(t.msg=gt[e],e),Kt=t=>2*t-(t>4?9:0),Zt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Xt=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let Jt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Qt=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},te=(t,e)=>{St(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Qt(t.strm)},ee=(t,e)=>{t.pending_buf[t.pending++]=e},re=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},ne=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=vt(t.adler,e,i,r):2===t.state.wrap&&(t.adler=yt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},ie=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match;const c=t.strstart>t.w_size-Yt?t.strstart-(t.w_size-Yt):0,l=t.window,u=t.w_mask,h=t.prev,f=t.strstart+Gt;let d=l[o+a-1],p=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,l[r+a]===p&&l[r+a-1]===d&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<f);if(n=Gt-(f-o),o=f-Gt,n>a){if(t.match_start=e,a=n,n>=s)break;d=l[o+a-1],p=l[o+a]}}}while((e=h[e&u])>c&&0!==--i);return a<=t.lookahead?a:t.lookahead},oe=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Yt)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Xt(t),n+=e),0===t.strm.avail_in)break;if(r=ne(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Jt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Jt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Yt&&0!==t.strm.avail_in)},ae=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,s=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==Ot||e===xt||r!==n+t.strm.avail_in))break;a=e===Ot&&r===n+t.strm.avail_in?1:0,wt(t,0,0,a),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Qt(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(ne(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===a);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==xt&&e!==Ot&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(ne(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===Ot)&&e!==xt&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,a=e===Ot&&0===t.strm.avail_in&&r===n?1:0,wt(t,t.block_start,r,a),t.block_start+=r,Qt(t.strm)),a?3:1)},se=(t,e)=>{let r,n;for(;;){if(t.lookahead<Yt){if(oe(t),t.lookahead<Yt&&e===xt)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Yt&&(t.match_length=ie(t,r)),t.match_length>=3)if(n=Et(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+1]);else n=Et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2},ce=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Yt){if(oe(t),t.lookahead<Yt&&e===xt)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Yt&&(t.match_length=ie(t,r),t.match_length<=5&&(t.strategy===Dt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Et(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(te(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Et(t,0,t.window[t.strstart-1]),n&&te(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Et(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2};function le(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const ue=[new le(0,0,0,0,ae),new le(4,4,8,4,se),new le(4,5,16,8,se),new le(4,6,32,32,se),new le(4,4,16,16,ce),new le(8,16,32,32,ce),new le(8,16,128,128,ce),new le(8,32,128,256,ce),new le(32,128,258,1024,ce),new le(32,258,258,4096,ce)];function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ht,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Zt(this.dyn_ltree),Zt(this.dyn_dtree),Zt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Zt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Zt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const fe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==qt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Vt&&e.status!==Wt?1:0},de=t=>{if(fe(t))return $t(t,Rt);t.total_in=t.total_out=0,t.data_type=zt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?qt:Vt,t.adler=2===e.wrap?0:1,e.last_flush=-2,_t(e),Pt},pe=t=>{const e=de(t);var r;return e===Pt&&((r=t.state).window_size=2*r.w_size,Zt(r.head),r.max_lazy_match=ue[r.level].max_lazy,r.good_match=ue[r.level].good_length,r.nice_match=ue[r.level].nice_length,r.max_chain_length=ue[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},ve=(t,e,r,n,i,o)=>{if(!t)return Rt;let a=1;if(e===jt&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==Ht||n<8||n>15||e<0||e>9||o<0||o>Ft||8===n&&1!==a)return $t(t,Rt);8===n&&(n=9);const s=new he;return t.state=s,s.strm=t,s.status=qt,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=o,s.method=r,pe(t)};var me=(t,e)=>{if(fe(t)||e>Ct||e<0)return t?$t(t,Rt):Rt;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===Wt&&e!==Ot)return $t(t,0===t.avail_out?Lt:Rt);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(Qt(t),0===t.avail_out)return r.last_flush=-1,Pt}else if(0===t.avail_in&&Kt(e)<=Kt(n)&&e!==Ot)return $t(t,Lt);if(r.status===Wt&&0!==t.avail_in)return $t(t,Lt);if(r.status===qt&&0===r.wrap&&(r.status=Vt),r.status===qt){let e=Ht+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=Nt||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,re(r,e),0!==r.strstart&&(re(r,t.adler>>>16),re(r,65535&t.adler)),t.adler=1,r.status=Vt,Qt(t),0!==r.pending)return r.last_flush=-1,Pt}if(57===r.status)if(t.adler=0,ee(r,31),ee(r,139),ee(r,8),r.gzhead)ee(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ee(r,255&r.gzhead.time),ee(r,r.gzhead.time>>8&255),ee(r,r.gzhead.time>>16&255),ee(r,r.gzhead.time>>24&255),ee(r,9===r.level?2:r.strategy>=Nt||r.level<2?4:0),ee(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ee(r,255&r.gzhead.extra.length),ee(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=yt(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(ee(r,0),ee(r,0),ee(r,0),ee(r,0),ee(r,0),ee(r,9===r.level?2:r.strategy>=Nt||r.level<2?4:0),ee(r,3),r.status=Vt,Qt(t),0!==r.pending)return r.last_flush=-1,Pt;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=yt(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,Qt(t),0!==r.pending)return r.last_flush=-1,Pt;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=yt(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=yt(t.adler,r.pending_buf,r.pending-n,n)),Qt(t),0!==r.pending)return r.last_flush=-1,Pt;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ee(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=yt(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=yt(t.adler,r.pending_buf,r.pending-n,n)),Qt(t),0!==r.pending)return r.last_flush=-1,Pt;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ee(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=yt(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Qt(t),0!==r.pending))return r.last_flush=-1,Pt;ee(r,255&t.adler),ee(r,t.adler>>8&255),t.adler=0}if(r.status=Vt,Qt(t),0!==r.pending)return r.last_flush=-1,Pt}if(0!==t.avail_in||0!==r.lookahead||e!==xt&&r.status!==Wt){let n=0===r.level?ae(r,e):r.strategy===Nt?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(oe(t),0===t.lookahead)){if(e===xt)return 1;break}if(t.match_length=0,r=Et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===Bt?((t,e)=>{let r,n,i,o;const a=t.window;for(;;){if(t.lookahead<=Gt){if(oe(t),t.lookahead<=Gt&&e===xt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+Gt;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=Gt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Et(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2})(r,e):ue[r.level].func(r,e);if(3!==n&&4!==n||(r.status=Wt),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),Pt;if(2===n&&(e===At?Tt(r):e!==Ct&&(wt(r,0,0,!1),e===kt&&(Zt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Qt(t),0===t.avail_out))return r.last_flush=-1,Pt}return e!==Ot?Pt:r.wrap<=0?It:(2===r.wrap?(ee(r,255&t.adler),ee(r,t.adler>>8&255),ee(r,t.adler>>16&255),ee(r,t.adler>>24&255),ee(r,255&t.total_in),ee(r,t.total_in>>8&255),ee(r,t.total_in>>16&255),ee(r,t.total_in>>24&255)):(re(r,t.adler>>>16),re(r,65535&t.adler)),Qt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Pt:It)},ye={deflateInit:(t,e)=>ve(t,e,Ht,15,8,Ut),deflateInit2:ve,deflateReset:pe,deflateResetKeep:de,deflateSetHeader:(t,e)=>fe(t)||2!==t.state.wrap?Rt:(t.state.gzhead=e,Pt),deflate:me,deflateEnd:t=>{if(fe(t))return Rt;const e=t.state.status;return t.state=null,e===Vt?$t(t,Mt):Pt},deflateSetDictionary:(t,e)=>{let r=e.length;if(fe(t))return Rt;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==qt||n.lookahead)return Rt;if(1===i&&(t.adler=vt(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Zt(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,oe(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Jt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,n.wrap=i,Pt},deflateInfo:"pako deflate (from Nodeca project)"};const ge=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var be=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)ge(r,e)&&(t[e]=r[e])}}return t},_e=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let we=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){we=!1}const Se=new Uint8Array(256);for(let t=0;t<256;t++)Se[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Se[254]=Se[254]=1;var Ee=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},Te=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let a=Se[e];if(a>4)o[i++]=65533,n+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&n<r;)e=e<<6|63&t[n++],a--;a>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&we)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},xe=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Se[t[r]]>e?r:e};var Ae=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ke=Object.prototype.toString,{Z_NO_FLUSH:Oe,Z_SYNC_FLUSH:Ce,Z_FULL_FLUSH:Pe,Z_FINISH:Ie,Z_OK:Re,Z_STREAM_END:Me,Z_DEFAULT_COMPRESSION:Le,Z_DEFAULT_STRATEGY:je,Z_DEFLATED:De}=bt;function Ne(t){this.options=be({level:Le,method:De,chunkSize:16384,windowBits:15,memLevel:8,strategy:je},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ae,this.strm.avail_out=0;let r=ye.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Re)throw new Error(gt[r]);if(e.header&&ye.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Ee(e.dictionary):"[object ArrayBuffer]"===ke.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=ye.deflateSetDictionary(this.strm,t),r!==Re)throw new Error(gt[r]);this._dict_set=!0}}function Be(t,e){const r=new Ne(e);if(r.push(t,!0),r.err)throw r.msg||gt[r.err];return r.result}Ne.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Ie:Oe,"string"==typeof t?r.input=Ee(t):"[object ArrayBuffer]"===ke.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===Ce||o===Pe)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=ye.deflate(r,o),i===Me)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=ye.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Re;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Ne.prototype.onData=function(t){this.chunks.push(t)},Ne.prototype.onEnd=function(t){t===Re&&(this.result=_e(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Fe={Deflate:Ne,deflate:Be,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Be(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Be(t,e)},constants:bt};const Ue=16209;var ze=function(t,e){let r,n,i,o,a,s,c,l,u,h,f,d,p,v,m,y,g,b,_,w,S,E,T,x;const A=t.state;r=t.next_in,T=t.input,n=r+(t.avail_in-5),i=t.next_out,x=t.output,o=i-(e-t.avail_out),a=i+(t.avail_out-257),s=A.dmax,c=A.wsize,l=A.whave,u=A.wnext,h=A.window,f=A.hold,d=A.bits,p=A.lencode,v=A.distcode,m=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;t:do{d<15&&(f+=T[r++]<<d,d+=8,f+=T[r++]<<d,d+=8),g=p[f&m];e:for(;;){if(b=g>>>24,f>>>=b,d-=b,b=g>>>16&255,0===b)x[i++]=65535&g;else{if(!(16&b)){if(64&b){if(32&b){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=Ue;break t}g=p[(65535&g)+(f&(1<<b)-1)];continue e}for(_=65535&g,b&=15,b&&(d<b&&(f+=T[r++]<<d,d+=8),_+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=T[r++]<<d,d+=8,f+=T[r++]<<d,d+=8),g=v[f&y];;){if(b=g>>>24,f>>>=b,d-=b,b=g>>>16&255,16&b){if(w=65535&g,b&=15,d<b&&(f+=T[r++]<<d,d+=8,d<b&&(f+=T[r++]<<d,d+=8)),w+=f&(1<<b)-1,w>s){t.msg="invalid distance too far back",A.mode=Ue;break t}if(f>>>=b,d-=b,b=i-o,w>b){if(b=w-b,b>l&&A.sane){t.msg="invalid distance too far back",A.mode=Ue;break t}if(S=0,E=h,0===u){if(S+=c-b,b<_){_-=b;do{x[i++]=h[S++]}while(--b);S=i-w,E=x}}else if(u<b){if(S+=c+u-b,b-=u,b<_){_-=b;do{x[i++]=h[S++]}while(--b);if(S=0,u<_){b=u,_-=b;do{x[i++]=h[S++]}while(--b);S=i-w,E=x}}}else if(S+=u-b,b<_){_-=b;do{x[i++]=h[S++]}while(--b);S=i-w,E=x}for(;_>2;)x[i++]=E[S++],x[i++]=E[S++],x[i++]=E[S++],_-=3;_&&(x[i++]=E[S++],_>1&&(x[i++]=E[S++]))}else{S=i-w;do{x[i++]=x[S++],x[i++]=x[S++],x[i++]=x[S++],_-=3}while(_>2);_&&(x[i++]=x[S++],_>1&&(x[i++]=x[S++]))}break}if(64&b){t.msg="invalid distance code",A.mode=Ue;break t}g=v[(65535&g)+(f&(1<<b)-1)]}}break}}while(r<n&&i<a);_=d>>3,r-=_,d-=_<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<a?a-i+257:257-(i-a),A.hold=f,A.bits=d};const He=15,Ge=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var We=(t,e,r,n,i,o,a,s)=>{const c=s.bits;let l,u,h,f,d,p,v=0,m=0,y=0,g=0,b=0,_=0,w=0,S=0,E=0,T=0,x=null;const A=new Uint16Array(16),k=new Uint16Array(16);let O,C,P,I=null;for(v=0;v<=He;v++)A[v]=0;for(m=0;m<n;m++)A[e[r+m]]++;for(b=c,g=He;g>=1&&0===A[g];g--);if(b>g&&(b=g),0===g)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(y=1;y<g&&0===A[y];y++);for(b<y&&(b=y),S=1,v=1;v<=He;v++)if(S<<=1,S-=A[v],S<0)return-1;if(S>0&&(0===t||1!==g))return-1;for(k[1]=0,v=1;v<He;v++)k[v+1]=k[v]+A[v];for(m=0;m<n;m++)0!==e[r+m]&&(a[k[e[r+m]]++]=m);if(0===t?(x=I=a,p=20):1===t?(x=Ge,I=Ye,p=257):(x=qe,I=Ve,p=0),T=0,m=0,v=y,d=o,_=b,w=0,h=-1,E=1<<b,f=E-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){O=v-w,a[m]+1<p?(C=0,P=a[m]):a[m]>=p?(C=I[a[m]-p],P=x[a[m]-p]):(C=96,P=0),l=1<<v-w,u=1<<_,y=u;do{u-=l,i[d+(T>>w)+u]=O<<24|C<<16|P}while(0!==u);for(l=1<<v-1;T&l;)l>>=1;if(0!==l?(T&=l-1,T+=l):T=0,m++,0===--A[v]){if(v===g)break;v=e[r+a[m]]}if(v>b&&(T&f)!==h){for(0===w&&(w=b),d+=y,_=v-w,S=1<<_;_+w<g&&(S-=A[_+w],!(S<=0));)_++,S<<=1;if(E+=1<<_,1===t&&E>852||2===t&&E>592)return 1;h=T&f,i[h]=b<<24|_<<16|d-o}}return 0!==T&&(i[d+T]=v-w<<24|64<<16),s.bits=b,0};const{Z_FINISH:$e,Z_BLOCK:Ke,Z_TREES:Ze,Z_OK:Xe,Z_STREAM_END:Je,Z_NEED_DICT:Qe,Z_STREAM_ERROR:tr,Z_DATA_ERROR:er,Z_MEM_ERROR:rr,Z_BUF_ERROR:nr,Z_DEFLATED:ir}=bt,or=16180,ar=16190,sr=16191,cr=16192,lr=16194,ur=16199,hr=16200,fr=16206,dr=16209,pr=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function vr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mr=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<or||e.mode>16211?1:0},yr=t=>{if(mr(t))return tr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=or,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Xe},gr=t=>{if(mr(t))return tr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,yr(t)},br=(t,e)=>{let r;if(mr(t))return tr;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?tr:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,gr(t))},_r=(t,e)=>{if(!t)return tr;const r=new vr;t.state=r,r.strm=t,r.window=null,r.mode=or;const n=br(t,e);return n!==Xe&&(t.state=null),n};let wr,Sr,Er=!0;const Tr=t=>{if(Er){wr=new Int32Array(512),Sr=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(We(1,t.lens,0,288,wr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;We(2,t.lens,0,32,Sr,0,t.work,{bits:5}),Er=!1}t.lencode=wr,t.lenbits=9,t.distcode=Sr,t.distbits=5},xr=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Ar=(t,e)=>{let r,n,i,o,a,s,c,l,u,h,f,d,p,v,m,y,g,b,_,w,S,E,T=0;const x=new Uint8Array(4);let A,k;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mr(t)||!t.output||!t.input&&0!==t.avail_in)return tr;r=t.state,r.mode===sr&&(r.mode=cr),a=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,l=r.hold,u=r.bits,h=s,f=c,E=Xe;t:for(;;)switch(r.mode){case or:if(0===r.wrap){r.mode=cr;break}for(;u<16;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(2&r.wrap&&35615===l){0===r.wbits&&(r.wbits=15),r.check=0,x[0]=255&l,x[1]=l>>>8&255,r.check=yt(r.check,x,2,0),l=0,u=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=dr;break}if((15&l)!==ir){t.msg="unknown compression method",r.mode=dr;break}if(l>>>=4,u-=4,S=8+(15&l),0===r.wbits&&(r.wbits=S),S>15||S>r.wbits){t.msg="invalid window size",r.mode=dr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&l?16189:sr,l=0,u=0;break;case 16181:for(;u<16;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(r.flags=l,(255&r.flags)!==ir){t.msg="unknown compression method",r.mode=dr;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=dr;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&4&r.wrap&&(x[0]=255&l,x[1]=l>>>8&255,r.check=yt(r.check,x,2,0)),l=0,u=0,r.mode=16182;case 16182:for(;u<32;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}r.head&&(r.head.time=l),512&r.flags&&4&r.wrap&&(x[0]=255&l,x[1]=l>>>8&255,x[2]=l>>>16&255,x[3]=l>>>24&255,r.check=yt(r.check,x,4,0)),l=0,u=0,r.mode=16183;case 16183:for(;u<16;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&4&r.wrap&&(x[0]=255&l,x[1]=l>>>8&255,r.check=yt(r.check,x,2,0)),l=0,u=0,r.mode=16184;case 16184:if(1024&r.flags){for(;u<16;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&4&r.wrap&&(x[0]=255&l,x[1]=l>>>8&255,r.check=yt(r.check,x,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(d=r.length,d>s&&(d=s),d&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+d),S)),512&r.flags&&4&r.wrap&&(r.check=yt(r.check,n,d,o)),s-=d,o+=d,r.length-=d),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===s)break t;d=0;do{S=n[o+d++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S))}while(S&&d<s);if(512&r.flags&&4&r.wrap&&(r.check=yt(r.check,n,d,o)),s-=d,o+=d,S)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===s)break t;d=0;do{S=n[o+d++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S))}while(S&&d<s);if(512&r.flags&&4&r.wrap&&(r.check=yt(r.check,n,d,o)),s-=d,o+=d,S)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;u<16;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(4&r.wrap&&l!==(65535&r.check)){t.msg="header crc mismatch",r.mode=dr;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=sr;break;case 16189:for(;u<32;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}t.adler=r.check=pr(l),l=0,u=0,r.mode=ar;case ar:if(0===r.havedict)return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,r.hold=l,r.bits=u,Qe;t.adler=r.check=1,r.mode=sr;case sr:if(e===Ke||e===Ze)break t;case cr:if(r.last){l>>>=7&u,u-=7&u,r.mode=fr;break}for(;u<3;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}switch(r.last=1&l,l>>>=1,u-=1,3&l){case 0:r.mode=16193;break;case 1:if(Tr(r),r.mode=ur,e===Ze){l>>>=2,u-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=dr}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=dr;break}if(r.length=65535&l,l=0,u=0,r.mode=lr,e===Ze)break t;case lr:r.mode=16195;case 16195:if(d=r.length,d){if(d>s&&(d=s),d>c&&(d=c),0===d)break t;i.set(n.subarray(o,o+d),a),s-=d,o+=d,c-=d,a+=d,r.length-=d;break}r.mode=sr;break;case 16196:for(;u<14;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(r.nlen=257+(31&l),l>>>=5,u-=5,r.ndist=1+(31&l),l>>>=5,u-=5,r.ncode=4+(15&l),l>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=dr;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;u<3;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}r.lens[O[r.have++]]=7&l,l>>>=3,u-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},E=We(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,E){t.msg="invalid code lengths set",r.mode=dr;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[l&(1<<r.lenbits)-1],m=T>>>24,y=T>>>16&255,g=65535&T,!(m<=u);){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(g<16)l>>>=m,u-=m,r.lens[r.have++]=g;else{if(16===g){for(k=m+2;u<k;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(l>>>=m,u-=m,0===r.have){t.msg="invalid bit length repeat",r.mode=dr;break}S=r.lens[r.have-1],d=3+(3&l),l>>>=2,u-=2}else if(17===g){for(k=m+3;u<k;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}l>>>=m,u-=m,S=0,d=3+(7&l),l>>>=3,u-=3}else{for(k=m+7;u<k;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}l>>>=m,u-=m,S=0,d=11+(127&l),l>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=dr;break}for(;d--;)r.lens[r.have++]=S}}if(r.mode===dr)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=dr;break}if(r.lenbits=9,A={bits:r.lenbits},E=We(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,E){t.msg="invalid literal/lengths set",r.mode=dr;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},E=We(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,E){t.msg="invalid distances set",r.mode=dr;break}if(r.mode=ur,e===Ze)break t;case ur:r.mode=hr;case hr:if(s>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,r.hold=l,r.bits=u,ze(t,f),a=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,l=r.hold,u=r.bits,r.mode===sr&&(r.back=-1);break}for(r.back=0;T=r.lencode[l&(1<<r.lenbits)-1],m=T>>>24,y=T>>>16&255,g=65535&T,!(m<=u);){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(y&&!(240&y)){for(b=m,_=y,w=g;T=r.lencode[w+((l&(1<<b+_)-1)>>b)],m=T>>>24,y=T>>>16&255,g=65535&T,!(b+m<=u);){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}l>>>=b,u-=b,r.back+=b}if(l>>>=m,u-=m,r.back+=m,r.length=g,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=sr;break}if(64&y){t.msg="invalid literal/length code",r.mode=dr;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(k=r.extra;u<k;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;T=r.distcode[l&(1<<r.distbits)-1],m=T>>>24,y=T>>>16&255,g=65535&T,!(m<=u);){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(!(240&y)){for(b=m,_=y,w=g;T=r.distcode[w+((l&(1<<b+_)-1)>>b)],m=T>>>24,y=T>>>16&255,g=65535&T,!(b+m<=u);){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}l>>>=b,u-=b,r.back+=b}if(l>>>=m,u-=m,r.back+=m,64&y){t.msg="invalid distance code",r.mode=dr;break}r.offset=g,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(k=r.extra;u<k;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=dr;break}r.mode=16204;case 16204:if(0===c)break t;if(d=f-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=dr;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),v=r.window}else v=i,p=a-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do{i[a++]=v[p++]}while(--d);0===r.length&&(r.mode=hr);break;case 16205:if(0===c)break t;i[a++]=r.length,c--,r.mode=hr;break;case fr:if(r.wrap){for(;u<32;){if(0===s)break t;s--,l|=n[o++]<<u,u+=8}if(f-=c,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?yt(r.check,i,f,a-f):vt(r.check,i,f,a-f)),f=c,4&r.wrap&&(r.flags?l:pr(l))!==r.check){t.msg="incorrect data check",r.mode=dr;break}l=0,u=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;u<32;){if(0===s)break t;s--,l+=n[o++]<<u,u+=8}if(4&r.wrap&&l!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=dr;break}l=0,u=0}r.mode=16208;case 16208:E=Je;break t;case dr:E=er;break t;case 16210:return rr;default:return tr}return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,r.hold=l,r.bits=u,(r.wsize||f!==t.avail_out&&r.mode<dr&&(r.mode<fr||e!==$e))&&xr(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?yt(r.check,i,f,t.next_out-f):vt(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===sr?128:0)+(r.mode===ur||r.mode===lr?256:0),(0===h&&0===f||e===$e)&&E===Xe&&(E=nr),E},kr={inflateReset:gr,inflateReset2:br,inflateResetKeep:yr,inflateInit:t=>_r(t,15),inflateInit2:_r,inflate:Ar,inflateEnd:t=>{if(mr(t))return tr;let e=t.state;return e.window&&(e.window=null),t.state=null,Xe},inflateGetHeader:(t,e)=>{if(mr(t))return tr;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,Xe):tr},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return mr(t)?tr:(n=t.state,0!==n.wrap&&n.mode!==ar?tr:n.mode===ar&&(i=1,i=vt(i,e,r,0),i!==n.check)?er:(o=xr(t,e,r,r),o?(n.mode=16210,rr):(n.havedict=1,Xe)))},inflateInfo:"pako inflate (from Nodeca project)"};var Or=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Cr=Object.prototype.toString,{Z_NO_FLUSH:Pr,Z_FINISH:Ir,Z_OK:Rr,Z_STREAM_END:Mr,Z_NEED_DICT:Lr,Z_STREAM_ERROR:jr,Z_DATA_ERROR:Dr,Z_MEM_ERROR:Nr}=bt;function Br(t){this.options=be({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ae,this.strm.avail_out=0;let r=kr.inflateInit2(this.strm,e.windowBits);if(r!==Rr)throw new Error(gt[r]);if(this.header=new Or,kr.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Ee(e.dictionary):"[object ArrayBuffer]"===Cr.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=kr.inflateSetDictionary(this.strm,e.dictionary),r!==Rr)))throw new Error(gt[r])}function Fr(t,e){const r=new Br(e);if(r.push(t),r.err)throw r.msg||gt[r.err];return r.result}Br.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=e===~~e?e:!0===e?Ir:Pr,"[object ArrayBuffer]"===Cr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=kr.inflate(r,a),o===Lr&&i&&(o=kr.inflateSetDictionary(r,i),o===Rr?o=kr.inflate(r,a):o===Dr&&(o=Lr));r.avail_in>0&&o===Mr&&r.state.wrap>0&&0!==t[r.next_in];)kr.inflateReset(r),o=kr.inflate(r,a);switch(o){case jr:case Dr:case Lr:case Nr:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(0===r.avail_out||o===Mr))if("string"===this.options.to){let t=xe(r.output,r.next_out),e=r.next_out-t,i=Te(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==Rr||0!==s){if(o===Mr)return o=kr.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Br.prototype.onData=function(t){this.chunks.push(t)},Br.prototype.onEnd=function(t){t===Rr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_e(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ur={Inflate:Br,inflate:Fr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Fr(t,e)},ungzip:Fr,constants:bt};const{Deflate:zr,deflate:Hr,deflateRaw:Gr,gzip:Yr}=Fe,{Inflate:qr,inflate:Vr,inflateRaw:Wr,ungzip:$r}=Ur;var Kr=Vr;function Zr(t){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(t)}function Xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jr(n.key),n)}}function Jr(t){var e=function(t,e){if("object"!=Zr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zr(e)?e:e+""}var Qr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"encryptBase64",value:function(t){return a().stringify(c().parse(t))}},{key:"decryptBase64",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=atob(t);if(!e)return r;for(var n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);return i}},{key:"decryptPackerGZ",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var i=n?this.decryptBase64(t,!0):t;i=i instanceof Uint8Array?i:new Uint8Array(i);var o=Kr(i,{raw:!0});return e=o,new P(r).decode(e)}catch(t){return null}}},{key:"hash32",value:function(t){return e()(t).toString(i()).substring(0,32)}}],r&&Xr(t.prototype,r),n&&Xr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();const tn=Qr;function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}function rn(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return nn(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(nn(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,nn(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,nn(h,"constructor",l),nn(l,"constructor",c),c.displayName="GeneratorFunction",nn(l,i,"GeneratorFunction"),nn(h),nn(h,i,"Generator"),nn(h,n,function(){return this}),nn(h,"toString",function(){return"[object Generator]"}),(rn=function(){return{w:o,m:f}})()}function nn(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}nn=function(t,e,r,n){function o(e,r){nn(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},nn(t,e,r,n)}function on(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function an(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){on(o,n,i,a,s,"next",t)}function s(t){on(o,n,i,a,s,"throw",t)}a(void 0)})}}function sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ln(n.key),n)}}function cn(t,e,r){return(e=ln(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ln(t){var e=function(t,e){if("object"!=en(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=en(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==en(e)?e:e+""}var un=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,r=null,n=[{key:"getBoardsAndResultsSubmissions",value:(a=an(rn().m(function e(){var r,n,i,o,a,s,c;return rn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r={},t.appDataLastModified&&(r["If-Modified-Since"]=t.appDataLastModified),n=(new tn).hash32("data"),i=t.URL_PUBLIC+"/"+n,e.n=1,fetch(i,{headers:r});case 1:if(304!==(o=e.v).status){e.n=2;break}return e.a(2,{});case 2:return s=new tn,e.n=3,o.arrayBuffer();case 3:if((a=s.decryptPackerGZ.call(s,e.v))&&2===a.length){e.n=4;break}return this.logError("Api.getBoardsAndResultsSubmissions: Could not fetch app data. Invalid data."),e.a(2,{});case 4:return t.appDataLastModified=o.headers.get("Last-Modified"),e.a(2,{boards:a[0],resultsSubmissions:a[1]});case 5:return e.p=5,c=e.v,this.logError("Api.getBoardsAndResultsSubmissions: ".concat(c.message)),e.a(2,{})}},e,this,[[0,5]])})),function(){return a.apply(this,arguments)})},{key:"logError",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";if(e&&!(t._errors.count>0)){t._errors.count++;var n={error:(new tn).encryptBase64(e.replace(": Error: ",": "),"log_error"),severity:r};t._errors.last!==n&&t.makeRequest("log/error",n,"POST").catch(function(t){return t})}}},{key:"saveCanvas",value:(o=an(rn().m(function e(r,n){var i;return rn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t.makeRequest("image/table",{content,hash:n},"POST");case 1:if(!(i=e.v)||null==i||!i.file){e.n=2;break}return e.a(2,i.file);case 2:return e.a(2,null);case 3:return e.p=3,e.v,e.a(2,null)}},e,null,[[0,3]])})),function(t,e){return o.apply(this,arguments)})},{key:"makeRequest",value:(i=an(rn().m(function e(r){var n,i,o,a,s,c,l,u,h,f,d,p,v=arguments;return rn().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},i=v.length>2&&void 0!==v[2]?v[2]:"GET",o=v.length>3&&void 0!==v[3]&&v[3],a=new AbortController,s=setTimeout(function(){a.abort()},8e3),e.p=1,r=t.URL_API+"/"+r,n&&"GET"===i&&n&&(l=new URLSearchParams(n).toString(),r+="?".concat(l)),u={method:i,headers:{"Content-Type":"application/json","Request-Internal-Api":t._getHash()}},Object.keys(n).length>0&&"POST"===i&&(u.body=JSON.stringify(n)),e.n=2,fetch(r,u);case 2:if(h=e.v,clearTimeout(s),h.ok){e.n=3;break}throw new Error('Request "'.concat(r,'" failed with status: ').concat(h.status));case 3:if(!o){e.n=5;break}return d=new tn,e.n=4,h.arrayBuffer();case 4:return e.a(2,d.decryptPackerGZ.call(d,e.v));case 5:return e.n=6,h.json();case 6:return f=e.v,e.a(2,null!==(c=null==f?void 0:f.data)&&void 0!==c?c:f);case 7:if(e.p=7,"AbortError"!==(p=e.v).name){e.n=8;break}throw new Error("Request timed out.");case 8:throw p;case 9:return e.p=9,clearTimeout(s),e.f(9);case 10:return e.a(2)}},e,null,[[1,7,9,10]])})),function(t){return i.apply(this,arguments)})},{key:"_getHash",value:function(){var e=t._generateUniqueId();return e=(e=(e=e.slice(0,7)+String.fromCharCode(99)+e.slice(8)).slice(0,18)+String.fromCharCode(116)+e.slice(19)).slice(0,25)+String.fromCharCode(114)+e.slice(26)}},{key:"_generateUniqueId",value:function(){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/x/g,function(t){return Math.floor(36*Math.random()).toString(36)})}}],r&&sn(e.prototype,r),n&&sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,i,o,a}();cn(un,"URL_API",window.location.origin+"/api/internal"),cn(un,"URL_PUBLIC",window.location.origin+"/public/static"),cn(un,"_errors",{count:0,last:null}),cn(un,"appDataLastModified",null);const hn=un;r(2857);function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function dn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pn(n.key),n)}}function pn(t){var e=function(t,e){if("object"!=fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fn(e)?e:e+""}var vn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"fadeTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"swing",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t="string"==typeof t?document.querySelector(t):t){if(e<=0)return t.style.opacity=String(r),void(i&&i());var o=parseFloat(getComputedStyle(t).opacity)||0,a=performance.now();requestAnimationFrame(function s(c){var l=c-a,u=Math.min(l/e,1);"swing"===n&&(u=.5-Math.cos(u*Math.PI)/2),t.style.opacity=o+(r-o)*u,u<1?requestAnimationFrame(s):i&&i()})}}}],(e=null)&&dn(t.prototype,e),r&&dn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();const mn=vn;function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function gn(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return bn(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(bn(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,bn(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,bn(h,"constructor",l),bn(l,"constructor",c),c.displayName="GeneratorFunction",bn(l,i,"GeneratorFunction"),bn(h),bn(h,i,"Generator"),bn(h,n,function(){return this}),bn(h,"toString",function(){return"[object Generator]"}),(gn=function(){return{w:o,m:f}})()}function bn(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}bn=function(t,e,r,n){function o(e,r){bn(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},bn(t,e,r,n)}function _n(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function wn(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){_n(o,n,i,a,s,"next",t)}function s(t){_n(o,n,i,a,s,"throw",t)}a(void 0)})}}function Sn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return En(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?En(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,An(n.key),n)}}function xn(t,e,r){return(e=An(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function An(t){var e=function(t,e){if("object"!=yn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yn(e)?e:e+""}var kn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isJobRunning={},this._isAlertDialogRunning={},this._currentAlertDialog={};for(var e=0,r=Object.entries(this._selectors);e<r.length;e++){var n=Sn(r[e],2),i=(n[0],n[1]);this._isJobRunning[i]=!1,this._isAlertDialogRunning[i]=!1,this._currentAlertDialog[i]=(new Date).getDate()}}return e=t,r=[{key:"_selectors",get:function(){var e={};return e[t.ALERT_SCORES]=".js-scores-alert-dialog",e[t.ALERT_MATCH]=".js-match-alert-dialog",e}},{key:"show",value:function(e){var r,n,i,o,a,s,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=l&&l.selector){null!==(r=this._selectors)&&void 0!==r&&r[l.selector]||(this._isJobRunning[l.selector]=!1,this._isAlertDialogRunning[l.selector]=!1,this._currentAlertDialog[l.selector]=(new Date).getDate());var u=null!==(n=null==l?void 0:l.type)&&void 0!==n?n:t.AlertDialog.TYPE_WARNING,h=null!==(i=null==l?void 0:l.triggerType)&&void 0!==i?i:t.AlertDialog.TRIGGER_TYPE_DELAY,f=null!==(o=null==l?void 0:l.animationTime)&&void 0!==o?o:1250,d=null!==(a=null==l?void 0:l.fadeTime)&&void 0!==a?a:300,p=null!=l&&l.callback&&"function"===l.callback?l.callback:null;this._show(null!==(s=null===(c=this._selectors)||void 0===c?void 0:c[l.selector])&&void 0!==s?s:l.selector,e,u,h,f,d,p)}}},{key:"showAsync",value:(a=wn(gn().m(function t(e){var r,n=arguments;return gn().w(function(t){for(;;)if(0===t.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},this.show(e,r),t.a(2,!0)},t,this)})),function(t){return a.apply(this,arguments)})},{key:"hide",value:function(e){var r,n,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&null!==(r=this._selectors)&&void 0!==r&&r[e]){var c=null!==(n=null==s?void 0:s.triggerType)&&void 0!==n?n:t.AlertDialog.TRIGGER_TYPE_DELAY,l=null!==(i=null==s?void 0:s.fadeTime)&&void 0!==i?i:300,u=null!=s&&s.callback&&"function"===s.callback?s.callback:null;this._hide(null!==(o=null===(a=this._selectors)||void 0===a?void 0:a[e])&&void 0!==o?o:e,c,l,u)}}},{key:"hideAsync",value:(o=wn(gn().m(function t(e){var r,n=arguments;return gn().w(function(t){for(;;)if(0===t.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},this.hide(e,r),t.a(2,!0)},t,this)})),function(t){return o.apply(this,arguments)})},{key:"_show",value:function(t,e,r,n,i,o,a){this._runAlertDialog(t,this._getShowMethod(t,e,r,n,i,o,a),n)}},{key:"_hide",value:function(t,e,r,n){this._hideAlertDialog(t,e,r,n)}},{key:"_runAlertDialog",value:(i=wn(gn().m(function e(r,n,i){var o,a,s=this;return gn().w(function(e){for(;;)switch(e.n){case 0:if(null===(o=this._isJobRunning)||void 0===o||!o[r]){e.n=1;break}return e.a(2);case 1:if(this._isJobRunning[r]=!0,a=0,(this._isAlertDialogRunning[r]||i===t.TRIGGER_TYPE_DELAY)&&(a=500),i===t.TRIGGER_TYPE_INSTANT&&(a=0),"function"==typeof n){e.n=2;break}return e.a(2);case 2:if(0!==a){e.n=3;break}return n(),this._isJobRunning[r]=!1,e.a(2);case 3:setTimeout(function(){"function"==typeof n&&(n(),s._isJobRunning[r]=!1)},a);case 4:return e.a(2)}},e,this)})),function(t,e,r){return i.apply(this,arguments)})},{key:"_showAlertDialog",value:function(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.TRIGGER_TYPE_DELAY,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1250,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:300,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this._isAlertDialogRunning[e]=!0;var l=document.querySelectorAll(e),u=i,h=i.includes("loader"),f=(new Date).getDate();this._currentAlertDialog[e]=f,h&&(i="warning",l.forEach(function(t){t.classList.add("alert-dialog-"+u.replace("loader","loading"))})),l.forEach(function(u,d){var p=u.querySelector("span");u.classList.remove("alert-dialog-loading","alert-dialog-loading-pulse","alert-info","alert-primary","alert-secondary","alert-warning","alert-success","alert-error"),u.classList.add("alert-"+i),p.innerHTML=r,u.style.visibility="visible",mn.fadeTo(u,s,1,"swing",function(){u.classList.add("alert-dialog-loading"),h||setTimeout(function(){n._currentAlertDialog[e]===f&&(u.classList.remove("alert-dialog-loading"),u.classList.remove("alert-dialog-loading-pulse"))},a);var r=0;switch(o){case t.TRIGGER_TYPE_INSTANT:case t.TRIGGER_TYPE_DELAY:break;default:r=o,o=t.TRIGGER_TYPE_DELAY}r>0?setTimeout(function(){n._currentAlertDialog[e]===f&&(n._hideAlertDialog(e,s,c),d===l.length-1&&(n._isAlertDialogRunning[e]=!1))},r):d===l.length-1&&"function"==typeof c&&c()})})}},{key:"_hideAlertDialog",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=document.querySelectorAll(e),a=0;r===t.TRIGGER_TYPE_DELAY&&(a=500),o.forEach(function(t,e){setTimeout(function(){mn.fadeTo(t,n,0,"swing",function(){t.querySelector("span").innerHTML="&nbps;",t.style.visibility="hidden",t.classList.remove("alert-dialog-loading","alert-info","alert-primary","alert-secondary","alert-warning","alert-success","alert-error"),e===o.length-1&&"function"==typeof i&&i()})},a)})}},{key:"_getShowMethod",value:function(t,e,r,n,i,o,a){var s=this;return function(){return s._showAlertDialog(t,e,r,n,i,o,a)}}}],r&&Tn(e.prototype,r),n&&Tn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,i,o,a}();xn(kn,"TYPE_INFO","info"),xn(kn,"TYPE_WARNING","warning"),xn(kn,"TYPE_SUCCESS","success"),xn(kn,"TYPE_ERROR","error"),xn(kn,"TYPE_LOADER","loader"),xn(kn,"TYPE_LOADER_PULSE","loader-pulse"),xn(kn,"TYPE_NONE","none"),xn(kn,"TRIGGER_TYPE_INSTANT","instant"),xn(kn,"TRIGGER_TYPE_DELAY","delay"),xn(kn,"ALERT_SCORES","scores"),xn(kn,"ALERT_MATCH","match");const On=kn;r(96301),r(69209),r(59179),r(86736),r(26312),r(25112),r(87659),r(91227),r(9794),r(72862),r(39828),r(81320),r(95013),r(53047);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function Pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,In(n.key),n)}}function In(t){var e=function(t,e){if("object"!=Cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cn(e)?e:e+""}var Rn,Mn,Ln,jn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"registerEvent",value:function(t,e){if(!this._promises.has(t)){var r,n=new Promise(function(t){return r=t});this._promises.set(t,{promise:n,resolve:r}),null==e||e()}return this._promises.get(t).promise}},{key:"dispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._promises.has(t)&&((0,this._promises.get(t).resolve)(e),this._promises.delete(t))}},{key:"await",value:function(t){var e=this;Array.isArray(t)||(t=[t]);var r=t.map(function(t){if("string"==typeof t){if(!e._promises.has(t))throw new Error('AppEvents.await: No promise registered for key "'.concat(t,'"'));return e._promises.get(t).promise}if(t instanceof Promise)return t;throw new Error("AppEvents.await: item must be string key or Promise")});return Promise.all(r)}},{key:"registerPromise",value:function(t,e){if(!this._promises.has(t)){var r,n=new Promise(function(t){return r=t});this._promises.set(t,{promise:n,resolve:r}),e.then(r,r)}return this._promises.get(t).promise}}],(e=null)&&Pn(t.prototype,e),r&&Pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Rn=jn,Mn="_promises",Ln=new Map,(Mn=In(Mn))in Rn?Object.defineProperty(Rn,Mn,{value:Ln,enumerable:!0,configurable:!0,writable:!0}):Rn[Mn]=Ln;const Dn=jn;function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function Bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Un(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Un(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Un(t,e){if(t){if("string"==typeof t)return zn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(t,e):void 0}}function zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Hn(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return Gn(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(Gn(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Gn(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Gn(h,"constructor",l),Gn(l,"constructor",c),c.displayName="GeneratorFunction",Gn(l,i,"GeneratorFunction"),Gn(h),Gn(h,i,"Generator"),Gn(h,n,function(){return this}),Gn(h,"toString",function(){return"[object Generator]"}),(Hn=function(){return{w:o,m:f}})()}function Gn(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Gn=function(t,e,r,n){function o(e,r){Gn(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Gn(t,e,r,n)}function Yn(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function qn(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Yn(o,n,i,a,s,"next",t)}function s(t){Yn(o,n,i,a,s,"throw",t)}a(void 0)})}}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wn(n.key),n)}}function Wn(t){var e=function(t,e){if("object"!=Nn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nn(e)?e:e+""}var $n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=t.config}return function(t,e,r){return e&&Vn(t.prototype,e),r&&Vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"loadConfiguration",value:function(){window.cdnUrls&&window.assetsVersion?(t.config.cdn_urls=window.cdnUrls,t.config.cdn_enabled=[""!==t.config.cdn_urls[0],""!==t.config.cdn_urls[1]],t.config.assets_version=window.assetsVersion,window.cdnUrls=null,window.assetsVersion=null):t.config.cdn_enabled=[!1,!1]}},{key:"load",value:(s=qn(Hn().m(function t(){var e;return Hn().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!window.flagsManifest){t.n=6;break}return t.p=1,t.n=2,this._loadFlagsSprite();case 2:t.n=4;break;case 3:t.p=3,t.v,this._config.flags_manifest=[];case 4:return t.p=4,window.flagsManifest=null,t.f(4);case 5:t.n=7;break;case 6:window.flagsManifest=null;case 7:if(!window.images){t.n=13;break}return t.p=8,e=(new tn).decryptPackerGZ(window.images,!0),t.n=9,this._loadBaseImages(e);case 9:t.n=11;break;case 10:return t.p=10,t.v,t.a(2,!1);case 11:return t.p=11,window.images=null,t.f(11);case 12:t.n=14;break;case 13:window.images=null;case 14:return Dn.dispatch("assets_loader:ready"),t.a(2,!0)}},t,this,[[8,10,11,12],[1,3,4,5]])})),function(){return s.apply(this,arguments)})},{key:"_loadFlagsSprite",value:(a=qn(Hn().m(function t(){var e,r,n,i,o;return Hn().w(function(t){for(;;)switch(t.n){case 0:if(e=(new tn).decryptPackerGZ(window.flagsManifest,!0),Array.isArray(e)&&e.length>0){r=Fn(e.entries());try{for(r.s();!(n=r.n()).done;)i=Bn(n.value,2),o=i[1],this._config.flags_manifest[o[0]]=[o[1],o[2]]}catch(t){r.e(t)}finally{r.f()}}return t.n=1,this._registerOneBySource("flags_sprite","flags/sprite.webp");case 1:if(t.v){t.n=2;break}throw new Error("Could not load flags sprite image");case 2:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"_loadBaseImages",value:(o=qn(Hn().m(function t(e){var r,n,i,o,a,s,c,l,u,h,f;return Hn().w(function(t){for(;;)switch(t.n){case 0:r=new tn,n=[],i=0,o=Object.entries(e);case 1:if(!(i<o.length)){t.n=4;break}return a=Bn(o[i],2),s=a[0],c=a[1],l=r.decryptBase64(c,!0),u=new Blob([l],{type:"image/webp"}),h=s.replace(".webp","").replaceAll("/","_"),t.n=2,this._registerBlobImage(h,u,!0);case 2:f=t.v,n.push(f);case 3:i++,t.n=1;break;case 4:return t.a(2,n.length>0&&n.every(Boolean))}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"_registerImage",value:(i=qn(Hn().m(function t(e,r){var n,i,o,a,s,c,l,u,h=arguments;return Hn().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=h.length>2&&void 0!==h[2]?h[2]:0,!(i=this._config.images)[e]||!i[e].loaded){t.n=1;break}return t.a(2,!0);case 1:if(i[e]||(i[e]={cdn:[this.cdn(this._config.assets_dir+"/"+r,1),this.cdn(this._config.assets_dir+"/"+r,2)],src:this.appendQueryString("/".concat(this._config.assets_dir,"/").concat(r)),blobUrl:null,img:null,bitmap:null,loaded:!1}),o=function(){var t=qn(Hn().m(function t(e){var r;return Hn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e,{cache:"force-cache"});case 1:if((r=t.v).ok||304===r.status){t.n=2;break}throw new Error("Asset not found");case 2:return t.a(2,r.blob())}},t)}));return function(e){return t.apply(this,arguments)}}(),!(n>0)||this._config.cdn_enabled[n-1]){t.n=2;break}return t.a(2,!1);case 2:return a=n>0?i[e].cdn[n-1]:i[e].src,s="",t.p=3,t.n=4,o(a);case 4:return c=t.v,s=URL.createObjectURL(c),t.n=5,this._createImageElement(e,s);case 5:if(l=t.v,u=null,!("createImageBitmap"in window)){t.n=9;break}return t.p=6,t.n=7,createImageBitmap(c);case 7:u=t.v,t.n=9;break;case 8:t.p=8,t.v,u=null;case 9:return i[e].blobUrl=s,i[e].document=l,i[e].bitmap=u,i[e].loaded=!0,t.a(2,!0);case 10:return t.p=10,t.v,s&&URL.revokeObjectURL(s),n&&(this._config.cdn_errors_count[n-1]++,this._config.cdn_enabled[n-1]&&this._config.cdn_errors_count[n-1]>=this._config.cdn_errors_count_threshold[n-1]&&(this._config.cdn_enabled[n-1]=!1)),t.a(2,!1)}},t,this,[[6,8],[3,10]])})),function(t,e){return i.apply(this,arguments)})},{key:"_registerBlobImage",value:(n=qn(Hn().m(function t(e,r){var n,i,o,a,s,c,l,u,h=arguments;return Hn().w(function(t){for(;;)switch(t.p=t.n){case 0:if(i=h.length>2&&void 0!==h[2]&&h[2],o=this._config.images,i||null==o||null===(n=o[e])||void 0===n||!n.loaded){t.n=1;break}return t.a(2);case 1:if(a=URL.createObjectURL(r),t.p=2,s=null,t.p=3,!("createImageBitmap"in window)){t.n=5;break}return t.n=4,createImageBitmap(r);case 4:s=t.v;case 5:t.n=7;break;case 6:t.p=6,t.v,s=null;case 7:return c=a,t.n=8,this._createImageElement(e,a);case 8:return l=t.v,u=s,o[e]={src:"",blobUrl:c,document:l,bitmap:u,loaded:!0},t.a(2,!0);case 9:return t.p=9,t.v,a&&URL.revokeObjectURL(a),o[e]={src:"",blobUrl:"",document:null,bitmap:null,loaded:!1},t.a(2,!1)}},t,this,[[3,6],[2,9]])})),function(t,e){return n.apply(this,arguments)})},{key:"_createImageElement",value:(r=qn(Hn().m(function t(e,r){var n,i;return Hn().w(function(t){for(;;)switch(t.n){case 0:return n=zi.document.querySelector("._preload"),console.log(n),i=document.createElement("img"),console.log(i),i.classList.add("canvas-image-".concat(e)),i.src=r,console.log(r),n.appendChild(i),t.n=1,new Promise(function(t,r){i.onload=function(){var e=document.createElement("canvas");e.width=i.naturalWidth,e.height=i.naturalHeight,e.getContext("2d").drawImage(i,0,0),console.log("loaded"),t(!0)},i.onerror=function(){return r(new Error("Failed to load image ".concat(e)))}});case 1:return t.a(2,i)}},t)})),function(t,e){return r.apply(this,arguments)})},{key:"_registerOneBySource",value:(e=qn(Hn().m(function t(e,r){var n,i,o;return Hn().w(function(t){for(;;)switch(t.n){case 0:n=0,i=[1,2,0];case 1:if(!(n<i.length)){t.n=4;break}return o=i[n],t.n=2,this._registerImage(e,r,o);case 2:if(!t.v){t.n=3;break}return t.a(2,!0);case 3:n++,t.n=1;break;case 4:return t.a(2,!1)}},t,this)})),function(t,r){return e.apply(this,arguments)})},{key:"cdn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t.replace(/^\/+/,"");var n=this._config.cdn_urls[e-1]+"/"+t;return r?this.appendQueryString(n):n}},{key:"appendQueryString",value:function(t){var e=this._config.assets_version;if(t.includes(e))return t;var r=t.includes("?")?"&":"?";return"".concat(t).concat(r,"v=").concat(e)}}],[{key:"getAssetByElement",value:function(e){for(var r=0,n=Object.entries(t.config.images);r<n.length;r++){var i=Bn(n[r],2),o=(i[0],i[1]);if(o.document.src===e.src)return o}return null}}]);var e,r,n,i,o,a,s}();!function(t,e,r){(e=Wn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}($n,"config",{assets_dir:"build/images",assets_version:"1.0.0",images:{},cdn_urls:["",""],cdn_enabled:[!0,!0],cdn_errors_count:[0,0],cdn_errors_count_threshold:[1,1],flags_manifest:{}});const Kn=$n;function Zn(t){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(t)}function Xn(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return Jn(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(Jn(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Jn(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Jn(h,"constructor",l),Jn(l,"constructor",c),c.displayName="GeneratorFunction",Jn(l,i,"GeneratorFunction"),Jn(h),Jn(h,i,"Generator"),Jn(h,n,function(){return this}),Jn(h,"toString",function(){return"[object Generator]"}),(Xn=function(){return{w:o,m:f}})()}function Jn(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Jn=function(t,e,r,n){function o(e,r){Jn(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Jn(t,e,r,n)}function Qn(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function ti(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ri(n.key),n)}}function ei(t,e,r){return(e=ri(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ri(t){var e=function(t,e){if("object"!=Zn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zn(e)?e:e+""}var ni=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&ti(t.prototype,e),r&&ti(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"wait",value:(e=Xn().m(function e(r){return Xn().w(function(e){for(;;)switch(e.n){case 0:if(!t._destroyed.has(r)){e.n=1;break}return e.a(2,!0);case 1:if(!t._locks.has(r)){e.n=3;break}return e.n=2,t._locks.get(r).promise;case 2:e.n=1;break;case 3:return t.acquire(r),e.a(2,!0)}},e)}),r=function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(t){Qn(o,n,i,a,s,"next",t)}function s(t){Qn(o,n,i,a,s,"throw",t)}a(void 0)})},function(t){return r.apply(this,arguments)})},{key:"acquire",value:function(e){if(!t._destroyed.has(e)){var r,n=new Promise(function(t){return r=t});t._locks.set(e,{promise:n,resolve:r})}}},{key:"done",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._locks.get(e);n&&(n.resolve(),t._locks.delete(e)),r&&t._destroyed.set(e,1)}}]);var e,r}();ei(ni,"_locks",new Map),ei(ni,"_destroyed",new Map);const ii=ni;function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ai(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,si(n.key),n)}}function si(t){var e=function(t,e){if("object"!=oi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oi(e)?e:e+""}var ci=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&ai(t.prototype,e),r&&ai(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"hexToRGBA",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;3===(t=t.replace("#","")).length&&(t=t.split("").map(function(t){return t+t}).join(""));var r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return e=Math.min(1,Math.max(0,e)),"rgba(".concat(r,", ").concat(n,", ").concat(i,", ").concat(e,")")}},{key:"generateSimilarColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.3,r=t.match(/rgba?\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);if(r){var n=parseInt(r[1]),i=parseInt(r[2]),o=parseInt(r[3]),a=r[5]?parseFloat(r[5]):1,s=Math.min(255,Math.round(n*e)),c=Math.min(255,Math.round(i*e)),l=Math.min(255,Math.round(o*e));return a<1?"rgba(".concat(s,", ").concat(c,", ").concat(l,", ").concat(a,")"):"rgb(".concat(s,", ").concat(c,", ").concat(l,")")}return t}},{key:"generateTextColorForBackground",value:function(t){var e=t.match(/rgba?\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);return e?.2126*parseInt(e[1])+.7152*parseInt(e[2])+.0722*parseInt(e[3])>128*(e[5]?parseFloat(e[5]):1)?"black":"white":"black"}},{key:"getColorSimilarity",value:function(t){3===(t=t.replace(/^#/,"")).length&&(t=t.split("").map(function(t){return t+t}).join(""));var e=(.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16))/255;return{white:Math.abs(1-e),black:e}}},{key:"lightenColor",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(function(t){return t+t}).join(""));var n=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),a=t.rgbToHsl(n,i,o);a[2]=Math.min(1,a[2]+r);var s=t.hslToRgb(a[0],a[1],a[2]);return"#".concat(s[0].toString(16).padStart(2,"0")).concat(s[1].toString(16).padStart(2,"0")).concat(s[2].toString(16).padStart(2,"0"))}},{key:"darkenColor",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(function(t){return t+t}).join(""));var n=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),a=t.rgbToHsl(n,i,o);a[2]=Math.max(0,a[2]-r);var s=t.hslToRgb(a[0],a[1],a[2]);return"#".concat(s[0].toString(16).padStart(2,"0")).concat(s[1].toString(16).padStart(2,"0")).concat(s[2].toString(16).padStart(2,"0"))}},{key:"rgbToHsl",value:function(t,e,r){t/=255,e/=255,r/=255;var n,i,o=Math.max(t,e,r),a=Math.min(t,e,r),s=(o+a)/2;if(o===a)n=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case t:n=(e-r)/c+(e<r?6:0);break;case e:n=(r-t)/c+2;break;case r:n=(t-e)/c+4}n/=6}return[n,i,s]}},{key:"hslToRgb",value:function(t,e,r){var n,i,o;if(0===e)n=i=o=r;else{var a=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;n=a(c,s,t+1/3),i=a(c,s,t),o=a(c,s,t-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*o)]}},{key:"getDate",value:function(){var t=new Date,e=t.getDate(),r=new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),n=t.getFullYear();return"".concat(e," ").concat(r," ").concat(n)}},{key:"text",value:function(t){return'<p class="t"><span>'.concat(t,"</span></p>")}}])}();const li=ci;function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function hi(t){return function(t){if(Array.isArray(t))return vi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||pi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=pi(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function di(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||pi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(t,e){if(t){if("string"==typeof t)return vi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vi(t,e):void 0}}function vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yi(n.key),n)}}function yi(t){var e=function(t,e){if("object"!=ui(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ui(e)?e:e+""}var gi=function(){return function(t,e,r){return e&&mi(t.prototype,e),r&&mi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableGenerator=e},[{key:"getScoresTemplate",value:function(){var t='<div class="scores">\n                <div class="header">\n                    <span>[LOBBY]</span>\n                    <span>[DATE]</span>\n                </div>\n                <div class="body">[SCORES_BODY]</div>\n            </div>';return t=t.replace("[SCORES_BODY]",this.tableGenerator.table.is_solo?this._getScoresSoloTeamsTemplate():this._getScoresTeamsTemplate())}},{key:"getResultsTemplate",value:function(){var t="Rating Updates";(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(t+=" Predictions");for(var e='<div class="results">\n                <div class="body">\n                    <table class="players">\n                        <thead>\n                            <tr>\n                                <th colspan="6" class="header">'.concat(li.text(t,"18px"),"</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            [PLAYERS]\n                        </tbody>\n                    </table>\n                </div>\n            </div>"),r="",n=0,i=!1,o=0,a=Object.entries(this.tableGenerator.matchResults);o<a.length;o++){var s=di(a[o],2),c=(s[0],s[1]);if(null!=c&&c.final_ranking){i=!0;break}}for(var l=0,u=Object.entries(this.tableGenerator.matchResults);l<u.length;l++){var h=di(u[l],2);h[0],h[1];r+='<tr class="player [PLAYER_'.concat(n,'_ROW_CLASS]" style="background-color: [PLAYER_').concat(n,'_ROW_BACKGROUND_COLOR];">\n                        <td class="original-ranking').concat(i?"":" d-none",'"><div>[PLAYER_').concat(n,'_ORIGINAL_RANKING]</div></td>\n                        <td class="ranking-shift').concat(i?"":" d-none",'"><div>[PLAYER_').concat(n,'_RANKING_SHIFT]</div></td>\n                        <td class="final-ranking').concat(i?"":" d-none",'"><div>[PLAYER_').concat(n,'_FINAL_RANKING]</td>\n                        <td class="name"><div>[PLAYER_').concat(n,'_NAME]</div></td>\n                        <td class="original-rating"><div>[PLAYER_').concat(n,'_ORIGINAL_RATING]</div></td>\n                        <td class="delta"><div><div>[PLAYER_').concat(n,"_DELTA_SIGN]</div><div>[PLAYER_").concat(n,'_DELTA]</div></div></td>\n                        <td class="rating-shift"><div>[PLAYER_').concat(n,'_RATING_SHIFT]</div></td>\n                        <td class="final-rating"><div>[PLAYER_').concat(n,'_FINAL_RATING]</div></td>\n                        <td class="tier"><div style="background-color: [PLAYER_').concat(n,"_TIER_BACKGROUND_COLOR]; color: [PLAYER_").concat(n,'_TIER_COLOR];"><div>[PLAYER_').concat(n,"_TIER]</div></div></td>\n                    </tr>"),n++}return e=e.replace("[PLAYERS]",r)}},{key:"_getScoresTeamsTemplate",value:function(){for(var t=this,e="",r=function(r){var n=t._getScoresTeamTemplate(r),i=t.tableGenerator.table.teams[r].players.map(function(e,n){return t._getScoresPlayerTemplate(e,r,n)}).join("");0!==t.tableGenerator.getTeamPenalty(r)&&(i+=t._getTeamPenaltyTemplate()),n=n.replace("[TEAM_".concat(r,"_PLAYERS]"),i),e+=n},n=0;n<this.tableGenerator.table.teams.length;n++)r(n);return e}},{key:"_getScoresSoloTeamsTemplate",value:function(){var t,e="",r=0,n=fi(this.tableGenerator.table.teams.entries());try{for(n.s();!(t=n.n()).done;){var i,o=di(t.value,2),a=(o[0],fi(o[1].players.entries()));try{for(a.s();!(i=a.n()).done;){var s=di(i.value,2),c=(s[0],s[1]);e+=this._getScoresPlayerTemplate(c,0,r++)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return this._getScoresTeamTemplate(0).replace("[TEAM_0_PLAYERS]",e)}},{key:"_getScoresTeamTemplate",value:function(t){var e=0===t?" d-none":"";return'<div class="team'.concat(this._hasPenalty()?" penalty":"",'" [TEAM_').concat(t,'_STYLE]>\n                    <div class="match">\n                        <div class="position">\n                            [TEAM_').concat(t,'_POSITION]\n                         </div>\n                        <div class="name"><span>[TEAM_').concat(t,"_NAME]</span><span[TEAM_").concat(t,"_DESCRIPTION_STYLE]>[TEAM_").concat(t,'_DESCRIPTION]</span></div>\n                        <span class="match-type">[MATCH_TYPE]</span>\n                        <span class="match-number">[MATCH_NUMBER]</span>\n                    </div>\n                    <table class="players">\n                        <tbody>\n                            [TEAM_').concat(t,'_PLAYERS]\n                        </tbody>\n                    </table>\n                    <div class="rating-points">\n                        <span>[TEAM_').concat(t,'_RATING_POINTS]</span>\n                        <div class="rating-points-difference').concat(e,'"><div class="sign">').concat(li.text(""),'</div><div class="value">[TEAM_').concat(t,"_RATING_POINTS_DIFFERENCE]</div></div>\n                    </div>\n                </div>")}},{key:"_getScoresPlayerTemplate",value:function(t,e,r){for(var n='<tr class="player">\n                <td class="name"><span>[TEAM_'.concat(e,"_PLAYER_").concat(r,'_NAME]</span></td>\n                <td class="flag"><div><div><div style="[TEAM_').concat(e,"_PLAYER_").concat(r,'_FLAG]"></div></div><div></div></div></td>\n                [TEAM_').concat(e,"_PLAYER_").concat(r,'_SCORES]\n                <td class="total-scores"><span>[TEAM_').concat(e,"_PLAYER_").concat(r,'_TOTAL_SCORES]</span></td>\n                <td class="position">[TEAM_').concat(e,"_PLAYER_").concat(r,'_POSITION]</td>\n                <td class="penalty').concat(this._hasPenalty()?"":" d-none",'"><span>[TEAM_').concat(e,"_PLAYER_").concat(r,"_PENALTY]</span></td>\n            </tr> "),i="",o=this.tableGenerator.getMaxNbScores(),a=0;a<o;a++)i+='<td class="score"><span>[TEAM_'.concat(e,"_PLAYER_").concat(r,"_SCORE_").concat(a,"]</span></td>");return n=n.replace("[TEAM_".concat(e,"_PLAYER_").concat(r,"_SCORES]"),i)}},{key:"_getTeamPenaltyTemplate",value:function(){for(var t='<tr class="player">\n                <td class="name"><span>[TEAM_PENALTY_TEXT]</span></td>\n                <td class="flag"></td>\n                [TEAM_PENALTY_SCORES]\n                <td class="total-scores"><span>[TEAM_PENALTY_VALUE]</span></td>\n                <td class="position"></td>\n                <td class="penalty'.concat(this._hasPenalty()?"":" d-none",'"></td>\n            </tr> '),e="",r=this.tableGenerator.getMaxNbScores(),n=0;n<r;n++)e+='<td class="score"></td>';return t=t.replace("[TEAM_PENALTY_SCORES]",e)}},{key:"_hasPenalty",value:function(){return this.tableGenerator.table.teams.some(function(t){return hi(t.players.values()).some(function(t){return 0!==t.penalty})})}}])}();const bi=gi;function _i(t){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(t)}function wi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Si(n.key),n)}}function Si(t){var e=function(t,e){if("object"!=_i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_i(e)?e:e+""}var Ei=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&wi(t.prototype,e),r&&wi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"getValue",value:function(t,e){var r=null;return"string"==typeof t?r=document.querySelector(t):"object"===_i(t)&&(r=t),r?getComputedStyle(r).getPropertyValue(e).trim():""}},{key:"equals",value:function(e,r,n){return t.getValue(e,r)===n.trim()}}])}();const Ti=Ei;function xi(t){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(t)}function Ai(t){return function(t){if(Array.isArray(t))return Pi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ci(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Ci(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ci(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ci(t,e){if(t){if("string"==typeof t)return Pi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pi(t,e):void 0}}function Pi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ii(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ii(Object(r),!0).forEach(function(e){Bi(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Mi(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return Li(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(Li(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Li(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Li(h,"constructor",l),Li(l,"constructor",c),c.displayName="GeneratorFunction",Li(l,i,"GeneratorFunction"),Li(h),Li(h,i,"Generator"),Li(h,n,function(){return this}),Li(h,"toString",function(){return"[object Generator]"}),(Mi=function(){return{w:o,m:f}})()}function Li(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Li=function(t,e,r,n){function o(e,r){Li(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Li(t,e,r,n)}function ji(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Di(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){ji(o,n,i,a,s,"next",t)}function s(t){ji(o,n,i,a,s,"throw",t)}a(void 0)})}}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fi(n.key),n)}}function Bi(t,e,r){return(e=Fi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fi(t){var e=function(t,e){if("object"!=xi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xi(e)?e:e+""}var Ui=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.document=document.querySelector(this._selectors.document),this._registerAssets().catch(function(t){return t})}return function(t,e,r){return e&&Ni(t.prototype,e),r&&Ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_selectors",get:function(){return{document:".js-canvas-html",container:".js-canvas-table",scoresMatch:".scores .team .match",players:".scores .team .players",playerName:".scores .team .players .player .name",playerPenalty:".scores .team .players .player .penalty",tableTeamPlayers:".scores .team .players",tableTeamRatingPoints:".scores .team .rating-points",tableTeamRatingPointsDifference:".scores .team .rating-points-difference"}}},{key:"_registerAssets",value:(i=Di(Mi().m(function t(){var e;return Mi().w(function(t){for(;;)switch(t.n){case 0:return ii.acquire("table_generator:ready"),(e=new Kn).loadConfiguration(),Dn.registerEvent("assets_loader:ready",e.load.bind(e)),Dn.registerPromise("css:ready",Ti.equals(document.documentElement,"--css-loaded","1")?Promise.resolve(!0):new Promise(function(t){document.addEventListener("css:ready",t,{once:!0})})),t.n=1,Dn.await(["assets_loader:ready","css:ready"]);case 1:ii.done("table_generator:ready",!0);case 2:return t.a(2)}},t)})),function(){return i.apply(this,arguments)})},{key:"generate",value:(n=Di(Mi().m(function e(r,n,i){var o,a,s,c,l,u=this,h=arguments;return Mi().w(function(e){for(;;)switch(e.n){case 0:if(o=h.length>3&&void 0!==h[3]&&h[3],a=!(h.length>4&&void 0!==h[4])||h[4],this.board=n,this.table=r,this.matchResults=i,this.table&&this.board&&this.matchResults){e.n=1;break}throw new Error("Missing required data");case 1:return this.isSubmittedMatch=o,this.isRanked=a,s={light:"#f5f5f5",dark:"#949494"},c=this.table.is_solo||2!==this.table.teams.length?{team_0:"#ffe619",team_1:"#22c5f6",team_2:"#7ffa2c",team_3:"#fd0f0f"}:{team_0:"#22c5f6",team_1:"#fd0f0f",team_2:"#ffe619",team_3:"#7ffa2c"},this._defaultColors=Ri(Ri({},s),c),this._templateGenerator=new bi(this),e.n=2,this._waitForAssetsToLoad();case 2:return this._elements=t.getElements(),this._elements.table.classList.remove("solo","team","mobile"),this._elements.table.classList.add(this.table.is_solo?"solo":"team"),l=this._templateGenerator.getScoresTemplate()+this._templateGenerator.getResultsTemplate(this.isSubmittedMatch,this.isRanked),l=this._setScoresHeader(l),l=this.table.is_solo?this._setScoresSoloPlayers(l):this._setScoresTeams(l),l=(l=this._setResults(l)).replace(/\n/g,"").replace(/\s{2,}/g," ").trim(),this._elements.table.innerHTML=l,this._elements.table.querySelectorAll(".js-image-preloader").forEach(function(t){var e=u._elements.document.querySelector("._preload img.canvas-image-".concat(t.dataset.id));if(e){var r=e.cloneNode(!0);r.className=t.dataset.class,t.replaceWith(r)}}),this._elements.document.style.display="block",e.n=3,this._waitForStableDimensions(this._elements.table,3);case 3:return this._setFixedWidths(),this._elements.document.removeAttribute("style"),t._nbExecutions=t._nbExecutions>=10?10:t._nbExecutions+1,e.a(2,!0)}},e,this)})),function(t,e,r){return n.apply(this,arguments)})},{key:"_setScoresHeader",value:function(t){var e=this.board.name;this.isRanked||(e="Custom");var r=this.board.lobby_type.code.toUpperCase()+" "+this._getGameMode().name,n=this.table.number?this._truncateText(String(this.table.number),6):"1",i=e+" | "+r+" | "+"Lobby #".concat(n);this.isSubmittedMatch&&(i+="| Submitted");var o=(i=this._truncateText(i,68)).match(/[^#]+|#/g);i="";var a,s=Oi(o.entries());try{for(s.s();!(a=s.n()).done;){var c=ki(a.value,2)[1];i+="#"===c?this._getHashtag():li.text(c)}}catch(t){s.e(t)}finally{s.f()}return t.replace("[LOBBY]",i).replace("[DATE]",li.text(li.getDate()))}},{key:"_setScoresTeams",value:function(t){var e,r=this.getMaxNbScores(),n=Oi(this.table.teams.entries());try{for(n.s();!(e=n.n()).done;){var i,o=ki(e.value,2),a=o[0],s=o[1],c=s.name.split("-");c.length>1&&c[1].trim().length>0?c=[this._truncateText(c[0].trim(),14),this._truncateText(c[1].trim())]:c[0]=this._truncateText(s.name,14),t=t.replace("[MATCH_TYPE]","").replace("[MATCH_NUMBER]",this._getHashtag()+(this.table.number?this.table.number:"1")).replace("[TEAM_".concat(a,"_STYLE]"),'style="background-color: '.concat(this._getTeamColor(a,null!==(i=null==s?void 0:s.color)&&void 0!==i?i:null,this.table.teams.length),';"')).replace("[TEAM_".concat(a,"_NAME]"),li.text(c[0])).replace("[TEAM_".concat(a,"_DESCRIPTION]"),li.text(c.length>1?c[1]:"")).replace("[TEAM_".concat(a,"_DESCRIPTION_STYLE]"),c.length>1?"":' style="display:none;"').replace("[TEAM_".concat(a,"_POSITION]"),this._getRank(s.position,this._getLastPlaceNumber(),!1)).replace("[TEAM_".concat(a,"_RATING_POINTS]"),li.text(s.score-s.penalty)).replace("[TEAM_".concat(a,"_RATING_POINTS_DIFFERENCE]"),li.text(0===a?"":this.table.teams[a-1].score-this.table.teams[a-1].penalty-(s.score-s.penalty)));var l,u=Oi(s.players.entries());try{for(u.s();!(l=u.n()).done;){var h=ki(l.value,2),f=h[0],d=h[1];t=t.replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_NAME]"),li.text(this._truncateText(d.name))).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_FLAG]"),this._getFlag(d.flag)).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_TOTAL_SCORES]"),li.text(d.scores.reduce(function(t,e){return t+e},0))).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_POSITION]"),this._getRank(d.position,this._getLastPlaceNumber(),!1)).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_PENALTY]"),li.text(d.penalty>0?"-".concat(d.penalty):d.penalty<0?"+".concat(Math.abs(d.penalty)):""));for(var p=0;p<r;p++){var v,m;t=t.replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_SCORE_").concat(p,"]"),li.text(null!==(v=null===(m=d.scores)||void 0===m?void 0:m[p])&&void 0!==v?v:0))}}}catch(t){u.e(t)}finally{u.f()}var y=this.getTeamPenalty(a);0!==y&&(t=t.replace("[TEAM_PENALTY_TEXT]",li.text(y>0?"PENALTY":"BONUS")).replace("[TEAM_PENALTY_VALUE]",li.text(y>0?"-".concat(y):"".concat(Math.abs(y)))))}}catch(t){n.e(t)}finally{n.f()}return t}},{key:"_setScoresSoloPlayers",value:function(t){var e=this.getMaxNbScores();t=t.replace("[MATCH_TYPE]",li.text(this._getGameMode().name)).replace("[MATCH_NUMBER]",this._getHashtag()+li.text(this.table.number?this.table.number:"1")).replace("[TEAM_".concat(0,"_STYLE]"),"").replace("[TEAM_".concat(0,"_NAME]"),"").replace("[TEAM_".concat(0,"_DESCRIPTION_STYLE]"),' style="display:none;"').replace("[TEAM_".concat(0,"_POSITION]"),"").replace("[TEAM_".concat(0,"_RATING_POINTS]"),li.text(this._getTotalMatchPoints())).replace("[TEAM_".concat(0,"_RATING_POINTS_DIFFERENCE]"),"");var r,n=0,i=Oi(this.table.teams.entries());try{for(i.s();!(r=i.n()).done;){var o,a=ki(r.value,2),s=(a[0],Oi(a[1].players.entries()));try{for(s.s();!(o=s.n()).done;){var c=ki(o.value,2),l=(c[0],c[1]);t=t.replace("[TEAM_".concat(0,"_PLAYER_").concat(n,"_NAME]"),li.text(this._truncateText(l.name))).replace("[TEAM_".concat(0,"_PLAYER_").concat(n,"_FLAG]"),this._getFlag(l.flag)).replace("[TEAM_".concat(0,"_PLAYER_").concat(n,"_TOTAL_SCORES]"),li.text(l.scores.reduce(function(t,e){return t+e},0))).replace("[TEAM_".concat(0,"_PLAYER_").concat(n,"_POSITION]"),this._getRank(l.position,this._getLastPlaceNumber(),!1)).replace("[TEAM_".concat(0,"_PLAYER_").concat(n,"_PENALTY]"),li.text(l.penalty>0?"-".concat(l.penalty):l.penalty<0?"+".concat(Math.abs(l.penalty)):""));for(var u=0;u<e;u++){var h,f;t=t.replace("[TEAM_".concat(0,"_PLAYER_").concat(n,"_SCORE_").concat(u,"]"),li.text(null!==(h=null===(f=l.scores)||void 0===f?void 0:f[u])&&void 0!==h?h:0))}n++}}catch(t){s.e(t)}finally{s.f()}}}catch(t){i.e(t)}finally{i.f()}return t}},{key:"_setResults",value:function(t){var e=this._getPlayerTiers(),r=this._getPlayerDeltas(),n=0;this._lastTierColor=null;for(var i=0,o=Object.entries(this.matchResults);i<o.length;i++){var a=ki(o[i],2),s=a[0],c=a[1];t=t.replace("[PLAYER_".concat(n,"_ROW_CLASS]"),"".concat(this._getResultsRowDeltaRankingClass(c)," ").concat(this._getResultsRowDeltaRatingClass(r[s])," ").concat(this._useRankings()?"rankings":"")).replace("[PLAYER_".concat(n,"_ROW_BACKGROUND_COLOR]"),this._getTierBackgroundColor(e[s].color)).replace("[PLAYER_".concat(n,"_ORIGINAL_RANKING]"),'<p class="t"><span class="hashtag">#</span><span>'.concat(null!=c&&c.original_ranking&&c.original_ranking?c.original_ranking:"","</span>")).replace("[PLAYER_".concat(n,"_RANKING_SHIFT]"),this._getRankingShift(c)).replace("[PLAYER_".concat(n,"_FINAL_RANKING]"),'<p class="t"><span class="hashtag">#</span><span>'.concat(null!=c&&c.final_ranking&&c.final_ranking?c.final_ranking:"","</span>")).replace("[PLAYER_".concat(n,"_NAME]"),li.text(this._truncateText(c.name))).replace("[PLAYER_".concat(n,"_ORIGINAL_RATING]"),li.text(Math.floor(c.original_rating))).replace("[PLAYER_".concat(n,"_DELTA_SIGN]"),li.text(r[s]>=0?"+":"-")).replace("[PLAYER_".concat(n,"_DELTA]"),li.text(Math.abs(Math.floor(r[s])).toString())).replace("[PLAYER_".concat(n,"_RATING_SHIFT]"),this._getRatingShift(r[s])).replace("[PLAYER_".concat(n,"_FINAL_RATING]"),li.text(Math.floor(c.final_rating))).replace("[PLAYER_".concat(n,"_TIER_BACKGROUND_COLOR]"),e[s].color).replace("[PLAYER_".concat(n,"_TIER_COLOR]"),this._getTierTextColor(e[s].color)).replace("[PLAYER_".concat(n,"_TIER]"),e[s].text),n++}return t}},{key:"_getPlayerTiers",value:function(){var t,e={},r=Oi(this.board.tiers);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n.name]=n}}catch(t){r.e(t)}finally{r.f()}var i={};for(var o in this.matchResults){var a=this.matchResults[o],s=e[a.original_tier],c=e[a.final_tier],l=null;if(s.name!==c.name){var u=this._getTierTextColor(c.color);l=Ri(Ri({},c),{},{text:(c.lower_bound>s.lower_bound?this._getShift("",u):this._getShift("",u))+"<div>"+li.text(c.name)+"</div>"})}else l=Ri(Ri({},c),{},{text:li.text(c.name)});i[o]=l}return i}},{key:"_getPlayerDeltas",value:function(){var t={};for(var e in this.matchResults){var r=this.matchResults[e];t[e]=Math.floor(r.final_rating)-Math.floor(r.original_rating)}return t}},{key:"_getResultsRowDeltaRatingClass",value:function(t){return t>0?"rating-delta-positive":t<0?"rating-delta-negative":"rating-delta-neutral"}},{key:"_getResultsRowDeltaRankingClass",value:function(t){return null!=t&&t.original_ranking&&null!=t&&t.final_ranking&&null!==t.original_ranking&&null!==t.final_ranking?t.final_ranking>t.original_ranking?"ranking-delta-negative":t.final_ranking<t.original_ranking?"ranking-delta-positive":"ranking-delta-neutral":"ranking-delta-neutral"}},{key:"_getTierBackgroundColor",value:function(t){var e=this._isBlackColor(t),r=li.hexToRGBA(t,.11),n=li.getColorSimilarity(t);return n.white<.015?r=li.hexToRGBA(li.darkenColor(t,.05),.25):n.black<.015&&!e?r=li.hexToRGBA(li.lightenColor(t,.05),.25):(n.white<.1||n.black<.1&&!e)&&(r=li.hexToRGBA(t,.2)),this._lastTierColor===r&&(r=li.generateSimilarColor(r)),this._lastTierColor=r,r}},{key:"_isBlackColor",value:function(t){return["black","#000","#000000","#000000ff","rgb(0,0,0)","rgba(0,0,0,0)"].includes(t.replace(/\s+/g,"").toLowerCase())}},{key:"_getTierTextColor",value:function(t){return li.generateTextColorForBackground(li.hexToRGBA(t))}},{key:"getMaxNbScores",value:function(){return Math.max.apply(Math,Ai(this.table.teams.flatMap(function(t){return t.players.map(function(t){return t.scores.length})})))}},{key:"getTeamPenalty",value:function(t){var e=this.table.teams[t],r=Ai(e.players.values()).reduce(function(t,e){return t+e.penalty},0);return e.penalty-r}},{key:"_truncateText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return Array.from(t).length>e?Ai(t).slice(0,e-3).join("")+"...":t}},{key:"_getTotalMatchPoints",value:function(){return Ai(this.table.teams.values()).reduce(function(t,e){return t+(e.score-e.penalty)},0)}},{key:"_getRank",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=parseInt(t,10),i="<span>"+li.text("".concat(t,"th"))+"</span>",o=function(t){var e,r="base_"+t,n=null===(e=Kn.config.images)||void 0===e?void 0:e["base_"+t];return n&&n.loaded&&n.blobUrl?'<div class="js-image-preloader" data-class="" data-id="'.concat(r,'"></div>'):null};if(1===n?i=o(1)||"1st":2===n?i=o(2)||"2nd":3===n&&(i=o(3)||"3rd"),r&&e===n){var a=o("turtle");a&&(i=a)}return i}},{key:"_getLastPlaceNumber",value:function(){for(var t=1/0,e=-1/0,r=0,n=Object.entries(this.matchResults);r<n.length;r++){var i=ki(n[r],2),o=(i[0],i[1]);o.position<t&&(t=o.position),o.position>e&&(e=o.position)}for(var a=0,s=0,c=Object.entries(this.matchResults);s<c.length;s++){var l=ki(c[s],2);l[0];l[1].position===e&&a++}return t<e&&e>3&&1===a?e:1/0}},{key:"_getFlag",value:function(t){var e,r=t.toLowerCase().replace("-","_"),n=(null===(e=Kn.config.images)||void 0===e?void 0:e.flags_sprite)||null;if(null!=n&&n.loaded&&n.loaded&&n.blobUrl){var i,o,a=/^[A-Za-z]{2}(_[A-Za-z]{2})?$/.test(t),s=(null===(i=Kn.config.flags_manifest)||void 0===i?void 0:i[r])||null;if(!a||!s)r="un",s=null===(o=Kn.config.flags_manifest)||void 0===o?void 0:o[r];var c=-1*s[0],l=-1*s[1];return"background:none;background-position:".concat(c,"px ").concat(l,"px")}}},{key:"_getShift",value:function(t,e){switch(t){case"":var r,n="base_shift_".concat(e),i=null===(r=Kn.config.images)||void 0===r?void 0:r[n];return i&&i.loaded&&i.blobUrl?'<div><div class="js-image-preloader" data-class="shift up" data-id="'.concat(n,'"></div></div>'):"<div class='up'><p class='t'><span></span></p></div>";case"":var o,a="base_shift_".concat(e),s=null===(o=Kn.config.images)||void 0===o?void 0:o[a];return s&&s.loaded&&s.blobUrl?'<div><div class="js-image-preloader" data-class="shift down" data-id="'.concat(a,'"></div></div>'):"<div class='down'><p class='t'><span></span></p></div>";default:return"<div><p class='t'><span></span></p></div>"}}},{key:"_setFixedWidths",value:function(){var t=Ai(this._elements.table.querySelectorAll(this._selectors.scoresMatch)),e=Math.max.apply(Math,Ai(t.map(function(t){return t.offsetWidth}))),r=Ai(this._elements.table.querySelectorAll(this._selectors.tableTeamRatingPoints)),n=Math.max.apply(Math,Ai(r.map(function(t){return t.offsetWidth}))),i=Ai(this._elements.table.querySelectorAll(this._selectors.playerPenalty)),o=Math.max.apply(Math,Ai(i.map(function(t){return t.offsetWidth})));o&&r.forEach(function(t){t.style.marginLeft="-".concat(o,"px")});var a=Math.max(e,n);[].concat(Ai(t),Ai(r)).forEach(function(t){t.style.width=a+"px"});var s,c=Oi([this._selectors.playerName,this._selectors.tableTeamPlayers].entries());try{for(c.s();!(s=c.n()).done;){var l=ki(s.value,2),u=(l[0],l[1]);this._setFixedWidth(u)}}catch(t){c.e(t)}finally{c.f()}}},{key:"_setFixedWidth",value:function(t){var e=this._elements.table.querySelectorAll(t),r=0;return e.forEach(function(t){var e=t.offsetWidth;e>r&&(r=e)}),e.forEach(function(t){t.style.width=r+2+"px"}),r}},{key:"_waitForAssetsToLoad",value:(r=Di(Mi().m(function t(){return Mi().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,ii.wait("table_generator:ready");case 1:return t.a(2)}},t)})),function(){return r.apply(this,arguments)})},{key:"_getGameMode",value:function(){var t,e={},r=Oi(this.board.game_modes.entries());try{for(r.s();!(t=r.n()).done;){var n=ki(t.value,2),i=(n[0],n[1]);if(parseInt(this.board.lobby_type.id)===parseInt(this.table.id_lobby_type)&&parseInt(i.id)===parseInt(this.table.id_game_mode)){e=i;break}}}catch(t){r.e(t)}finally{r.f()}if(0===Object.keys(e).length){var o,a=Oi(this.board.game_modes.entries());try{for(a.s();!(o=a.n()).done;){var s=ki(o.value,2);s[0];e=s[1];break}}catch(t){a.e(t)}finally{a.f()}}return e}},{key:"_getTeamColor",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r&&r.startsWith("#")){var i=li.getColorSimilarity(r);if(i.white<.02)n&&t+1===n&&(r=this._defaultColors.light);else i.black<.1&&(r=this._defaultColors.dark);return r}return null!==(e=this._defaultColors)&&void 0!==e&&e["team_".concat(t)]?this._defaultColors["team_".concat(t)]:"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))}},{key:"_getRankingShift",value:function(t){var e=this._calculateRankingShift(t);return 1===e?this._getShift("","green"):-1===e?this._getShift("","red"):this._getShift("","none")}},{key:"_getRatingShift",value:function(t){var e=this._calculateRatingShift(t);return 1===e?this._getShift("","green"):-1===e?this._getShift("","red"):this._getShift("","none")}},{key:"_getHashtag",value:function(){return"<p class='t'><span class='hashtag'>#</span></p>"}},{key:"_useRankings",value:function(){for(var t=!1,e=0,r=Object.entries(this.matchResults);e<r.length;e++){var n=ki(r[e],2),i=(n[0],n[1]);if(null!=i&&i.final_ranking){t=!0;break}}return t}},{key:"_calculateRankingShift",value:function(t){return null===(null==t?void 0:t.original_ranking)||null===(null==t?void 0:t.final_ranking)?0:t.final_ranking>t.original_ranking?-1:t.final_ranking<t.original_ranking?1:0}},{key:"_calculateRatingShift",value:function(t){return null===t?0:t>0?1:t<0?-1:0}},{key:"_waitForStableDimensions",value:(e=Di(Mi().m(function t(e){var r,n,i,o,a,s=arguments;return Mi().w(function(t){for(;;)switch(t.n){case 0:r=s.length>1&&void 0!==s[1]?s[1]:3,n=0,i=0,o=0;case 1:if(!(o<r-1)){t.n=3;break}return(a=e.getBoundingClientRect()).width===n&&a.height===i?o++:o=0,n=a.width,i=a.height,t.n=2,new Promise(requestAnimationFrame);case 2:t.n=1;break;case 3:return t.a(2)}},t)})),function(t){return e.apply(this,arguments)})}],[{key:"getColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=li.getColorSimilarity(t);return n.white<e?li.darkenColor(t,r):n.black<e?li.lightenColor(t,r):t}},{key:"getElements",value:function(){var t=document.body.querySelector(".js-canvas-html"),e=t.querySelector(".js-canvas-body"),r=e.querySelector(".js-canvas-table");return{document:t,body:e,table:r,image:document.body.querySelector(".js-table-canvas .js-canvas-image")}}}]);var e,r,n,i}();Bi(Ui,"document",null),Bi(Ui,"_nbExecutions",0);const zi=Ui;function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function Gi(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return Yi(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(Yi(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Yi(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Yi(h,"constructor",l),Yi(l,"constructor",c),c.displayName="GeneratorFunction",Yi(l,i,"GeneratorFunction"),Yi(h),Yi(h,i,"Generator"),Yi(h,n,function(){return this}),Yi(h,"toString",function(){return"[object Generator]"}),(Gi=function(){return{w:o,m:f}})()}function Yi(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Yi=function(t,e,r,n){function o(e,r){Yi(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Yi(t,e,r,n)}function qi(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Vi(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){qi(o,n,i,a,s,"next",t)}function s(t){qi(o,n,i,a,s,"throw",t)}a(void 0)})}}function Wi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ki(n.key),n)}}function $i(t,e,r){return(e=Ki(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ki(t){var e=function(t,e){if("object"!=Hi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hi(e)?e:e+""}var Zi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._canvas=null,this._dataUrl="",this._url="",this._error=""}return function(t,e,r){return e&&Wi(t.prototype,e),r&&Wi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"canvas",get:function(){return this._canvas?this._canvas:null},set:function(t){return this._canvas=t,this}},{key:"dataUrl",get:function(){return this._canvas?(this._dataUrl||(this._dataUrl=this._canvas.toDataURL()||""),this._dataUrl):""},set:function(t){return this._canvas=t,this}},{key:"error",get:function(){return this._error}},{key:"getUrl",value:(n=Vi(Gi().m(function t(){var e,r,n=this;return Gi().w(function(t){for(;;)switch(t.n){case 0:if(this._canvas){t.n=1;break}return t.a(2,"");case 1:if(this._url){t.n=4;break}return r=URL,t.n=2,new Promise(function(t){return n._canvas.toBlob(t)});case 2:if(e=r.createObjectURL.call(r,t.v)){t.n=3;break}e="";case 3:this._url=e;case 4:return t.a(2,this._url)}},t,this)})),function(){return n.apply(this,arguments)})},{key:"url",set:function(t){return this._url=t,this}},{key:"convertHTMLToCanvas",value:function(){this._canvas=null,this._dataUrl="",this._url="",this._error="";try{return this._canvas=this._htmlToCanvas(),!0}catch(t){return this._error=t.message,hn.logError('Canvas.convertHTMLToCanvas: "'.concat(this._error,'".')),!1}}},{key:"convertHTMLToImage",value:(r=Vi(Gi().m(function t(){var e,r,n,i=arguments;return Gi().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:"blob",this._canvas=null,this._dataUrl="",this._url="",this._error="",t.p=1,t.n=2,this._htmlToImage(e);case 2:return r=t.v,this._canvas=r.canvas,"blob"===e?this._url=r.url:this._dataUrl=r.url,t.a(2,r.img);case 3:return t.p=3,n=t.v,this._error=n.message,hn.logError('Canvas.convertHTMLToImage: "'.concat(this._error,'".')),t.a(2,null)}},t,this,[[1,3]])})),function(){return r.apply(this,arguments)})},{key:"_htmlToCanvas",value:function(){var e=[".canvas-table .scores .header",".canvas-table .scores .body .team",".canvas-table .scores .body .team .players .player td",".canvas-table .results",".canvas-table .results .body .players .player",".canvas-table .results .body .players .player .tier > div"],r=".canvas-table img",n={backgrounds:".canvas-table .scores .body .team .players .flag > div > div:first-of-type > div",images:"._preload img.canvas-image-flags_sprite",borders:".canvas-table .scores .body .team .players .flag > div > div:last-of-type"},i=zi.getElements();i.document.style.display="block";var o=i.body,a=o.getBoundingClientRect(),s=t.TARGET_WIDTH/a.width,c=a.height*s,l=document.createElement("canvas");l.width=t.TARGET_WIDTH,l.height=Math.round(c);var u=l.getContext("2d");return u.scale(s,s),u.clearRect(0,0,a.width,a.height),t._drawBackgrounds(u,o,a,e),t._drawFlags(u,o,a,n.backgrounds,n.images,n.borders),t._drawImages(u,o,a,r),t._drawTexts(u,o,a),i.document.removeAttribute("style"),l}},{key:"_htmlToImage",value:(e=Vi(Gi().m(function t(){var e,r,n,i,o,a=arguments;return Gi().w(function(t){for(;;)switch(t.n){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:"blob",r=this._htmlToCanvas(),"blob"!==e){t.n=2;break}return o=URL,t.n=1,new Promise(function(t){return r.toBlob(t)});case 1:n=o.createObjectURL.call(o,t.v),t.n=3;break;case 2:n=r.toDataURL();case 3:return(i=document.createElement("img")).classList.add("canvas-image","js-canvas-image"),t.n=4,new Promise(function(t,e){i.onload=Vi(Gi().m(function e(){var r;return Gi().w(function(e){for(;;)switch(e.n){case 0:(r=document.createElement("canvas")).width=i.naturalWidth,r.height=i.naturalHeight,r.getContext("2d").drawImage(i,0,0),t({canvas:r,img:i,url:n});case 1:return e.a(2)}},e)})),i.onerror=e,i.src=n});case 4:return t.a(2,t.v)}},t,this)})),function(){return e.apply(this,arguments)})}],[{key:"_drawBackgrounds",value:function(e,r,n,i){var o=[];!function t(e){i.some(function(t){return e.matches(t)})&&o.push(e),Array.from(e.children).forEach(t)}(r),o.forEach(function(r){var i=getComputedStyle(r),o=i.backgroundColor;if(o&&"transparent"!==o&&"rgba(0, 0, 0, 0)"!==o){var a=r.getBoundingClientRect(),s=a.left-n.left,c=a.top-n.top,l=a.width,u=a.height;if(i.opacity&&"1"!==i.opacity&&(e.save(),e.globalAlpha=parseFloat(i.opacity)),e.fillStyle=o,i.borderRadius&&"0px"!==i.borderRadius){var h=t._parseBorderRadius(i,l,u);t._roundedBackgroundRectPath(e,s,c,l,u,h),e.fill()}else e.fillRect(s,c,l,u);i.opacity&&"1"!==i.opacity&&e.restore()}})}},{key:"_drawFlags",value:function(e,r,n,i,o,a){if(i){var s=Array.from(r.querySelectorAll(i)),c=r.closest("body").querySelector(o);s.forEach(function(r){t._drawFlag(e,r,n,c)}),t._drawFlagsBorders(e,r,n,a)}}},{key:"_drawImages",value:function(t,e,r,n){Array.from(e.querySelectorAll(n)).forEach(function(e){var n=e.getBoundingClientRect();if("none"!==getComputedStyle(e).display){var i=n.left-r.left,o=n.top-r.top,a=n.width,s=n.height,c=Kn.getAssetByElement(e);if(c){var l=c.bitmap||c.document;l&&(t.save(),e.classList.contains("down")?(t.translate(i+a/2,o+s/2),t.rotate(Math.PI),t.drawImage(l,-a/2,-s/2,a,s)):t.drawImage(l,i,o,a,s),t.restore())}}})}},{key:"_drawTexts",value:function(t,e,r){for(var n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(t){var e=t.textContent.trim();return e?/^\[.*]$/.test(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});n.nextNode();){var i=n.currentNode,o=i.parentElement;if(o){var a=getComputedStyle(o),s=o.getBoundingClientRect(),c=s.left-r.left+parseFloat(a.paddingLeft||0),l=s.top-r.top+parseFloat(a.paddingTop||0),u=o.clientWidth-parseFloat(a.paddingLeft||0)-parseFloat(a.paddingRight||0),h=o.clientHeight-parseFloat(a.paddingTop||0)-parseFloat(a.paddingBottom||0);t.save(),t.beginPath(),t.rect(c,l,u,h),t.clip(),t.font="".concat(a.fontWeight," ").concat(a.fontSize," ").concat(a.fontFamily),t.fillStyle=a.color,t.textBaseline="alphabetic";var f=c,d=l+.8*parseFloat(a.fontSize);switch(a.textAlign){case"center":t.textAlign="center",f+=u/2;break;case"right":t.textAlign="right",f+=u;break;default:t.textAlign="left"}t.fillText(i.textContent,f,d),t.restore()}}}},{key:"_drawFlag",value:function(e,r,n,i){if(i&&i.complete){var o=getComputedStyle(r),a=r.getBoundingClientRect(),s=a.left-n.left,c=a.top-n.top,l=a.width,u=a.height,h=Kn.getAssetByElement(i);if(h){var f=h.bitmap||h.document;if(f){var d=-(parseFloat(o.backgroundPositionX)||0),p=-(parseFloat(o.backgroundPositionY)||0),v=Math.min(l*t.FLAGS_SCALE,i.naturalWidth-d),m=Math.min(u*t.FLAGS_SCALE,i.naturalHeight-p);if(!(v<=0||m<=0)){var y=parseFloat(o.borderRadius)||0;y&&(t._roundedRectPath(e,s,c,l,u,y),e.save(),e.clip()),e.drawImage(f,d+1,p+1,v,m,s,c,l,u),y&&e.restore()}}}}}},{key:"_drawFlagsBorders",value:function(e,r,n,i){i&&r.querySelectorAll(i).forEach(function(r){t._drawBorder(e,r,n)})}},{key:"_drawBorder",value:function(e,r,n){var i=getComputedStyle(r),o=parseFloat(i.borderTopWidth);if(o){var a=i.borderTopColor,s=parseFloat(i.borderRadius)||0,c=r.getBoundingClientRect(),l=c.left-n.left,u=c.top-n.top,h=c.width,f=c.height;e.save(),e.lineWidth=o,e.strokeStyle=a,t._roundedRectPath(e,l+o/2,u+o/2,h-o,f-o,s),e.stroke(),e.restore()}}},{key:"_roundedRectPath",value:function(t,e,r,n,i,o){var a=Math.min(o,n/2,i/2);t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.arcTo(e+n,r,e+n,r+a,a),t.lineTo(e+n,r+i-a),t.arcTo(e+n,r+i,e+n-a,r+i,a),t.lineTo(e+a,r+i),t.arcTo(e,r+i,e,r+i-a,a),t.lineTo(e,r+a),t.arcTo(e,r,e+a,r,a),t.closePath()}},{key:"_roundedBackgroundRectPath",value:function(t,e,r,n,i,o){var a=o.tl,s=o.tr,c=o.br,l=o.bl;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+i-c),t.quadraticCurveTo(e+n,r+i,e+n-c,r+i),t.lineTo(e+l,r+i),t.quadraticCurveTo(e,r+i,e,r+i-l),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath()}},{key:"_parseBorderRadius",value:function(t,e,r){var n=t.borderRadius.split(" "),i=n.map(function(t){return function(t,e){return t.endsWith("%")?parseFloat(t)/100*e:parseFloat(t)}(t,Math.min(e,r))});switch(i.length){case 1:return{tl:i[0],tr:i[0],br:i[0],bl:i[0]};case 2:return{tl:i[0],tr:i[1],br:i[0],bl:i[1]};case 3:return{tl:i[0],tr:i[1],br:i[2],bl:i[1]};default:return{tl:i[0],tr:i[1],br:i[2],bl:i[3]}}}}]);var e,r,n}();$i(Zi,"TARGET_WIDTH",2400),$i(Zi,"FLAGS_SCALE",2);const Xi=Zi;var Ji=function(t,e){return Ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Ji(t,e)};function Qi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Ji(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var to=function(){return to=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},to.apply(this,arguments)};function eo(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var ro,no="ADD_CHOICE",io="REMOVE_CHOICE",oo="FILTER_CHOICES",ao="ACTIVATE_CHOICES",so="CLEAR_CHOICES",co="ADD_GROUP",lo="ADD_ITEM",uo="REMOVE_ITEM",ho="HIGHLIGHT_ITEM",fo="showDropdown",po="hideDropdown",vo="change",mo="choice",yo="search",go="addItem",bo="removeItem",_o="highlightItem",wo="highlightChoice",So="unhighlightItem",Eo=9,To=16,xo=46,Ao=8,ko=13,Oo=65,Co=27,Po=38,Io=40,Ro=33,Mo=34,Lo=["fuseOptions","classNames"],jo="text",Do="select-one",No="select-multiple",Bo=function(t){return{type:no,choice:t}},Fo=function(t){return{type:lo,item:t}},Uo=function(t){return{type:uo,item:t}},zo=function(t,e){return{type:ho,item:t,highlighted:e}},Ho=function(t){return Array.from({length:t},function(){return(t=0,e=36,Math.floor(Math.random()*(e-t)+t)).toString(36);var t,e}).join("")},Go=function(t){if("string"!=typeof t){if(null==t)return"";if("object"==typeof t){if("raw"in t)return Go(t.raw);if("trusted"in t)return t.trusted}return t}return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},Yo=(ro=document.createElement("div"),function(t){ro.innerHTML=t.trim();for(var e=ro.children[0];ro.firstChild;)ro.removeChild(ro.firstChild);return e}),qo=function(t,e){return"function"==typeof t?t(Go(e),e):t},Vo=function(t){return"function"==typeof t?t():t},Wo=function(t){if("string"==typeof t)return t;if("object"==typeof t){if("trusted"in t)return t.trusted;if("raw"in t)return t.raw}return""},$o=function(t){if("string"==typeof t)return t;if("object"==typeof t){if("escaped"in t)return t.escaped;if("trusted"in t)return t.trusted}return""},Ko=function(t,e){return t?$o(e):Go(e)},Zo=function(t,e,r){t.innerHTML=Ko(e,r)},Xo=function(t,e){return t.rank-e.rank},Jo=function(t){return Array.isArray(t)?t:[t]},Qo=function(t){return t&&Array.isArray(t)?t.map(function(t){return".".concat(t)}).join(""):".".concat(t)},ta=function(t,e){var r;(r=t.classList).add.apply(r,Jo(e))},ea=function(t,e){var r;(r=t.classList).remove.apply(r,Jo(e))},ra=function(t){if(void 0!==t)try{return JSON.parse(t)}catch(e){return t}return{}},na=function(){function t(t){var e=t.element,r=t.type,n=t.classNames;this.element=e,this.classNames=n,this.type=r,this.isActive=!1}return t.prototype.show=function(){return ta(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},t.prototype.hide=function(){return ea(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},t}(),ia=function(){function t(t){var e=t.element,r=t.type,n=t.classNames,i=t.position;this.element=e,this.classNames=n,this.type=r,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return t.prototype.shouldFlip=function(t,e){var r=!1;return"auto"===this.position?r=this.element.getBoundingClientRect().top-e>=0&&!window.matchMedia("(min-height: ".concat(t+1,"px)")).matches:"top"===this.position&&(r=!0),r},t.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype.open=function(t,e){ta(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(t,e)&&(ta(this.element,this.classNames.flippedState),this.isFlipped=!0)},t.prototype.close=function(){ea(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(ea(this.element,this.classNames.flippedState),this.isFlipped=!1)},t.prototype.addFocusState=function(){ta(this.element,this.classNames.focusState)},t.prototype.removeFocusState=function(){ea(this.element,this.classNames.focusState)},t.prototype.enable=function(){ea(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===Do&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.prototype.disable=function(){ta(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===Do&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.prototype.wrap=function(t){var e=this.element,r=t.parentNode;r&&(t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e)),e.appendChild(t)},t.prototype.unwrap=function(t){var e=this.element,r=e.parentNode;r&&(r.insertBefore(t,e),r.removeChild(e))},t.prototype.addLoadingState=function(){ta(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.prototype.removeLoadingState=function(){ea(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t}(),oa=function(){function t(t){var e=t.element,r=t.type,n=t.classNames,i=t.preventPaste;this.element=e,this.type=r,this.classNames=n,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(t.prototype,"placeholder",{set:function(t){this.element.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.value=t},enumerable:!1,configurable:!0}),t.prototype.addEventListeners=function(){var t=this.element;t.addEventListener("paste",this._onPaste),t.addEventListener("input",this._onInput,{passive:!0}),t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})},t.prototype.removeEventListeners=function(){var t=this.element;t.removeEventListener("input",this._onInput),t.removeEventListener("paste",this._onPaste),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},t.prototype.focus=function(){this.isFocussed||this.element.focus()},t.prototype.blur=function(){this.isFocussed&&this.element.blur()},t.prototype.clear=function(t){return void 0===t&&(t=!0),this.element.value="",t&&this.setWidth(),this},t.prototype.setWidth=function(){var t=this.element;t.style.minWidth="".concat(t.placeholder.length+1,"ch"),t.style.width="".concat(t.value.length+1,"ch")},t.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype._onInput=function(){this.type!==Do&&this.setWidth()},t.prototype._onPaste=function(t){this.preventPaste&&t.preventDefault()},t.prototype._onFocus=function(){this.isFocussed=!0},t.prototype._onBlur=function(){this.isFocussed=!1},t}(),aa=function(){function t(t){var e=t.element;this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return t.prototype.prepend=function(t){var e=this.element.firstElementChild;e?this.element.insertBefore(t,e):this.element.append(t)},t.prototype.scrollToTop=function(){this.element.scrollTop=0},t.prototype.scrollToChildElement=function(t,e){var r=this;if(t){var n=this.element.offsetHeight,i=this.element.scrollTop+n,o=t.offsetHeight,a=t.offsetTop+o,s=e>0?this.element.scrollTop+a-i:t.offsetTop;requestAnimationFrame(function(){r._animateScroll(s,e)})}},t.prototype._scrollDown=function(t,e,r){var n=(r-t)/e,i=n>1?n:1;this.element.scrollTop=t+i},t.prototype._scrollUp=function(t,e,r){var n=(t-r)/e,i=n>1?n:1;this.element.scrollTop=t-i},t.prototype._animateScroll=function(t,e){var r=this,n=this.element.scrollTop,i=!1;e>0?(this._scrollDown(n,4,t),n<t&&(i=!0)):(this._scrollUp(n,4,t),n>t&&(i=!0)),i&&requestAnimationFrame(function(){r._animateScroll(t,e)})},t}(),sa=function(){function t(t){var e=t.element,r=t.classNames;this.element=e,this.classNames=r,this.isDisabled=!1}return Object.defineProperty(t.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.setAttribute("value",t),this.element.value=t},enumerable:!1,configurable:!0}),t.prototype.conceal=function(){var t=this.element;ta(t,this.classNames.input),t.hidden=!0,t.tabIndex=-1;var e=t.getAttribute("style");e&&t.setAttribute("data-choice-orig-style",e),t.setAttribute("data-choice","active")},t.prototype.reveal=function(){var t=this.element;ea(t,this.classNames.input),t.hidden=!1,t.removeAttribute("tabindex");var e=t.getAttribute("data-choice-orig-style");e?(t.removeAttribute("data-choice-orig-style"),t.setAttribute("style",e)):t.removeAttribute("style"),t.removeAttribute("data-choice")},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},t.prototype.triggerEvent=function(t,e){!function(t,e,r){void 0===r&&(r=null);var n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0});t.dispatchEvent(n)}(this.element,t,e||{})},t}(),ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qi(e,t),e}(sa),la=function(t,e){return void 0===e&&(e=!0),void 0===t?e:!!t},ua=function(t){if("string"==typeof t&&(t=t.split(" ").filter(function(t){return t.length})),Array.isArray(t)&&t.length)return t},ha=function(t,e,r){if(void 0===r&&(r=!0),"string"==typeof t){var n=Go(t);return ha({value:t,label:r||n===t?t:{escaped:n,raw:t},selected:!0},!1)}var i=t;if("choices"in i){if(!e)throw new TypeError("optGroup is not allowed");var o=i,a=o.choices.map(function(t){return ha(t,!1)});return{id:0,label:Wo(o.label)||o.value,active:!!a.length,disabled:!!o.disabled,choices:a}}var s=i;return{id:0,group:null,score:0,rank:0,value:s.value,label:s.label||s.value,active:la(s.active),selected:la(s.selected,!1),disabled:la(s.disabled,!1),placeholder:la(s.placeholder,!1),highlighted:!1,labelClass:ua(s.labelClass),labelDescription:s.labelDescription,customProperties:s.customProperties}},fa=function(t){return"SELECT"===t.tagName},da=function(t){function e(e){var r=e.element,n=e.classNames,i=e.template,o=e.extractPlaceholder,a=t.call(this,{element:r,classNames:n})||this;return a.template=i,a.extractPlaceholder=o,a}return Qi(e,t),Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(t){var e=this,r=document.createDocumentFragment();t.forEach(function(t){var n=t;if(!n.element){var i=e.template(n);r.appendChild(i),n.element=i}}),this.element.appendChild(r)},e.prototype.optionsAsChoices=function(){var t=this,e=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(r){!function(t){return"OPTION"===t.tagName}(r)?function(t){return"OPTGROUP"===t.tagName}(r)&&e.push(t._optgroupToChoice(r)):e.push(t._optionToChoice(r))}),e},e.prototype._optionToChoice=function(t){return!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value=""),{id:0,group:null,score:0,rank:0,value:t.value,label:t.label,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:void 0!==t.dataset.labelClass?ua(t.dataset.labelClass):void 0,labelDescription:void 0!==t.dataset.labelDescription?t.dataset.labelDescription:void 0,customProperties:ra(t.dataset.customProperties)}},e.prototype._optgroupToChoice=function(t){var e=this,r=t.querySelectorAll("option"),n=Array.from(r).map(function(t){return e._optionToChoice(t)});return{id:0,label:t.label||"",element:t,active:!!n.length,disabled:t.disabled,choices:n}},e}(sa),pa={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(t){return!!t&&""!==t},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(t,e){var r=t.value,n=t.label,i=void 0===n?r:n,o=e.value,a=e.label,s=void 0===a?o:a;return Wo(i).localeCompare(Wo(s),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(t){return'Press Enter to add <b>"'.concat(t,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(t){return"Remove item: ".concat(t)},maxItemText:function(t){return"Only ".concat(t," values can be added")},valueComparer:function(t,e){return t===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},appendGroupInSearch:!1},va=function(t){var e=t.itemEl;e&&(e.remove(),t.itemEl=void 0)};var ma={groups:function(t,e){var r=t,n=!0;switch(e.type){case co:r.push(e.group);break;case so:r=[];break;default:n=!1}return{state:r,update:n}},items:function(t,e,r){var n=t,i=!0;switch(e.type){case lo:e.item.selected=!0,(o=e.item.element)&&(o.selected=!0,o.setAttribute("selected","")),n.push(e.item);break;case uo:var o;if(e.item.selected=!1,o=e.item.element){o.selected=!1,o.removeAttribute("selected");var a=o.parentElement;a&&fa(a)&&a.type===Do&&(a.value="")}va(e.item),n=n.filter(function(t){return t.id!==e.item.id});break;case io:va(e.choice),n=n.filter(function(t){return t.id!==e.choice.id});break;case ho:var s=e.highlighted,c=n.find(function(t){return t.id===e.item.id});c&&c.highlighted!==s&&(c.highlighted=s,r&&function(t,e,r){var n=t.itemEl;n&&(ea(n,r),ta(n,e))}(c,s?r.classNames.highlightedState:r.classNames.selectedState,s?r.classNames.selectedState:r.classNames.highlightedState));break;default:i=!1}return{state:n,update:i}},choices:function(t,e,r){var n=t,i=!0;switch(e.type){case no:n.push(e.choice);break;case io:e.choice.choiceEl=void 0,e.choice.group&&(e.choice.group.choices=e.choice.group.choices.filter(function(t){return t.id!==e.choice.id})),n=n.filter(function(t){return t.id!==e.choice.id});break;case lo:case uo:e.item.choiceEl=void 0;break;case oo:var o=[];e.results.forEach(function(t){o[t.item.id]=t}),n.forEach(function(t){var e=o[t.id];void 0!==e?(t.score=e.score,t.rank=e.rank,t.active=!0):(t.score=0,t.rank=0,t.active=!1),r&&r.appendGroupInSearch&&(t.choiceEl=void 0)});break;case ao:n.forEach(function(t){t.active=e.active,r&&r.appendGroupInSearch&&(t.choiceEl=void 0)});break;case so:n=[];break;default:i=!1}return{state:n,update:i}}},ya=function(){function t(t){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=t}return Object.defineProperty(t.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),t.prototype.changeSet=function(t){return{groups:t,items:t,choices:t}},t.prototype.reset=function(){this._state=this.defaultState;var t=this.changeSet(!0);this._txn?this._changeSet=t:this._listeners.forEach(function(e){return e(t)})},t.prototype.subscribe=function(t){return this._listeners.push(t),this},t.prototype.dispatch=function(t){var e=this,r=this._state,n=!1,i=this._changeSet||this.changeSet(!1);Object.keys(ma).forEach(function(o){var a=ma[o](r[o],t,e._context);a.update&&(n=!0,i[o]=!0,r[o]=a.state)}),n&&(this._txn?this._changeSet=i:this._listeners.forEach(function(t){return t(i)}))},t.prototype.withTxn=function(t){this._txn++;try{t()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var e=this._changeSet;e&&(this._changeSet=void 0,this._listeners.forEach(function(t){return t(e)}))}}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(t){return t.active&&t.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeChoices",{get:function(){return this.choices.filter(function(t){return t.active})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(t){return!t.disabled&&!t.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeGroups",{get:function(){var t=this;return this.state.groups.filter(function(e){var r=e.active&&!e.disabled,n=t.state.choices.some(function(t){return t.active&&!t.disabled});return r&&n},[])},enumerable:!1,configurable:!0}),t.prototype.inTxn=function(){return this._txn>0},t.prototype.getChoiceById=function(t){return this.activeChoices.find(function(e){return e.id===t})},t.prototype.getGroupById=function(t){return this.groups.find(function(e){return e.id===t})},t}(),ga="no-choices",ba="no-results",_a="add-choice",wa="";function Sa(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ea(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(r),!0).forEach(function(e){Sa(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function xa(t){return Array.isArray?Array.isArray(t):"[object Array]"===Ra(t)}function Aa(t){return"string"==typeof t}function ka(t){return"number"==typeof t}function Oa(t){return!0===t||!1===t||function(t){return Ca(t)&&null!==t}(t)&&"[object Boolean]"==Ra(t)}function Ca(t){return"object"==typeof t}function Pa(t){return null!=t}function Ia(t){return!t.trim().length}function Ra(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ma=Object.prototype.hasOwnProperty;class La{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let r=ja(t);this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ja(t){let e=null,r=null,n=null,i=1,o=null;if(Aa(t)||xa(t))n=t,e=Da(t),r=Na(t);else{if(!Ma.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const a=t.name;if(n=a,Ma.call(t,"weight")&&(i=t.weight,i<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(a));e=Da(a),r=Na(a),o=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:o}}function Da(t){return xa(t)?t:t.split(".")}function Na(t){return xa(t)?t.join("."):t}const Ba={useExtendedSearch:!1,getFn:function(t,e){let r=[],n=!1;const i=(t,e,o)=>{if(Pa(t))if(e[o]){const a=t[e[o]];if(!Pa(a))return;if(o===e.length-1&&(Aa(a)||ka(a)||Oa(a)))r.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(a));else if(xa(a)){n=!0;for(let t=0,r=a.length;t<r;t+=1)i(a[t],e,o+1)}else e.length&&i(a,e,o+1)}else r.push(t)};return i(t,Aa(e)?e.split("."):e,0),n?r:r[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Fa=Ta(Ta(Ta(Ta({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),Ba);const Ua=/[^ ]+/g;class za{constructor({getFn:t=Fa.getFn,fieldNormWeight:e=Fa.fieldNormWeight}={}){this.norm=function(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(e){const i=e.match(Ua).length;if(r.has(i))return r.get(i);const o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*n)/n);return r.set(i,a),a},clear(){r.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Aa(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();Aa(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,r=this.size();e<r;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Pa(t)||Ia(t))return;let r={v:t,i:e,n:this.norm.get(t)};this.records.push(r)}_addObject(t,e){let r={i:e,$:{}};this.keys.forEach((e,n)=>{let i=e.getFn?e.getFn(t):this.getFn(t,e.path);if(Pa(i))if(xa(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:r,value:n}=e.pop();if(Pa(n))if(Aa(n)&&!Ia(n)){let e={v:n,i:r,n:this.norm.get(n)};t.push(e)}else xa(n)&&n.forEach((t,r)=>{e.push({nestedArrIndex:r,value:t})})}r.$[n]=t}else if(Aa(i)&&!Ia(i)){let t={v:i,n:this.norm.get(i)};r.$[n]=t}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Ha(t,e,{getFn:r=Fa.getFn,fieldNormWeight:n=Fa.fieldNormWeight}={}){const i=new za({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(ja)),i.setSources(e),i.create(),i}function Ga(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Fa.distance,ignoreLocation:o=Fa.ignoreLocation}={}){const a=e/t.length;if(o)return a;const s=Math.abs(n-r);return i?a+s/i:s?1:a}const Ya=32;function qa(t,e,r,{location:n=Fa.location,distance:i=Fa.distance,threshold:o=Fa.threshold,findAllMatches:a=Fa.findAllMatches,minMatchCharLength:s=Fa.minMatchCharLength,includeMatches:c=Fa.includeMatches,ignoreLocation:l=Fa.ignoreLocation}={}){if(e.length>Ya)throw new Error(`Pattern length exceeds max of ${Ya}.`);const u=e.length,h=t.length,f=Math.max(0,Math.min(n,h));let d=o,p=f;const v=s>1||c,m=v?Array(h):[];let y;for(;(y=t.indexOf(e,p))>-1;){let t=Ga(e,{currentLocation:y,expectedLocation:f,distance:i,ignoreLocation:l});if(d=Math.min(t,d),p=y+u,v){let t=0;for(;t<u;)m[y+t]=1,t+=1}}p=-1;let g=[],b=1,_=u+h;const w=1<<u-1;for(let n=0;n<u;n+=1){let o=0,s=_;for(;o<s;){Ga(e,{errors:n,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:l})<=d?o=s:_=s,s=Math.floor((_-o)/2+o)}_=s;let c=Math.max(1,f-s+1),y=a?h:Math.min(f+s,h)+u,S=Array(y+2);S[y+1]=(1<<n)-1;for(let o=y;o>=c;o-=1){let a=o-1,s=r[t.charAt(a)];if(v&&(m[a]=+!!s),S[o]=(S[o+1]<<1|1)&s,n&&(S[o]|=(g[o+1]|g[o])<<1|1|g[o+1]),S[o]&w&&(b=Ga(e,{errors:n,currentLocation:a,expectedLocation:f,distance:i,ignoreLocation:l}),b<=d)){if(d=b,p=a,p<=f)break;c=Math.max(1,2*f-p)}}if(Ga(e,{errors:n+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:l})>d)break;g=S}const S={isMatch:p>=0,score:Math.max(.001,b)};if(v){const t=function(t=[],e=Fa.minMatchCharLength){let r=[],n=-1,i=-1,o=0;for(let a=t.length;o<a;o+=1){let a=t[o];a&&-1===n?n=o:a||-1===n||(i=o-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[o-1]&&o-n>=e&&r.push([n,o-1]),r}(m,s);t.length?c&&(S.indices=t):S.isMatch=!1}return S}function Va(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}class Wa{constructor(t,{location:e=Fa.location,threshold:r=Fa.threshold,distance:n=Fa.distance,includeMatches:i=Fa.includeMatches,findAllMatches:o=Fa.findAllMatches,minMatchCharLength:a=Fa.minMatchCharLength,isCaseSensitive:s=Fa.isCaseSensitive,ignoreLocation:c=Fa.ignoreLocation}={}){if(this.options={location:e,threshold:r,distance:n,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:Va(t),startIndex:e})},u=this.pattern.length;if(u>Ya){let t=0;const e=u%Ya,r=u-e;for(;t<r;)l(this.pattern.substr(t,Ya),t),t+=Ya;if(e){const t=u-Ya;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:r}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return r&&(e.indices=[[0,t.length-1]]),e}const{location:n,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let l=[],u=0,h=!1;this.chunks.forEach(({pattern:e,alphabet:f,startIndex:d})=>{const{isMatch:p,score:v,indices:m}=qa(t,e,f,{location:n+d,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:r,ignoreLocation:c});p&&(h=!0),u+=v,p&&m&&(l=[...l,...m])});let f={isMatch:h,score:h?u/this.chunks.length:1};return h&&r&&(f.indices=l),f}}class $a{constructor(t){this.pattern=t}static isMultiMatch(t){return Ka(t,this.multiRegex)}static isSingleMatch(t){return Ka(t,this.singleRegex)}search(){}}function Ka(t,e){const r=t.match(e);return r?r[1]:null}class Za extends $a{constructor(t,{location:e=Fa.location,threshold:r=Fa.threshold,distance:n=Fa.distance,includeMatches:i=Fa.includeMatches,findAllMatches:o=Fa.findAllMatches,minMatchCharLength:a=Fa.minMatchCharLength,isCaseSensitive:s=Fa.isCaseSensitive,ignoreLocation:c=Fa.ignoreLocation}={}){super(t),this._bitapSearch=new Wa(t,{location:e,threshold:r,distance:n,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Xa extends $a{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,r=0;const n=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,r))>-1;)r=e+i,n.push([e,r-1]);const o=!!n.length;return{isMatch:o,score:o?0:1,indices:n}}}const Ja=[class extends $a{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Xa,class extends $a{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends $a{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends $a{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends $a{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends $a{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Za],Qa=Ja.length,ts=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const es=new Set([Za.type,Xa.type]);class rs{constructor(t,{isCaseSensitive:e=Fa.isCaseSensitive,includeMatches:r=Fa.includeMatches,minMatchCharLength:n=Fa.minMatchCharLength,ignoreLocation:i=Fa.ignoreLocation,findAllMatches:o=Fa.findAllMatches,location:a=Fa.location,threshold:s=Fa.threshold,distance:c=Fa.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:r,minMatchCharLength:n,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map(t=>{let r=t.trim().split(ts).filter(t=>t&&!!t.trim()),n=[];for(let t=0,i=r.length;t<i;t+=1){const i=r[t];let o=!1,a=-1;for(;!o&&++a<Qa;){const t=Ja[a];let r=t.isMultiMatch(i);r&&(n.push(new t(r,e)),o=!0)}if(!o)for(a=-1;++a<Qa;){const t=Ja[a];let r=t.isSingleMatch(i);if(r){n.push(new t(r,e));break}}}return n})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n}=this.options;t=n?t:t.toLowerCase();let i=0,o=[],a=0;for(let n=0,s=e.length;n<s;n+=1){const s=e[n];o.length=0,i=0;for(let e=0,n=s.length;e<n;e+=1){const n=s[e],{isMatch:c,indices:l,score:u}=n.search(t);if(!c){a=0,i=0,o.length=0;break}if(i+=1,a+=u,r){const t=n.constructor.type;es.has(t)?o=[...o,...l]:o.push(l)}}if(i){let t={isMatch:!0,score:a/i};return r&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const ns=[];function is(t,e){for(let r=0,n=ns.length;r<n;r+=1){let n=ns[r];if(n.condition(t,e))return new n(t,e)}return new Wa(t,e)}const os="$and",as="$or",ss="$path",cs="$val",ls=t=>!(!t[os]&&!t[as]),us=t=>({[os]:Object.keys(t).map(e=>({[e]:t[e]}))});function hs(t,e,{auto:r=!0}={}){const n=t=>{let i=Object.keys(t);const o=(t=>!!t[ss])(t);if(!o&&i.length>1&&!ls(t))return n(us(t));if((t=>!xa(t)&&Ca(t)&&!ls(t))(t)){const n=o?t[ss]:i[0],a=o?t[cs]:t[n];if(!Aa(a))throw new Error((t=>`Invalid value for key ${t}`)(n));const s={keyId:Na(n),pattern:a};return r&&(s.searcher=is(a,e)),s}let a={children:[],operator:i[0]};return i.forEach(e=>{const r=t[e];xa(r)&&r.forEach(t=>{a.children.push(n(t))})}),a};return ls(t)||(t=us(t)),n(t)}function fs(t,e){const r=t.matches;e.matches=[],Pa(r)&&r.forEach(t=>{if(!Pa(t.indices)||!t.indices.length)return;const{indices:r,value:n}=t;let i={indices:r,value:n};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)})}function ds(t,e){e.score=t.score}class ps{constructor(t,e={},r){this.options=Ta(Ta({},Fa),e),this.options.useExtendedSearch,this._keyStore=new La(this.options.keys),this.setCollection(t,r)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof za))throw new Error("Incorrect 'index' type");this._myIndex=e||Ha(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Pa(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let r=0,n=this._docs.length;r<n;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,n-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=Aa(t)?Aa(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=Fa.ignoreFieldNorm}){t.forEach(t=>{let r=1;t.matches.forEach(({key:t,norm:n,score:i})=>{const o=t?t.weight:null;r*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(e?1:n))}),t.score=r})}(s,{ignoreFieldNorm:a}),i&&s.sort(o),ka(e)&&e>-1&&(s=s.slice(0,e)),function(t,e,{includeMatches:r=Fa.includeMatches,includeScore:n=Fa.includeScore}={}){const i=[];return r&&i.push(fs),n&&i.push(ds),t.map(t=>{const{idx:r}=t,n={item:e[r],refIndex:r};return i.length&&i.forEach(e=>{e(t,n)}),n})}(s,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(t){const e=is(t,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:t,i:r,n:i})=>{if(!Pa(t))return;const{isMatch:o,score:a,indices:s}=e.searchIn(t);o&&n.push({item:t,idx:r,matches:[{score:a,value:t,norm:i,indices:s}]})}),n}_searchLogical(t){const e=hs(t,this.options),r=(t,e,n)=>{if(!t.children){const{keyId:r,searcher:i}=t,o=this._findMatches({key:this._keyStore.get(r),value:this._myIndex.getValueForItemAtKeyId(e,r),searcher:i});return o&&o.length?[{idx:n,item:e,matches:o}]:[]}const i=[];for(let o=0,a=t.children.length;o<a;o+=1){const a=t.children[o],s=r(a,e,n);if(s.length)i.push(...s);else if(t.operator===os)return[]}return i},n=this._myIndex.records,i={},o=[];return n.forEach(({$:t,i:n})=>{if(Pa(t)){let a=r(e,t,n);a.length&&(i[n]||(i[n]={idx:n,item:t,matches:[]},o.push(i[n])),a.forEach(({matches:t})=>{i[n].matches.push(...t)}))}}),o}_searchObjectList(t){const e=is(t,this.options),{keys:r,records:n}=this._myIndex,i=[];return n.forEach(({$:t,i:n})=>{if(!Pa(t))return;let o=[];r.forEach((r,n)=>{o.push(...this._findMatches({key:r,value:t[n],searcher:e}))}),o.length&&i.push({idx:n,item:t,matches:o})}),i}_findMatches({key:t,value:e,searcher:r}){if(!Pa(e))return[];let n=[];if(xa(e))e.forEach(({v:e,i,n:o})=>{if(!Pa(e))return;const{isMatch:a,score:s,indices:c}=r.searchIn(e);a&&n.push({score:s,key:t,value:e,idx:i,norm:o,indices:c})});else{const{v:i,n:o}=e,{isMatch:a,score:s,indices:c}=r.searchIn(i);a&&n.push({score:s,key:t,value:i,norm:o,indices:c})}return n}}ps.version="7.0.0",ps.createIndex=Ha,ps.parseIndex=function(t,{getFn:e=Fa.getFn,fieldNormWeight:r=Fa.fieldNormWeight}={}){const{keys:n,records:i}=t,o=new za({getFn:e,fieldNormWeight:r});return o.setKeys(n),o.setIndexRecords(i),o},ps.config=Fa,ps.parseQuery=hs,function(...t){ns.push(...t)}(rs);var vs=function(){function t(t){this._haystack=[],this._fuseOptions=to(to({},t.fuseOptions),{keys:eo([],t.searchFields,!0),includeMatches:!0})}return t.prototype.index=function(t){this._haystack=t,this._fuse&&this._fuse.setCollection(t)},t.prototype.reset=function(){this._haystack=[],this._fuse=void 0},t.prototype.isEmptyIndex=function(){return!this._haystack.length},t.prototype.search=function(t){return this._fuse||(this._fuse=new ps(this._haystack,this._fuseOptions)),this._fuse.search(t).map(function(t,e){return{item:t.item,score:t.score||0,rank:e+1}})},t}();var ms=function(t,e,r){var n=t.dataset,i=e.customProperties,o=e.labelClass,a=e.labelDescription;o&&(n.labelClass=Jo(o).join(" ")),a&&(n.labelDescription=a),r&&i&&("string"==typeof i?n.customProperties=i:"object"!=typeof i||function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(i)||(n.customProperties=JSON.stringify(i)))},ys=function(t,e,r){var n=e&&t.querySelector("label[for='".concat(e,"']")),i=n&&n.innerText;i&&r.setAttribute("aria-label",i)},gs={containerOuter:function(t,e,r,n,i,o,a){var s=t.classNames.containerOuter,c=document.createElement("div");return ta(c,s),c.dataset.type=o,e&&(c.dir=e),n&&(c.tabIndex=0),r&&(c.setAttribute("role",i?"combobox":"listbox"),i?c.setAttribute("aria-autocomplete","list"):a||ys(this._docRoot,this.passedElement.element.id,c),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false")),a&&c.setAttribute("aria-labelledby",a),c},containerInner:function(t){var e=t.classNames.containerInner,r=document.createElement("div");return ta(r,e),r},itemList:function(t,e){var r=t.searchEnabled,n=t.classNames,i=n.list,o=n.listSingle,a=n.listItems,s=document.createElement("div");return ta(s,i),ta(s,e?o:a),this._isSelectElement&&r&&s.setAttribute("role","listbox"),s},placeholder:function(t,e){var r=t.allowHTML,n=t.classNames.placeholder,i=document.createElement("div");return ta(i,n),Zo(i,r,e),i},item:function(t,e,r){var n=t.allowHTML,i=t.removeItemButtonAlignLeft,o=t.removeItemIconText,a=t.removeItemLabelText,s=t.classNames,c=s.item,l=s.button,u=s.highlightedState,h=s.itemSelectable,f=s.placeholder,d=Wo(e.value),p=document.createElement("div");if(ta(p,c),e.labelClass){var v=document.createElement("span");Zo(v,n,e.label),ta(v,e.labelClass),p.appendChild(v)}else Zo(p,n,e.label);if(p.dataset.item="",p.dataset.id=e.id,p.dataset.value=d,ms(p,e,!0),(e.disabled||this.containerOuter.isDisabled)&&p.setAttribute("aria-disabled","true"),this._isSelectElement&&(p.setAttribute("aria-selected","true"),p.setAttribute("role","option")),e.placeholder&&(ta(p,f),p.dataset.placeholder=""),ta(p,e.highlighted?u:h),r){e.disabled&&ea(p,h),p.dataset.deletable="";var m=document.createElement("button");m.type="button",ta(m,l),Zo(m,!0,qo(o,e.value));var y=qo(a,e.value);y&&m.setAttribute("aria-label",y),m.dataset.button="",i?p.insertAdjacentElement("afterbegin",m):p.appendChild(m)}return p},choiceList:function(t,e){var r=t.classNames.list,n=document.createElement("div");return ta(n,r),e||n.setAttribute("aria-multiselectable","true"),n.setAttribute("role","listbox"),n},choiceGroup:function(t,e){var r=t.allowHTML,n=t.classNames,i=n.group,o=n.groupHeading,a=n.itemDisabled,s=e.id,c=e.label,l=e.disabled,u=Wo(c),h=document.createElement("div");ta(h,i),l&&ta(h,a),h.setAttribute("role","group"),h.dataset.group="",h.dataset.id=s,h.dataset.value=u,l&&h.setAttribute("aria-disabled","true");var f=document.createElement("div");return ta(f,o),Zo(f,r,c||""),h.appendChild(f),h},choice:function(t,e,r,n){var i=t.allowHTML,o=t.classNames,a=o.item,s=o.itemChoice,c=o.itemSelectable,l=o.selectedState,u=o.itemDisabled,h=o.description,f=o.placeholder,d=e.label,p=Wo(e.value),v=document.createElement("div");v.id=e.elementId,ta(v,a),ta(v,s),n&&"string"==typeof d&&(d=Ko(i,d),d={trusted:d+=" (".concat(n,")")});var m=v;if(e.labelClass){var y=document.createElement("span");Zo(y,i,d),ta(y,e.labelClass),m=y,v.appendChild(y)}else Zo(v,i,d);if(e.labelDescription){var g="".concat(e.elementId,"-description");m.setAttribute("aria-describedby",g);var b=document.createElement("span");Zo(b,i,e.labelDescription),b.id=g,ta(b,h),v.appendChild(b)}return e.selected&&ta(v,l),e.placeholder&&ta(v,f),v.setAttribute("role",e.group?"treeitem":"option"),v.dataset.choice="",v.dataset.id=e.id,v.dataset.value=p,r&&(v.dataset.selectText=r),e.group&&(v.dataset.groupId="".concat(e.group.id)),ms(v,e,!1),e.disabled?(ta(v,u),v.dataset.choiceDisabled="",v.setAttribute("aria-disabled","true")):(ta(v,c),v.dataset.choiceSelectable=""),v},input:function(t,e){var r=t.classNames,n=r.input,i=r.inputCloned,o=t.labelId,a=document.createElement("input");return a.type="search",ta(a,n),ta(a,i),a.autocomplete="off",a.autocapitalize="off",a.spellcheck=!1,a.setAttribute("aria-autocomplete","list"),e?a.setAttribute("aria-label",e):o||ys(this._docRoot,this.passedElement.element.id,a),a},dropdown:function(t){var e=t.classNames,r=e.list,n=e.listDropdown,i=document.createElement("div");return ta(i,r),ta(i,n),i.setAttribute("aria-expanded","false"),i},notice:function(t,e,r){var n=t.classNames,i=n.item,o=n.itemChoice,a=n.addChoice,s=n.noResults,c=n.noChoices,l=n.notice;void 0===r&&(r=wa);var u=document.createElement("div");switch(Zo(u,!0,e),ta(u,i),ta(u,o),ta(u,l),r){case _a:ta(u,a);break;case ba:ta(u,s);break;case ga:ta(u,c)}return r===_a&&(u.dataset.choiceSelectable="",u.dataset.choice=""),u},option:function(t){var e=Wo(t.label),r=new Option(e,t.value,!1,t.selected);return ms(r,t,!0),r.disabled=t.disabled,t.selected&&r.setAttribute("selected",""),r}},bs="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,_s={},ws=function(t){if(t)return t.dataset.id?parseInt(t.dataset.id,10):void 0},Ss="[data-choice-selectable]",Es=function(){function t(e,r){void 0===e&&(e="[data-choice]"),void 0===r&&(r={});var n=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var i=t.defaults;this.config=to(to(to({},i.allOptions),i.options),r),Lo.forEach(function(t){n.config[t]=to(to(to({},i.allOptions[t]),i.options[t]),r[t])});var o=this.config;o.silent||this._validateConfig();var a=o.shadowRoot||document.documentElement;this._docRoot=a;var s="string"==typeof e?a.querySelector(e):e;if(!s||"object"!=typeof s||!function(t){return"INPUT"===t.tagName}(s)&&!fa(s)){if(!s&&"string"==typeof e)throw TypeError("Selector ".concat(e," failed to find an element"));throw TypeError("Expected one of the following types text|select-one|select-multiple")}var c=s.type,l=c===jo;(l||1!==o.maxItemCount)&&(o.singleModeForMultiSelect=!1),o.singleModeForMultiSelect&&(c=No);var u=c===Do,h=c===No,f=u||h;if(this._elementType=c,this._isTextElement=l,this._isSelectOneElement=u,this._isSelectMultipleElement=h,this._isSelectElement=u||h,this._canAddUserChoices=l&&o.addItems||f&&o.addChoices,"boolean"!=typeof o.renderSelectedChoices&&(o.renderSelectedChoices="always"===o.renderSelectedChoices||u),"auto"===o.closeDropdownOnSelect?o.closeDropdownOnSelect=l||u||o.singleModeForMultiSelect:o.closeDropdownOnSelect=la(o.closeDropdownOnSelect),o.placeholder&&(o.placeholderValue?this._hasNonChoicePlaceholder=!0:s.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,o.placeholderValue=s.dataset.placeholder)),r.addItemFilter&&"function"!=typeof r.addItemFilter){var d=r.addItemFilter instanceof RegExp?r.addItemFilter:new RegExp(r.addItemFilter);o.addItemFilter=d.test.bind(d)}if(this._isTextElement)this.passedElement=new ca({element:s,classNames:o.classNames});else{var p=s;this.passedElement=new da({element:p,classNames:o.classNames,template:function(t){return n._templates.option(t)},extractPlaceholder:o.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new ya(o),this._currentValue="",o.searchEnabled=!l&&o.searchEnabled||h,this._canSearch=o.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(t,e){var r=t.id||t.name&&"".concat(t.name,"-").concat(Ho(2))||Ho(4);return r=r.replace(/(:|\.|\[|\]|,)/g,""),"".concat(e,"-").concat(r)}(s,"choices-"),this._direction=s.dir,!this._direction){var v=window.getComputedStyle(s).direction;v!==window.getComputedStyle(document.documentElement).direction&&(this._direction=v)}if(this._idNames={itemChoice:"item-choice"},this._templates=i.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return o.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0,void(this.initialisedOK=!1);this.init(),this._initialItems=this._store.items.map(function(t){return t.value})}return Object.defineProperty(t,"defaults",{get:function(){return Object.preventExtensions({get options(){return _s},get allOptions(){return pa},get templates(){return gs}})},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(!this.initialised&&void 0===this.initialisedOK){var t;this._searcher=(t=this.config,new vs(t)),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;"function"==typeof e&&e.call(this)}},t.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=t.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},t.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},t.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},t.prototype.highlightItem=function(t,e){if(void 0===e&&(e=!0),!t||!t.id)return this;var r=this._store.items.find(function(e){return e.id===t.id});return!r||r.highlighted||(this._store.dispatch(zo(r,!0)),e&&this.passedElement.triggerEvent(_o,this._getChoiceForOutput(r))),this},t.prototype.unhighlightItem=function(t,e){if(void 0===e&&(e=!0),!t||!t.id)return this;var r=this._store.items.find(function(e){return e.id===t.id});return r&&r.highlighted?(this._store.dispatch(zo(r,!1)),e&&this.passedElement.triggerEvent(So,this._getChoiceForOutput(r)),this):this},t.prototype.highlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted||(t._store.dispatch(zo(e,!0)),t.passedElement.triggerEvent(_o,t._getChoiceForOutput(e)))})}),this},t.prototype.unhighlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted&&(t._store.dispatch(zo(e,!1)),t.passedElement.triggerEvent(_o,t._getChoiceForOutput(e)))})}),this},t.prototype.removeActiveItemsByValue=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(e){return e.value===t}).forEach(function(t){return e._removeItem(t)})}),this},t.prototype.removeActiveItems=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(e){return e.id!==t}).forEach(function(t){return e._removeItem(t)})}),this},t.prototype.removeHighlightedItems=function(t){var e=this;return void 0===t&&(t=!1),this._store.withTxn(function(){e._store.highlightedActiveItems.forEach(function(r){e._removeItem(r),t&&e._triggerChange(r.value)})}),this},t.prototype.showDropdown=function(t){var e=this;return this.dropdown.isActive||(void 0===t&&(t=!this._canSearch),requestAnimationFrame(function(){e.dropdown.show();var r=e.dropdown.element.getBoundingClientRect();e.containerOuter.open(r.bottom,r.height),t||e.input.focus(),e.passedElement.triggerEvent(fo)})),this},t.prototype.hideDropdown=function(t){var e=this;return this.dropdown.isActive?(requestAnimationFrame(function(){e.dropdown.hide(),e.containerOuter.close(),!t&&e._canSearch&&(e.input.removeActiveDescendant(),e.input.blur()),e.passedElement.triggerEvent(po)}),this):this},t.prototype.getValue=function(t){var e=this,r=this._store.items.map(function(r){return t?r.value:e._getChoiceForOutput(r)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?r[0]:r},t.prototype.setValue=function(t){var e=this;return this.initialisedOK?(this._store.withTxn(function(){t.forEach(function(t){t&&e._addChoice(ha(t,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},t.prototype.setChoiceByValue=function(t){var e=this;return this.initialisedOK?(this._isTextElement||(this._store.withTxn(function(){(Array.isArray(t)?t:[t]).forEach(function(t){return e._findAndSelectChoiceByValue(t)}),e.unhighlightAll()}),this._searcher.reset()),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},t.prototype.setChoices=function(t,e,r,n,i,o){var a=this;if(void 0===t&&(t=[]),void 0===e&&(e="value"),void 0===r&&(r="label"),void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===o&&(o=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof e||!e)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if("function"==typeof t){var s=t(this);if("function"==typeof Promise&&s instanceof Promise)return new Promise(function(t){return requestAnimationFrame(t)}).then(function(){return a._handleLoadingState(!0)}).then(function(){return s}).then(function(t){return a.setChoices(t,e,r,n,i,o)}).catch(function(t){a.config.silent||console.error(t)}).then(function(){return a._handleLoadingState(!1)}).then(function(){return a});if(!Array.isArray(s))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof s));return this.setChoices(s,e,r,!1)}if(!Array.isArray(t))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){i&&(a._isSearching=!1),n&&a.clearChoices(!0,o);var s="value"===e,c="label"===r;t.forEach(function(t){if("choices"in t){var n=t;c||(n=to(to({},n),{label:n[r]})),a._addGroup(ha(n,!0))}else{var i=t;c&&s||(i=to(to({},i),{value:i[e],label:i[r]}));var o=ha(i,!1);a._addChoice(o),o.placeholder&&!a._hasNonChoicePlaceholder&&(a._placeholderValue=$o(o.label))}}),a.unhighlightAll()}),this._searcher.reset(),this},t.prototype.refresh=function(t,e,r){var n=this;return void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===r&&(r=!1),this._isSelectElement?(this._store.withTxn(function(){var i=n.passedElement.optionsAsChoices(),o={};r||n._store.items.forEach(function(t){t.id&&t.active&&t.selected&&(o[t.value]=!0)}),n.clearStore(!1);var a=function(t){r?n._store.dispatch(Uo(t)):o[t.value]&&(t.selected=!0)};i.forEach(function(t){"choices"in t?t.choices.forEach(a):a(t)}),n._addPredefinedChoices(i,e,t),n._isSearching&&n._searchChoices(n.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},t.prototype.removeChoice=function(t){var e=this._store.choices.find(function(e){return e.value===t});return e?(this._clearNotice(),this._store.dispatch(function(t){return{type:io,choice:t}}(e)),this._searcher.reset(),e.selected&&this.passedElement.triggerEvent(bo,this._getChoiceForOutput(e)),this):this},t.prototype.clearChoices=function(t,e){var r=this;return void 0===t&&(t=!0),void 0===e&&(e=!1),t&&(e?this.passedElement.element.replaceChildren(""):this.passedElement.element.querySelectorAll(":not([selected])").forEach(function(t){t.remove()})),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.withTxn(function(){var t=e?[]:r._store.items;r._store.reset(),t.forEach(function(t){r._store.dispatch(Bo(t)),r._store.dispatch(Fo(t))})}),this._searcher.reset(),this},t.prototype.clearStore=function(t){return void 0===t&&(t=!0),this.clearChoices(t,!0),this._stopSearch(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this},t.prototype.clearInput=function(){var t=!this._isSelectOneElement;return this.input.clear(t),this._stopSearch(),this},t.prototype._validateConfig=function(){var t,e,r,n,i=this.config,o=(t=i,e=pa,r=Object.keys(t).sort(),n=Object.keys(e).sort(),r.filter(function(t){return n.indexOf(t)<0}));o.length&&console.warn("Unknown config option(s) passed",o.join(", ")),i.allowHTML&&i.allowHtmlUserInput&&(i.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),i.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},t.prototype._render=function(t){void 0===t&&(t={choices:!0,groups:!0,items:!0}),this._store.inTxn()||(this._isSelectElement&&(t.choices||t.groups)&&this._renderChoices(),t.items&&this._renderItems())},t.prototype._renderChoices=function(){var t=this;if(this._canAddItems()){var e=this.config,r=this._isSearching,n=this._store,i=n.activeGroups,o=n.activeChoices,a=0;if(r&&e.searchResultLimit>0?a=e.searchResultLimit:e.renderChoiceLimit>0&&(a=e.renderChoiceLimit),this._isSelectElement){var s=o.filter(function(t){return!t.element});s.length&&this.passedElement.addOptions(s)}var c=document.createDocumentFragment(),l=function(t){return t.filter(function(t){return!t.placeholder&&(r?!!t.rank:e.renderSelectedChoices||!t.selected)})},u=!1,h=function(n,i,o){r?n.sort(Xo):e.shouldSort&&n.sort(e.sorter);var s=n.length;s=!i&&a&&s>a?a:s,s--,n.every(function(n,i){var a=n.choiceEl||t._templates.choice(e,n,e.itemSelectText,o);return n.choiceEl=a,c.appendChild(a),!r&&n.selected||(u=!0),i<s})};o.length&&(e.resetScrollPosition&&requestAnimationFrame(function(){return t.choiceList.scrollToTop()}),this._hasNonChoicePlaceholder||r||!this._isSelectOneElement||h(o.filter(function(t){return t.placeholder&&!t.group}),!1,void 0),i.length&&!r?(e.shouldSort&&i.sort(e.sorter),h(o.filter(function(t){return!t.placeholder&&!t.group}),!1,void 0),i.forEach(function(n){var i=l(n.choices);if(i.length){if(n.label){var o=n.groupEl||t._templates.choiceGroup(t.config,n);n.groupEl=o,o.remove(),c.appendChild(o)}h(i,!0,e.appendGroupInSearch&&r?n.label:void 0)}})):h(l(o),!1,void 0)),u||!r&&c.children.length&&e.renderSelectedChoices||(this._notice||(this._notice={text:Vo(r?e.noResultsText:e.noChoicesText),type:r?ba:ga}),c.replaceChildren("")),this._renderNotice(c),this.choiceList.element.replaceChildren(c),u&&this._highlightChoice()}},t.prototype._renderItems=function(){var t=this,e=this._store.items||[],r=this.itemList.element,n=this.config,i=document.createDocumentFragment(),o=function(t){return r.querySelector('[data-item][data-id="'.concat(t.id,'"]'))},a=function(e){var r=e.itemEl;r&&r.parentElement||(r=o(e)||t._templates.item(n,e,n.removeItemButton),e.itemEl=r,i.appendChild(r))};e.forEach(a);var s=!!i.childNodes.length;if(this._isSelectOneElement){var c=r.children.length;if(s||c>1){var l=r.querySelector(Qo(n.classNames.placeholder));l&&l.remove()}else s||c||!this._placeholderValue||(s=!0,a(ha({selected:!0,value:"",label:this._placeholderValue,placeholder:!0},!1)))}s&&(r.append(i),n.shouldSortItems&&!this._isSelectOneElement&&(e.sort(n.sorter),e.forEach(function(t){var e=o(t);e&&(e.remove(),i.append(e))}),r.append(i))),this._isTextElement&&(this.passedElement.value=e.map(function(t){return t.value}).join(n.delimiter))},t.prototype._displayNotice=function(t,e,r){void 0===r&&(r=!0);var n=this._notice;n&&(n.type===e&&n.text===t||n.type===_a&&(e===ba||e===ga))?r&&this.showDropdown(!0):(this._clearNotice(),this._notice=t?{text:t,type:e}:void 0,this._renderNotice(),r&&t&&this.showDropdown(!0))},t.prototype._clearNotice=function(){if(this._notice){var t=this.choiceList.element.querySelector(Qo(this.config.classNames.notice));t&&t.remove(),this._notice=void 0}},t.prototype._renderNotice=function(t){var e=this._notice;if(e){var r=this._templates.notice(this.config,e.text,e.type);t?t.append(r):this.choiceList.prepend(r)}},t.prototype._getChoiceForOutput=function(t,e){return{id:t.id,highlighted:t.highlighted,labelClass:t.labelClass,labelDescription:t.labelDescription,customProperties:t.customProperties,disabled:t.disabled,active:t.active,label:t.label,placeholder:t.placeholder,value:t.value,groupValue:t.group?t.group.label:void 0,element:t.element,keyCode:e}},t.prototype._triggerChange=function(t){null!=t&&this.passedElement.triggerEvent(vo,{value:t})},t.prototype._handleButtonAction=function(t){var e=this,r=this._store.items;if(r.length&&this.config.removeItems&&this.config.removeItemButton){var n=t&&ws(t.parentElement),i=n&&r.find(function(t){return t.id===n});i&&this._store.withTxn(function(){if(e._removeItem(i),e._triggerChange(i.value),e._isSelectOneElement&&!e._hasNonChoicePlaceholder){var t=(e.config.shouldSort?e._store.choices.reverse():e._store.choices).find(function(t){return t.placeholder});t&&(e._addItem(t),e.unhighlightAll(),t.value&&e._triggerChange(t.value))}})}},t.prototype._handleItemAction=function(t,e){var r=this;void 0===e&&(e=!1);var n=this._store.items;if(n.length&&this.config.removeItems&&!this._isSelectOneElement){var i=ws(t);i&&(n.forEach(function(t){t.id!==i||t.highlighted?!e&&t.highlighted&&r.unhighlightItem(t):r.highlightItem(t)}),this.input.focus())}},t.prototype._handleChoiceAction=function(t){var e=this,r=ws(t),n=r&&this._store.getChoiceById(r);if(!n||n.disabled)return!1;var i=this.dropdown.isActive;if(!n.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){e._addItem(n,!0,!0),e.clearInput(),e.unhighlightAll()}),this._triggerChange(n.value)}return i&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},t.prototype._handleBackspace=function(t){var e=this.config;if(e.removeItems&&t.length){var r=t[t.length-1],n=t.some(function(t){return t.highlighted});e.editItems&&!n&&r?(this.input.value=r.value,this.input.setWidth(),this._removeItem(r),this._triggerChange(r.value)):(n||this.highlightItem(r,!1),this.removeHighlightedItems(!0))}},t.prototype._loadChoices=function(){var t,e=this,r=this.config;if(this._isTextElement){if(this._presetChoices=r.items.map(function(t){return ha(t,!1)}),this.passedElement.value){var n=this.passedElement.value.split(r.delimiter).map(function(t){return ha(t,!1,e.config.allowHtmlUserInput)});this._presetChoices=this._presetChoices.concat(n)}this._presetChoices.forEach(function(t){t.selected=!0})}else if(this._isSelectElement){this._presetChoices=r.choices.map(function(t){return ha(t,!0)});var i=this.passedElement.optionsAsChoices();i&&(t=this._presetChoices).push.apply(t,i)}},t.prototype._handleLoadingState=function(t){void 0===t&&(t=!0);var e=this.itemList.element;t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?e.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(e.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},t.prototype._handleSearch=function(t){if(this.input.isFocussed)if(null!=t&&t.length>=this.config.searchFloor){var e=this.config.searchChoices?this._searchChoices(t):0;null!==e&&this.passedElement.triggerEvent(yo,{value:t,resultCount:e})}else this._store.choices.some(function(t){return!t.active})&&this._stopSearch()},t.prototype._canAddItems=function(){var t=this.config,e=t.maxItemCount,r=t.maxItemText;return!t.singleModeForMultiSelect&&e>0&&e<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice("function"==typeof r?r(e):r,_a),!1):(this._notice&&this._notice.type===_a&&this._clearNotice(),!0)},t.prototype._canCreateItem=function(t){var e=this.config,r=!0,n="";if((r&&"function"==typeof e.addItemFilter&&!e.addItemFilter(t)&&(r=!1,n=qo(e.customAddItemText,t)),r)&&this._store.choices.find(function(r){return e.valueComparer(r.value,t)})){if(this._isSelectElement)return this._displayNotice("",_a),!1;e.duplicateItemsAllowed||(r=!1,n=qo(e.uniqueItemText,t))}return r&&(n=qo(e.addItemText,t)),n&&this._displayNotice(n,_a),r},t.prototype._searchChoices=function(t){var e=t.trim().replace(/\s{2,}/," ");if(!e.length||e===this._currentValue)return null;var r=this._searcher;r.isEmptyIndex()&&r.index(this._store.searchableChoices);var n=r.search(e);this._currentValue=e,this._highlightPosition=0,this._isSearching=!0;var i=this._notice;return(i&&i.type)!==_a&&(n.length?this._clearNotice():this._displayNotice(Vo(this.config.noResultsText),ba)),this._store.dispatch(function(t){return{type:oo,results:t}}(n)),n.length},t.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch({type:ao,active:!0}),this.passedElement.triggerEvent(yo,{value:"",resultCount:0}))},t.prototype._addEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,r=this.input.element;t.addEventListener("touchend",this._onTouchEnd,!0),e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("click",this._onClick,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})),r.addEventListener("keyup",this._onKeyUp,{passive:!0}),r.addEventListener("input",this._onInput,{passive:!0}),r.addEventListener("focus",this._onFocus,{passive:!0}),r.addEventListener("blur",this._onBlur,{passive:!0}),r.form&&r.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},t.prototype._removeEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,r=this.input.element;t.removeEventListener("touchend",this._onTouchEnd,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("click",this._onClick),t.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)),r.removeEventListener("keyup",this._onKeyUp),r.removeEventListener("input",this._onInput),r.removeEventListener("focus",this._onFocus),r.removeEventListener("blur",this._onBlur),r.form&&r.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},t.prototype._onKeyDown=function(t){var e=t.keyCode,r=this.dropdown.isActive,n=1===t.key.length||2===t.key.length&&t.key.charCodeAt(0)>=55296||"Unidentified"===t.key;switch(this._isTextElement||r||e===Co||e===Eo||e===To||(this.showDropdown(),!this.input.isFocussed&&n&&(this.input.value+=t.key," "===t.key&&t.preventDefault())),e){case Oo:return this._onSelectKey(t,this.itemList.element.hasChildNodes());case ko:return this._onEnterKey(t,r);case Co:return this._onEscapeKey(t,r);case Po:case Ro:case Io:case Mo:return this._onDirectionKey(t,r);case Ao:case xo:return this._onDeleteKey(t,this._store.items,this.input.isFocussed)}},t.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},t.prototype._onInput=function(){var t=this.input.value;t?this._canAddItems()&&(this._canSearch&&this._handleSearch(t),this._canAddUserChoices&&(this._canCreateItem(t),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice()))):this._isTextElement?this.hideDropdown(!0):this._stopSearch()},t.prototype._onSelectKey=function(t,e){(t.ctrlKey||t.metaKey)&&e&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},t.prototype._onEnterKey=function(t,e){var r=this,n=this.input.value,i=t.target;if(t.preventDefault(),i&&i.hasAttribute("data-button"))this._handleButtonAction(i);else if(e){var o=this.dropdown.element.querySelector(Qo(this.config.classNames.highlightedState));if(!o||!this._handleChoiceAction(o))if(i&&n){if(this._canAddItems()){var a=!1;this._store.withTxn(function(){if(!(a=r._findAndSelectChoiceByValue(n,!0))){if(!r._canAddUserChoices)return;if(!r._canCreateItem(n))return;r._addChoice(ha(n,!1,r.config.allowHtmlUserInput),!0,!0),a=!0}r.clearInput(),r.unhighlightAll()}),a&&(this._triggerChange(n),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}else this.hideDropdown(!0)}else(this._isSelectElement||this._notice)&&this.showDropdown()},t.prototype._onEscapeKey=function(t,e){e&&(t.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},t.prototype._onDirectionKey=function(t,e){var r,n,i,o=t.keyCode;if(e||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var a=o===Io||o===Mo?1:-1,s=void 0;if(t.metaKey||o===Mo||o===Ro)s=a>0?this.dropdown.element.querySelector("".concat(Ss,":last-of-type")):this.dropdown.element.querySelector(Ss);else{var c=this.dropdown.element.querySelector(Qo(this.config.classNames.highlightedState));s=c?function(t,e,r){void 0===r&&(r=1);for(var n="".concat(r>0?"next":"previous","ElementSibling"),i=t[n];i;){if(i.matches(e))return i;i=i[n]}return null}(c,Ss,a):this.dropdown.element.querySelector(Ss)}s&&(r=s,n=this.choiceList.element,void 0===(i=a)&&(i=1),(i>0?n.scrollTop+n.offsetHeight>=r.offsetTop+r.offsetHeight:r.offsetTop>=n.scrollTop)||this.choiceList.scrollToChildElement(s,a),this._highlightChoice(s)),t.preventDefault()}},t.prototype._onDeleteKey=function(t,e,r){this._isSelectOneElement||t.target.value||!r||(this._handleBackspace(e),t.preventDefault())},t.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},t.prototype._onTouchEnd=function(t){var e=(t||t.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(e)&&((e===this.containerOuter.element||e===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),t.stopPropagation());this._wasTap=!0},t.prototype._onMouseDown=function(t){var e=t.target;if(e instanceof HTMLElement){if(bs&&this.choiceList.element.contains(e)){var r=this.choiceList.element.firstElementChild;this._isScrollingOnIe="ltr"===this._direction?t.offsetX>=r.offsetWidth:t.offsetX<r.offsetLeft}if(e!==this.input.element){var n=e.closest("[data-button],[data-item],[data-choice]");n instanceof HTMLElement&&("button"in n.dataset?this._handleButtonAction(n):"item"in n.dataset?this._handleItemAction(n,t.shiftKey):"choice"in n.dataset&&this._handleChoiceAction(n)),t.preventDefault()}}},t.prototype._onMouseOver=function(t){var e=t.target;e instanceof HTMLElement&&"choice"in e.dataset&&this._highlightChoice(e)},t.prototype._onClick=function(t){var e=t.target,r=this.containerOuter;r.element.contains(e)?this.dropdown.isActive||r.isDisabled?this._isSelectOneElement&&e!==this.input.element&&!this.dropdown.element.contains(e)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),r.element.focus()):(r.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},t.prototype._onFocus=function(t){var e=t.target,r=this.containerOuter;if(e&&r.element.contains(e)){var n=e===this.input.element;this._isTextElement?n&&r.addFocusState():this._isSelectMultipleElement?n&&(this.showDropdown(!0),r.addFocusState()):(r.addFocusState(),n&&this.showDropdown(!0))}},t.prototype._onBlur=function(t){var e=t.target,r=this.containerOuter;e&&r.element.contains(e)&&!this._isScrollingOnIe?e===this.input.element?(r.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):e===this.containerOuter.element&&(r.removeFocusState(),this._canSearch||this.hideDropdown(!0)):(this._isScrollingOnIe=!1,this.input.element.focus())},t.prototype._onFormReset=function(){var t=this;this._store.withTxn(function(){t.clearInput(),t.hideDropdown(),t.refresh(!1,!1,!0),t._initialItems.length&&t.setChoiceByValue(t._initialItems)})},t.prototype._highlightChoice=function(t){void 0===t&&(t=null);var e=Array.from(this.dropdown.element.querySelectorAll(Ss));if(e.length){var r=t,n=this.config.classNames.highlightedState;Array.from(this.dropdown.element.querySelectorAll(Qo(n))).forEach(function(t){ea(t,n),t.setAttribute("aria-selected","false")}),r?this._highlightPosition=e.indexOf(r):(r=e.length>this._highlightPosition?e[this._highlightPosition]:e[e.length-1])||(r=e[0]),ta(r,n),r.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(wo,{el:r}),this.dropdown.isActive&&(this.input.setActiveDescendant(r.id),this.containerOuter.setActiveDescendant(r.id))}},t.prototype._addItem=function(t,e,r){if(void 0===e&&(e=!0),void 0===r&&(r=!1),!t.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(t.id),this._store.dispatch(Fo(t)),e&&(this.passedElement.triggerEvent(go,this._getChoiceForOutput(t)),r&&this.passedElement.triggerEvent(mo,this._getChoiceForOutput(t)))},t.prototype._removeItem=function(t){if(t.id){this._store.dispatch(Uo(t));var e=this._notice;e&&e.type===ga&&this._clearNotice(),this.passedElement.triggerEvent(bo,this._getChoiceForOutput(t))}},t.prototype._addChoice=function(t,e,r){if(void 0===e&&(e=!0),void 0===r&&(r=!1),t.id)throw new TypeError("Can not re-add a choice which has already been added");var n=this.config;if(n.duplicateItemsAllowed||!this._store.choices.find(function(e){return n.valueComparer(e.value,t.value)})){this._lastAddedChoiceId++,t.id=this._lastAddedChoiceId,t.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(t.id);var i=n.prependValue,o=n.appendValue;i&&(t.value=i+t.value),o&&(t.value+=o.toString()),(i||o)&&t.element&&(t.element.value=t.value),this._clearNotice(),this._store.dispatch(Bo(t)),t.selected&&this._addItem(t,e,r)}},t.prototype._addGroup=function(t,e){var r=this;if(void 0===e&&(e=!0),t.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(function(t){return{type:co,group:t}}(t)),t.choices&&(this._lastAddedGroupId++,t.id=this._lastAddedGroupId,t.choices.forEach(function(n){n.group=t,t.disabled&&(n.disabled=!0),r._addChoice(n,e)}))},t.prototype._createTemplates=function(){var t=this,e=this.config.callbackOnCreateTemplates,r={};"function"==typeof e&&(r=e.call(this,Yo,Ko,Jo));var n={};Object.keys(this._templates).forEach(function(e){n[e]=e in r?r[e].bind(t):t._templates[e].bind(t)}),this._templates=n},t.prototype._createElements=function(){var t=this._templates,e=this.config,r=this._isSelectOneElement,n=e.position,i=e.classNames,o=this._elementType;this.containerOuter=new ia({element:t.containerOuter(e,this._direction,this._isSelectElement,r,e.searchEnabled,o,e.labelId),classNames:i,type:o,position:n}),this.containerInner=new ia({element:t.containerInner(e),classNames:i,type:o,position:n}),this.input=new oa({element:t.input(e,this._placeholderValue),classNames:i,type:o,preventPaste:!e.paste}),this.choiceList=new aa({element:t.choiceList(e,r)}),this.itemList=new aa({element:t.itemList(e,r)}),this.dropdown=new na({element:t.dropdown(e),classNames:i,type:o})},t.prototype._createStructure=function(){var t=this,e=t.containerInner,r=t.containerOuter,n=t.passedElement,i=this.dropdown.element;n.conceal(),e.wrap(n.element),r.wrap(e.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),r.element.appendChild(e.element),r.element.appendChild(i),e.element.appendChild(this.itemList.element),i.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&i.insertBefore(this.input.element,i.firstChild):e.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},t.prototype._initStore=function(){var t=this;this._store.subscribe(this._render).withTxn(function(){t._addPredefinedChoices(t._presetChoices,t._isSelectOneElement&&!t._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},t.prototype._addPredefinedChoices=function(t,e,r){var n=this;(void 0===e&&(e=!1),void 0===r&&(r=!0),e)&&(-1===t.findIndex(function(t){return t.selected})&&t.some(function(t){return!t.disabled&&!("choices"in t)&&(t.selected=!0,!0)}));t.forEach(function(t){"choices"in t?n._isSelectElement&&n._addGroup(t,r):n._addChoice(t,r)})},t.prototype._findAndSelectChoiceByValue=function(t,e){var r=this;void 0===e&&(e=!1);var n=this._store.choices.find(function(e){return r.config.valueComparer(e.value,t)});return!(!n||n.disabled||n.selected)&&(this._addItem(n,!0,e),!0)},t.prototype._generatePlaceholderValue=function(){var t=this.config;if(!t.placeholder)return null;if(this._hasNonChoicePlaceholder)return t.placeholderValue;if(this._isSelectElement){var e=this.passedElement.placeholderOption;return e?e.text:null}return null},t.prototype._warnChoicesInitFailed=function(t){if(!this.config.silent){if(!this.initialised)throw new TypeError("".concat(t," called on a non-initialised instance of Choices"));if(!this.initialisedOK)throw new TypeError("".concat(t," called for an element which has multiple instances of Choices initialised on it"))}},t.version="11.1.0",t}();r(61805);function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function xs(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return As(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(As(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,As(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,As(h,"constructor",l),As(l,"constructor",c),c.displayName="GeneratorFunction",As(l,i,"GeneratorFunction"),As(h),As(h,i,"Generator"),As(h,n,function(){return this}),As(h,"toString",function(){return"[object Generator]"}),(xs=function(){return{w:o,m:f}})()}function As(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}As=function(t,e,r,n){function o(e,r){As(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},As(t,e,r,n)}function ks(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Os(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cs(n.key),n)}}function Cs(t){var e=function(t,e){if("object"!=Ts(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ts(e)?e:e+""}var Ps=function(){return function(t,e,r){return e&&Os(t.prototype,e),r&&Os(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"text",value:(t=xs().m(function t(e){var r,n,i,o;return xs().w(function(t){for(;;)switch(t.p=t.n){case 0:if(null===(r=navigator)||void 0===r||null===(r=r.clipboard)||void 0===r||!r.writeText){t.n=2;break}return t.n=1,navigator.clipboard.writeText(e);case 1:case 5:case 7:return t.a(2);case 2:if(null===(n=(i=document).queryCommandSupported)||void 0===n||!n.call(i,"copy")){t.n=6;break}if((o=document.createElement("textarea")).value=e,o.style.position="fixed",o.style.width="2em",o.style.height="2em",o.style.padding="0",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",document.body.appendChild(o),o.focus(),o.select(),t.p=3,document.execCommand("copy")){t.n=4;break}throw new Error("Copy command failed");case 4:return t.p=4,document.body.removeChild(o),t.f(4);case 6:throw new Error("None of copying methods are supported by this browser!")}},t,null,[[3,,4,5]])}),e=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){ks(o,n,i,a,s,"next",t)}function s(t){ks(o,n,i,a,s,"throw",t)}a(void 0)})},function(t){return e.apply(this,arguments)})}]);var t,e}();const Is=Ps;function Rs(t){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(t)}function Ms(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ls(n.key),n)}}function Ls(t){var e=function(t,e){if("object"!=Rs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rs(e)?e:e+""}var js=function(){return function(t,e,r){return e&&Ms(t.prototype,e),r&&Ms(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"debounce",value:function(t,e,r){var n,i=arguments,o=this;return function(){var a=o,s=i,c=r&&!n;clearTimeout(n),n=setTimeout(function(){n=null,r||t.apply(a,s)},e),c&&t.apply(a,s)}}}])}();const Ds=js;function Ns(t){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(t)}function Bs(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Fs(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fs(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Us(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zs(n.key),n)}}function zs(t){var e=function(t,e){if("object"!=Ns(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ns(e)?e:e+""}var Hs=function(){return function(t,e,r){return e&&Us(t.prototype,e),r&&Us(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"addEventListener",value:function(t,e){var r=this;return this._listeners.has(t)||this._listeners.set(t,new Set),this._listeners.get(t).add(e),function(){return r._listeners.get(t).delete(e)}}},{key:"dispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._listeners.has(t)){var r,n=Bs(this._listeners.get(t));try{for(n.s();!(r=n.n()).done;){var i=r.value;try{i(e)}catch(t){console.error(t)}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"removeEventListener",value:function(t){this._listeners.has(t)&&this._listeners.delete(t)}}])}();!function(t,e,r){(e=zs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Hs,"_listeners",new Map);const Gs=Hs;var Ys,qs=r(74940),Vs=r.n(qs);function Ws(t){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(t)}function $s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zs(n.key),n)}}function Ks(t,e,r){return(e=Zs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zs(t){var e=function(t,e){if("object"!=Ws(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ws(e)?e:e+""}var Xs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&$s(t.prototype,e),r&&$s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"isMobile",value:function(){return t._isMobile}},{key:"isTouchDevice",value:function(){return!t._hasHover||t._hasTouch}}])}();Ks(Xs,"_isMobile",Vs()({tablet:!0})),Ks(Xs,"_hasHover",!(null===(Ys=window.matchMedia("(hover: hover)"))||void 0===Ys||!Ys.matches)),Ks(Xs,"_hasTouch","ontouchstart"in window);const Js=Xs;var Qs=r(67773),tc=r.n(Qs),ec=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var r=-1;return t.some(function(t,n){return t[0]===e&&(r=n,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},e.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];t.call(e,i[1],i[0])}},e}()}(),rc="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,nc=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ic="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(nc):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)};var oc=["top","right","bottom","left","width","height","size","weight"],ac="undefined"!=typeof MutationObserver,sc=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,n=!1,i=0;function o(){r&&(r=!1,t()),n&&s()}function a(){ic(o)}function s(){var t=Date.now();if(r){if(t-i<2)return;n=!0}else r=!0,n=!1,setTimeout(a,e);i=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){rc&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ac?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){rc&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;oc.some(function(t){return!!~r.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),cc=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},lc=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||nc},uc=mc(0,0,0,0);function hc(t){return parseFloat(t)||0}function fc(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(e,r){return e+hc(t["border-"+r+"-width"])},0)}function dc(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return uc;var n=lc(t).getComputedStyle(t),i=function(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],o=t["padding-"+i];e[i]=hc(o)}return e}(n),o=i.left+i.right,a=i.top+i.bottom,s=hc(n.width),c=hc(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==e&&(s-=fc(n,"left","right")+o),Math.round(c+a)!==r&&(c-=fc(n,"top","bottom")+a)),!function(t){return t===lc(t).document.documentElement}(t)){var l=Math.round(s+o)-e,u=Math.round(c+a)-r;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return mc(i.left,i.top,s,c)}var pc="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof lc(t).SVGGraphicsElement}:function(t){return t instanceof lc(t).SVGElement&&"function"==typeof t.getBBox};function vc(t){return rc?pc(t)?function(t){var e=t.getBBox();return mc(0,0,e.width,e.height)}(t):dc(t):uc}function mc(t,e,r,n){return{x:t,y:e,width:r,height:n}}var yc=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=mc(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=vc(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),gc=function(t,e){var r,n,i,o,a,s,c,l=(n=(r=e).x,i=r.y,o=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),cc(c,{x:n,y:i,width:o,height:a,top:i,right:n+o,bottom:a+i,left:n}),c);cc(this,{target:t,contentRect:l})},bc=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new ec,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof lc(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new yc(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof lc(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new gc(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_c="undefined"!=typeof WeakMap?new WeakMap:new ec,wc=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=sc.getInstance(),n=new bc(e,r,this);_c.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){wc.prototype[t]=function(){var e;return(e=_c.get(this))[t].apply(e,arguments)}});const Sc=void 0!==nc.ResizeObserver?nc.ResizeObserver:wc;r(21767),r(77332),r(68707),r(92342),r(70960),r(29455),r(49130),r(69790);function Ec(t){return Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(t)}function Tc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Ac(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ac(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ac(t,e){if(t){if("string"==typeof t)return kc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kc(t,e):void 0}}function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Oc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cc(n.key),n)}}function Cc(t){var e=function(t,e){if("object"!=Ec(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ec(e)?e:e+""}var Pc=function(){return function(t,e,r){return e&&Oc(t.prototype,e),r&&Oc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._table=e,this._board=r,this._teams=this._table.teams,this._isTeamMode=!this._getGameMode().is_solo,this._nbTeams=this._teams.length,this._nbPlayers=this._getNbPlayers()},[{key:"calculate",value:function(t,e,r,n){return null}},{key:"isValid",value:function(){var t,e=xc(this._teams.entries());try{for(e.s();!(t=e.n()).done;){var r,n=Tc(t.value,2),i=(n[0],xc(n[1].players.entries()));try{for(i.s();!(r=i.n()).done;){var o=Tc(r.value,2),a=(o[0],o[1]);if(0===this._getNbOpponents(a))return!1}}catch(t){i.e(t)}finally{i.f()}}}catch(t){e.e(t)}finally{e.f()}return this._nbPlayers>=2}},{key:"adjustPlayerFinalRatingPoints",value:function(t,e){return e}},{key:"_setAlgorithmVariables",value:function(){}},{key:"_getNbPlayers",value:function(){var t=0;return Object.values(this._teams).forEach(function(e){Object.values(e.players).forEach(function(e){t++})}),t}},{key:"_getNbOpponents",value:function(t){var e=0;if(this._isTeamMode){var r=null;t:for(var n=0,i=Object.entries(this._teams);n<i.length;n++)for(var o=Tc(i[n],2),a=o[0],s=o[1],c=0,l=Object.values(s.players);c<l.length;c++){if(l[c].name===t.name){r=a;break t}}if(null===r)throw new Error("Could not get player team");for(var u=0,h=Object.entries(this._teams);u<h.length;u++){var f=Tc(h[u],2),d=f[0],p=f[1];d!==r&&(e+=p.players.length)}}else e=this._getNbPlayers()-1;return e}},{key:"_getGameMode",value:function(){var t,e={},r=xc(this._board.game_modes.entries());try{for(r.s();!(t=r.n()).done;){var n=Tc(t.value,2),i=(n[0],n[1]);if(parseInt(this._board.lobby_type.id)===parseInt(this._table.id_lobby_type)&&parseInt(i.id)===parseInt(this._table.id_game_mode)){e=i;break}}}catch(t){r.e(t)}finally{r.f()}return e}}])}();const Ic=Pc;function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zc(n.key),n)}}function Lc(t,e,r){return e=Bc(e),function(t,e){if(e&&("object"==Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jc()?Reflect.construct(e,r||[],Bc(t).constructor):e.apply(t,r))}function jc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jc=function(){return!!t})()}function Dc(t,e,r,n){var i=Nc(Bc(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Nc(){return Nc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Bc(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Nc.apply(null,arguments)}function Bc(t){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bc(t)}function Fc(t,e){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fc(t,e)}function Uc(t,e,r){return(e=zc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zc(t){var e=function(t,e){if("object"!=Rc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rc(e)?e:e+""}var Hc=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Uc(n=Lc(this,e,[t,r]),"p",void 0),Uc(n,"_scalingFactor",null),Uc(n,"_k",null),Uc(n,"_sa",null),Uc(n,"_ea",null),n._setAlgorithmVariables(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fc(t,e)}(e,t),function(t,e,r){return e&&Mc(t.prototype,e),r&&Mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"calculate",value:function(t,r,n,i){var o,a=0;this._isTeamMode?(o=r.score-r.penalty,a=i.score-i.penalty):(o=t.scores.reduce(function(t,e){return t+e},0)-t.penalty,a=n.scores.reduce(function(t,e){return t+e},0)-n.penalty);var s=o===a,c=o>a;return this._k=this._scalingFactor/Dc(e,"_getNbOpponents",this,3)([t]),this._sa=c?1:s?.5:0,this._ea=1/(1+Math.pow(10,(n.board_rating-t.board_rating)/400)),this._k*(this._sa-this._ea)}},{key:"isValid",value:function(){return Dc(e,"isValid",this,3)([])&&null!==this._scalingFactor}},{key:"_setAlgorithmVariables",value:function(){var t=this._getGameMode();this._scalingFactor=t.rating_scheme.scaling_factor}}])}(Ic);const Gc=Hc;function Yc(t){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(t)}function qc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qc(n.key),n)}}function Vc(t,e,r){return e=Zc(e),function(t,e){if(e&&("object"==Yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wc()?Reflect.construct(e,r||[],Zc(t).constructor):e.apply(t,r))}function Wc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Wc=function(){return!!t})()}function $c(t,e,r,n){var i=Kc(Zc(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Kc(){return Kc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Zc(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Kc.apply(null,arguments)}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zc(t)}function Xc(t,e){return Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xc(t,e)}function Jc(t,e,r){return(e=Qc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qc(t){var e=function(t,e){if("object"!=Yc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yc(e)?e:e+""}var tl=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jc(n=Vc(this,e,[t,r]),"_baseline",null),Jc(n,"_scalingFactor",null),n._setAlgorithmVariables(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xc(t,e)}(e,t),function(t,e,r){return e&&qc(t.prototype,e),r&&qc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"calculate",value:function(t,e,r,n){var i,o=0;this._isTeamMode?(i=e.score-e.penalty,o=n.score-n.penalty):(i=t.scores.reduce(function(t,e){return t+e},0)-t.penalty,o=r.scores.reduce(function(t,e){return t+e},0)-r.penalty);var a=i===o,s=i>o,c=t.board_rating<r.board_rating;return a?(c?1:-1)*this._calculateByTieAlgorithm(t,r):(s?1:-1)*this._calculateByWinAlgorithm(s?t:r,s?r:t)}},{key:"isValid",value:function(){return $c(e,"isValid",this,3)([])&&null!==this._baseline&&null!==this._scalingFactor}},{key:"adjustPlayerFinalRatingPoints",value:function(t,r){return r/$c(e,"_getNbOpponents",this,3)([t])}},{key:"_calculateByWinAlgorithm",value:function(t,e){return 1+this._baseline*Math.pow(1+Math.max(-9997,e.board_rating-t.board_rating)/9998,this._scalingFactor)}},{key:"_calculateByTieAlgorithm",value:function(t,e){return 1.5*this._scalingFactor*(this._baseline+1)*Math.pow(Math.pow(Math.pow(Math.max(-9997,t.board_rating-e.board_rating)/9998,2),1/3),2)}},{key:"_setAlgorithmVariables",value:function(){var t=this._getGameMode();this._baseline=t.rating_scheme.baseline,this._scalingFactor=t.rating_scheme.scaling_factor}}])}(Ic);const el=tl;function rl(t){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(t)}function nl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||ol(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ol(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ol(t,e){if(t){if("string"==typeof t)return al(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?al(t,e):void 0}}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function cl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sl(Object(r),!0).forEach(function(e){ll(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ll(t,e,r){return(e=hl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ul(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hl(n.key),n)}}function hl(t){var e=function(t,e){if("object"!=rl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rl(e)?e:e+""}var fl=function(){function t(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._table=e,this._board=r,this._isRanked=n}return function(t,e,r){return e&&ul(t.prototype,e),r&&ul(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"calculate",value:function(){var e=this;try{var r=this._getRatingSystem();if(!r.isValid())return null;var n={};Object.values(this._table.teams).forEach(function(t){Object.values(t.players).forEach(function(i){var o;n[i.name]=(o=0,Object.values(e._table.teams).forEach(function(e){t.name!==e.name&&Object.values(e.players).forEach(function(n){o+=r.calculate(i,t,n,e)})}),r.adjustPlayerFinalRatingPoints(i,o))})});var i=!this._getGameMode().is_solo,o=this._board.rating_settings.rating_average_by_team;i&&o&&Object.values(this._table.teams).forEach(function(t){var e=0;Object.values(t.players).forEach(function(t){e+=n[t.name]}),e/=t.players.length,Object.values(t.players).forEach(function(t){n[t.name]=e})});var a={},s=this._board.rating_settings.rating_min;return Object.values(this._table.teams).forEach(function(r){Object.values(r.players).forEach(function(i){var o=n[i.name],c=parseFloat(i.board_rating)+o;c<s&&(o=(c=s)-parseFloat(i.board_rating)),c>9999&&(o=(c=9999)-parseFloat(i.board_rating)),a[i.name]={name:i.name,team:r.name,original_rating:parseFloat(i.board_rating),delta:o,final_rating:c,team_position:r.position,in_team_position:i.in_team_position,position:i.position,original_tier:t._getTierByRating(e._board.tiers,parseFloat(i.board_rating)).name,final_tier:t._getTierByRating(e._board.tiers,c).name}})}),Object.values(a).sort(function(t,e){return i?t.team_position!==e.team_position?t.team_position-e.team_position:t.team===e.team?t.position-e.position:0:t.team_position-e.team_position||t.position-e.position}).reduce(function(t,e){return cl(cl({},t),{},ll({},e.name,e))},{})}catch(t){return null}}},{key:"_getRatingSystem",value:function(){var t=null,e=this._getGameMode();if(e.rating_scheme.code.endsWith("elo"))t=new Gc(this._table,this._board);else{if(!e.rating_scheme.code.endsWith("mmr"))return null;t=new el(this._table,this._board)}return t}},{key:"_getGameMode",value:function(){var t,e={},r=il(this._board.game_modes.entries());try{for(r.s();!(t=r.n()).done;){var n=nl(t.value,2),i=(n[0],n[1]);if(parseInt(this._board.lobby_type.id)===parseInt(this._table.id_lobby_type)&&parseInt(i.id)===parseInt(this._table.id_game_mode)){e=i;break}}}catch(t){r.e(t)}finally{r.f()}if(0===Object.values(e).length&&!this._isRanked){var o,a=il(this._board.game_modes.entries());try{for(a.s();!(o=a.n()).done;){var s=nl(o.value,2),c=(s[0],s[1]);e=c,this._table.id_lobby_type=this._board.lobby_type.id,this._table.id_game_mode=c.id;break}}catch(t){a.e(t)}finally{a.f()}}return e}}],[{key:"calculateSubmittedMatch",value:function(e,r){var n,i={},o=il(e.teams);try{for(o.s();!(n=o.n()).done;){var a,s=n.value,c=il(s.players);try{for(c.s();!(a=c.n()).done;){var l=a.value;i[l.name]={name:l.name,team:s.name,original_ranking:l.original_ranking?parseInt(l.original_ranking):null,final_ranking:l.final_ranking?parseInt(l.final_ranking):null,original_rating:parseFloat(l.original_rating)>0?parseFloat(l.original_rating):null,delta:parseFloat(l.final_rating)-parseFloat(l.original_rating),final_rating:parseFloat(l.final_rating),team_position:s.position,in_team_position:l.in_team_position,position:l.position,original_tier:t._getTierByRating(r.tiers,parseFloat(l.original_rating)).name,final_tier:t._getTierByRating(r.tiers,parseFloat(l.final_rating)).name}}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}var u=!function(){var t,n={},i=il(r.game_modes.entries());try{for(i.s();!(t=i.n()).done;){var o=nl(t.value,2),a=(o[0],o[1]);if(parseInt(r.lobby_type.id)===parseInt(e.id_lobby_type)&&parseInt(a.id)===parseInt(e.id_game_mode)){n=a;break}}}catch(t){i.e(t)}finally{i.f()}return n}().is_solo;return i=Object.values(i).sort(function(t,e){return u?t.team_position!==e.team_position?t.team_position-e.team_position:t.team===e.team?t.position-e.position:0:t.team_position-e.team_position||t.position-e.position}).reduce(function(t,e){return cl(cl({},t),{},ll({},e.name,e))},{}),0===Object.keys(i).length?null:i}},{key:"calculateBoardRatings",value:function(t,e){var r,n={},i=il(e.entries());try{for(i.s();!(r=i.n()).done;){var o=nl(r.value,2),a=(o[0],o[1]);null!=t&&t[a.name]&&(e.rating=parseFloat(t[a.name].final_rating)),a.rating=parseFloat(a.rating),n[a.name]=a}}catch(t){i.e(t)}finally{i.f()}for(var s=0,c=Object.entries(t);s<c.length;s++){var l=nl(c[s],2),u=l[0],h=l[1];null!=n&&n[h.name]||e.push({name:h.name,ranking:null,rating:parseFloat(t[u].final_rating)})}}},{key:"calculateBoardRankings",value:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={},o=il(e.entries());try{for(o.s();!(r=o.n()).done;){var a=nl(r.value,2),s=(a[0],a[1]);i[s.name]=s}}catch(t){o.e(t)}finally{o.f()}for(var c=0,l=Object.entries(t);c<l.length;c++){var u=nl(l[c],2),h=u[0];u[1];t[h].original_ranking=null,t[h].final_ranking=null}for(var f=0,d=Object.entries(t);f<d.length;f++){var p,v=nl(d[f],2),m=v[0];v[1];null!=i&&null!==(p=i[m])&&void 0!==p&&p.ranking&&(t[m].original_ranking=parseFloat(i[m].ranking)),null!=i&&i[m]||(i[m]={name:m,ranking:null,rating:null}),i[m].rating=parseFloat(t[m].final_rating)}for(var y=Object.values(i).sort(function(t,e){return parseFloat(e.rating)-parseFloat(t.rating)}),g=function(){var e=nl(_[b],2),r=e[0],i=e[1],o=y.findIndex(function(t){return t.name===i.name});if(o>=0&&(t[r].final_ranking=o+1),null===n||n.includes(r))return 1;var a,s=il(n.entries());try{for(s.s();!(a=s.n()).done;){var c=nl(a.value,2),l=(c[0],c[1]);t[l].original_rating>i.original_rating&&(t[r].original_ranking=i.original_ranking+1)}}catch(t){s.e(t)}finally{s.f()}},b=0,_=Object.entries(t);b<_.length;b++)g();var w,S=[],E=il(y.entries());try{for(E.s();!(w=E.n()).done;){var T=nl(w.value,2),x=T[0],A=T[1];A.ranking=x+1,S.push(A)}}catch(t){E.e(t)}finally{E.f()}e=S}},{key:"_getTierByRating",value:function(e,r){var n,i={},o=il(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(!(r>=a.lower_bound))break;i=a}}catch(t){o.e(t)}finally{o.f()}return 0===Object.keys(i).length&&(i=t._getLowestTier(e)),i}},{key:"_getLowestTier",value:function(t){var e,r=1/0,n=null,i=il(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.lower_bound<r&&(r=o.lower_bound,n=o)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"_getMinRating",value:function(e){return parseFloat(t._getLowestTier(e).lower_bound)}}])}();const dl=fl;r(13757),r(7038),r(35024),r(856),r(27329),r(35266);function pl(t){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(t)}function vl(t){return function(t){if(Array.isArray(t))return bl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ml(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gl(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function yl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||gl(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gl(t,e){if(t){if("string"==typeof t)return bl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bl(t,e):void 0}}function bl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sl(n.key),n)}}function wl(t,e,r){return(e=Sl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sl(t){var e=function(t,e){if("object"!=pl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pl(e)?e:e+""}var El=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boards=e,this._templateV1="",this._template="",this._error="",this._data=[],this._lines=[]}return function(t,e,r){return e&&_l(t.prototype,e),r&&_l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"error",get:function(){return this._error}},{key:"getTemplate",value:function(){return 1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:2)?this._templateV1:this._template}},{key:"setBoards",value:function(t){return this._boards=t,this}},{key:"parse",value:function(e){var r=this;e=t.normalize(e),this._templateV1="",this._template="",this._error="",this._data=[],this._lines=[];var n=this._getCacheKey(e),i=function(e){var i;r._templateV1="",r._template="",r._error=e,r._data=[],r._lines=[],null===(i=t.parsedMatches)||void 0===i||i.delete(n)};try{var o,a=this._getCacheItem(n);if(null!==a)return a;var s=this._getLobbyComments(e),c=this._getLines(e);if(null===c)return i('Lobby header missing.<br>Expected: "Lobby #number - lobby mode"<br>Example: "Lobby #999 Items FFA"<br>See "Presets".'),null;var l=this._getHeaderLinePosition(c),u=c.findLastIndex(function(t){return r.isPlayerLine(t)}),h=this._getTracksHeaderLinePosition(c,u),f=c,d=[];-1!==h&&(f=c.slice(0,h),d=c.slice(h+1),c=f);var p,v,m,y,g,b=d.length>0,_=[];if(-1===l)return i('Lobby header not found.<br>Expected: "Lobby #number - lobby mode"<br>Example: "Lobby #999 Items FFA"<br>See "Presets".'),null;var w=yl(this._getHeaderData(c[l]),4);if(p=w[0],v=w[1],m=w[2],y=w[3],null===p||null===v||null===m||null===y)return i('Invalid lobby header.<br>Expected: "Lobby #number - lobby mode"<br>Example: "Lobby #999 Items FFA"<br>See "Presets".'),null;if(!(g=this._getBoard(v,m))){var S,E,T=(null===(S=v.code)||void 0===S?void 0:S.charAt(0).toUpperCase())+(null===(E=v.code)||void 0===E?void 0:E.slice(1))||"";return i("Unsupported leaderboard and game mode combination.<br>Leaderboard: ".concat(T,". Game mode: ").concat(m.name,'.<br>See "Presets".')),null}this._data={processedPlayers:[],isTeamMode:this._isTeamMode(g,m),team:null,teams:[],teamNameCharCode:"A".charCodeAt(0),isPreviousLineTeam:!1,previousLineType:"",lastPlayerLinePosition:u},this._lines.push(c[0]+"\n\n");for(var x=1;x<c.length;x++){var A=c[x];if(this._isCommentLine(A))this._lines.push(A+"\n"),this._data.previousLineType="comment";else if(this._isPenaltyLine(A))this._processTeamPenaltyLine(A);else if(u>x&&this._isPossibleTeamLine(A)){if(x===c.length-1)continue;this._processTeamLine(A),this._data.previousLineType="team"}else if(this.isPlayerLine(A)){if(!this._processPlayerLine(A))return null;this._data.previousLineType="player"}else b||_.push(A)}if(this._data.teams)for(var k=this._data.teams.length-1;k>=0;k--){var O=this._data.teams[k];if(0===O.players.length){this._data.teams.splice(k,1);var C,P=ml(this._lines.entries());try{for(P.s();!(C=P.n()).done;){var I=yl(C.value,2),R=I[0];I[1].trim()===O.name.trim()&&this._lines.splice(R,1)}}catch(t){P.e(t)}finally{P.f()}}}if(this._template=(s.length?s.join("\n")+"\n\n":"")+this._lines.join("").replace(/\n{3,}/g,"\n\n").trim(),!this._areTeamsValid(m))return i(this._error),null;if(!this._arePlayersValid(m))return i(this._error),null;this._data.teams=this.sortTeams(this._data.teams);var M={id:String(g.id)+String(p||0)+String(v.id)+String(m.id),code:null,number:p,id_board:g.id,id_lobby_type:v.id,id_game_mode:m.id,played_at:this._getDate(),teams:this._data.teams,is_solo:!this._data.isTeamMode,tracks:this._extractTracks(d.length>0?d:_,null===(o=v)||void 0===o?void 0:o.code)};return this._templateV1=this._transformTemplateToV1(M),this._setCacheItem(n,M),this._data=[],this._lines=[],M}catch(t){return i("Invalid scores."),null}}},{key:"createPresetTemplate",value:function(t,e){if("example"===t)return"team"===e?"\nLobby #999999 - 4 vs. 4\n\nTeam A - description\nPlayer_1 [pe] 2|10|1|8|8|8|1|5|8|10-8\nPlayer_2 [ae] 5|8|8|10|10|10|6|4|6|4\nPlayer_3 [mx] 10|2|3|6|4|2|4|3|3|8\nPlayer_4 [sa] 6|6|5|2|6|3|3|8|2|6\n\nTeam B (-10)\nPlayer_5 [ar] 4|3|2|5|5|6|8|10|5|1\nPlayer_6 [jp] 1|1|4|3|3|5|2|1|10|3\nPlayer_7 [fi] 8|4|6|1|1|1|5|2|1|5-2\nPlayer_8 [pl] 3|5|10|4|2|4|10|6|4|5\n\nTracks\nTwilight Tour\nTiger Temple\nHAS\nSpyro Circuit\nThunder Struck\nSlide Coliseum\nSewer Speedway\nClockwork Wumpa\nTiny Arena\nPrehistoric Playground\n".trim():"\nLobby #999999 - FFA\n\nPlayer_1 [gb_en] 1|3|9|8|9|8|5|4\nPlayer_2 [br] 9|5|7|5|4|9|8|8\nPlayer_3 [us] 4|8|3|3|7|4|9|7\nPlayer_4 [au] 7|7|8|9|1|7|4|2\nPlayer_5 [it] 2|4|5|7|2|3|7|9-4\nPlayer_6 [co] 5|2|1|2|5|2|2|1\nPlayer_7 [tn] 8|9|2|1|3|1|3|5\nPlayer_8 [cl] 3|1|4|4|8|5|1|3\n\nTracks\nGingerbread Joyride\nHot Air Skyway\nSlide Coliseum\nMystery Caves\nThunder Struck\nTwilight Tour\nCrash Cove\nRoo's Tubes\n".trim();var r={},n={};t:for(var i=0,o=Object.entries(this._boards);i<o.length;i++){var a,s=yl(o[i],2),c=(s[0],s[1]),l=ml(c.game_modes.entries());try{for(l.s();!(a=l.n()).done;){var u=yl(a.value,2),h=(u[0],u[1]);if(parseInt(c.lobby_type.id)===parseInt(t)&&parseInt(h.id)===parseInt(e)){r=c.lobby_type,n=h;break t}}}catch(t){l.e(t)}finally{l.f()}}if(0===Object.values(r).length||0===Object.values(n).length)return null;var f="items"!==r.code?r.code.charAt(0).toUpperCase()+r.code.slice(1)+" ":"",d="";d+="Lobby #999999 - ".concat(f).concat(n.name),d+="\n\n";for(var p="A".charCodeAt(0),v=1,m=0;m<n.max_teams;m++){n.is_solo||(d+="Team ".concat(String.fromCharCode(p)),d+="\n",p++);for(var y=0;y<n.default_players/n.max_teams;y++)d+="Player_".concat(v," [un] ")+Array.from({length:n.track_count},function(){return"0"}).join("|"),d+="\n",v++;!n.is_solo&&m<n.max_teams-1&&(d+="\n")}return d.trim()}},{key:"_getCacheItem",value:function(e){var r=t.parsedMatches;if(r.has(e)){var n=r.get(e);return this._templateV1=n.templateV1,this._template=n.template,this._error=n.error,n.table}return null}},{key:"_setCacheItem",value:function(e,r){t.parsedMatches||(t.parsedMatches=new Map);var n=t.parsedMatches;for(n.has(e)&&n.delete(e),n.set(e,{table:r,templateV1:this._templateV1,template:this._template,error:this._error});n.size>200;){var i=n.keys().next().value;n.delete(i)}}},{key:"_getCacheKey",value:function(t){return t.replace(/\s+/g," ")}},{key:"_getLobbyComments",value:function(t){var e=t.split(/Lobby/i);if(e.length<2)return[];var r,n=e[0].split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),i=[],o=ml(n.entries());try{for(o.s();!(r=o.n()).done;){var a=yl(r.value,2),s=(a[0],a[1]);this._isCommentLine(s)&&i.push(s)}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"_getLines",value:function(t){var e=t.split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),r=this._getHeaderLinePosition(e);return-1===r?null:-1!==r?e.slice(r):e}},{key:"_getHeaderLinePosition",value:function(t){var e=this._getHeaderRegex();return t.findIndex(function(t){return e.test(t)})}},{key:"_getHeaderRegex",value:function(){return/^(lobby)\s*(?:#?(\d+))?\s*-?\s*(.+)/i}},{key:"_getHeaderData",value:function(t){var e=t.match(this._getHeaderRegex());if(e&&e[3]){var r=e[2]?parseInt(e[2],10):999999,n="Lobby #".concat(r," - ").concat(e[3].trim()),i=e[3].trim().toLowerCase().replace(/(\d+)\s*(?:v|vs\.?)\s*(\d+)/gi,"$1 vs. $2").replace(/\s+/g," ").replace(/ vs\. /g,"v").replace(/ vs /g,"v").replace(/ v /g,"v").replace(/vs\./g,"v").replace(/vs/g,"v").replace(/\b(\d+)\s*(?:vs\.?|v)\s*(\d+)\b/gi,function(t,e,r){return"".concat(e,"v").concat(r)}).replace(/ /g,"_"),o=!i.includes("_");if(i.includes("_")){o=!0;var a=i.split("_",2);t:for(var s=0,c=Object.entries(this._boards);s<c.length;s++){var l,u=yl(c[s],2),h=(u[0],u[1]),f=ml(h.game_modes.entries());try{for(f.s();!(l=f.n()).done;){var d=yl(l.value,2);d[0],d[1];if(h.lobby_type.code===a[0].toLowerCase()){o=!1;break t}}}catch(t){f.e(t)}finally{f.f()}}}o&&(i="items_"+i);var p=(i=i.split("_",2))[0].trim(),v=i[1].trim(),m={},y={};t:for(var g=0,b=Object.entries(this._boards);g<b.length;g++){var _,w=yl(b[g],2),S=(w[0],w[1]),E=ml(S.game_modes.entries());try{for(E.s();!(_=E.n()).done;){var T=yl(_.value,2),x=(T[0],T[1]);if(S.lobby_type.code===p&&(x.code===v||v.toLowerCase().includes(x.code))){m=S.lobby_type,y=x;break t}}}catch(t){E.e(t)}finally{E.f()}}return[r,m=Object.keys(m).length>0?m:null,y=Object.keys(y).length>0?y:null,n]}return[null,null,null,null]}},{key:"_getBoard",value:function(t,e){for(var r=0,n=Object.entries(this._boards);r<n.length;r++){var i,o=yl(n[r],2),a=(o[0],o[1]),s=null==a?void 0:a.game_modes.map(function(t){return t.code});if((null==a||null===(i=a.lobby_type)||void 0===i?void 0:i.code)===(null==t?void 0:t.code)&&s&&s.includes(null==e?void 0:e.code))return a}return null}},{key:"_isTeamMode",value:function(t,e){var r,n=null,i=ml(t.game_modes.entries());try{for(i.s();!(r=i.n()).done;){var o=yl(r.value,2),a=(o[0],o[1]);if(parseInt(a.id)===parseInt(e.id)){n=e.is_solo;break}}}catch(t){i.e(t)}finally{i.f()}return!n}},{key:"_isPossibleTeamLine",value:function(t){if(void 0!==this._data&&!this._data.isTeamMode)return!1;var e=this.isPlayerLine(t),r=t.match(this._getTeamRegex());return!!(e&&null!==r&&r[1]&&r[2])||!e}},{key:"isPlayerLine",value:function(t){return null!==t.match(this._getPlayerRegex())}},{key:"_getPlayerRegex",value:function(){return/^(\b(?!Bonus|Penalty\b)\S+|\b(?:Bonus|Penalty)\S+)(?:\s+\[?([A-Za-z\-_]{0,7})]?)?\s+((?:[+\-]?[0-9|])+)(\s+\(?(?:[+\-]?[0-9]?)+\)?)?(?:\s+r(\d+))?(?:\s.*)?$/i}},{key:"_processTeamLine",value:function(t){this._data.isPreviousLineTeam&&this._data.teamNameCharCode--;var e=yl(this._getTeamData(t),3),r=e[0],n=e[1],i=e[2];this._data.team={id:null,id_match:null,name:r,color:n,score:0,penalty:i,players:[]},this._data.teams&&this._data.teams.length>0&&this._data.isPreviousLineTeam&&(this._lines.pop(),this._data.teams.pop()),this._data.isPreviousLineTeam=!0,this._data.teams.push(this._data.team),this._data.teamNameCharCode++,["penalty","player"].includes(this._data.previousLineType)&&this._lines.push("\n"),this._lines.push(t+"\n")}},{key:"_getTeamData",value:function(t){var e=t.match(this._getTeamRegex()),r="Team "+String.fromCharCode(this._data.teamNameCharCode),n="",i=0;return null!==e&&(r=e[2]||e[3]?e[1]:e[0],n=e[2]?e[2]:"",i=e[3]?-1*this._sumFromString(e[3]):0),[r,n,i]}},{key:"_getTeamRegex",value:function(){return/^(.*?)\s*(#[0-9A-Fa-f]+)?(?:\s*(\((?:[+\-]?[0-9])+\)?))?(?:\s[^#(]*)?$/}},{key:"_areTeamsValid",value:function(t){if(0===this._data.teams.length)return this._error="No teams found.",!1;var e,r=ml(this._data.teams);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(!n.players||0===n.players.length){var i=this._shortenString(n.name,16);return this._error='Team "'.concat(i,'" has no players.'),!1}}}catch(t){r.e(t)}finally{r.f()}var o=t.min_teams,a=t.max_teams,s="team";return"ffa"===t.code&&(o=t.min_players,a=t.max_players,s="player"),this._data.teams.length<o?(this._error="At least ".concat(o," ").concat(s,"s required."),!1):!(this._data.teams.length>a)||(this._error="Maximum ".concat(a," ").concat(s,"s allowed."),!1)}},{key:"_arePlayersValid",value:function(t){var e=this._data.processedPlayers.length;return e<t.min_players?(this._error="At least ".concat(t.min_players," players required."),!1):!(e>t.max_players)||(this._error="Maximum ".concat(t.max_players," players allowed."),!1)}},{key:"sortTeams",value:function(t){t.forEach(function(t,e){t.table_order=e});var e=0,r=1;t.sort(function(t,e){return e.score-e.penalty-(t.score-t.penalty)}),t.forEach(function(n,i){n.table_players_order=n.players.map(function(t){return t.name});var o=0;i>0&&(o=t[i-1].score-t[i-1].penalty);var a=n.score-n.penalty;0===i||i>0&&a<o?r>0?(e+=r,r=1):e++:r++,n.position=e,n.players.sort(function(t,e){return e.scores.reduce(function(t,e){return t+e},0)-e.penalty-(t.scores.reduce(function(t,e){return t+e},0)-t.penalty)}),n.players.forEach(function(t,e){t.in_team_position=e+1})});var n,i=[],o=ml(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.push.apply(i,vl(a.players))}}catch(t){o.e(t)}finally{o.f()}i.sort(function(t,e){return e.scores.reduce(function(t,e){return t+e},0)-e.penalty-(t.scores.reduce(function(t,e){return t+e},0)-t.penalty)});var s={},c=0,l=1;i.forEach(function(t,e){var r=0;e>0&&(r=i[e-1].scores.reduce(function(t,e){return t+e},0)-i[e-1].penalty);var n=t.scores.reduce(function(t,e){return t+e},0)-t.penalty;0===e||e>0&&n<r?l>0?(c+=l,l=1):c++:l++,s[t.name]=c});var u,h=ml(t);try{for(h.s();!(u=h.n()).done;){var f,d=ml(u.value.players);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.position=s[p.name]}}catch(t){d.e(t)}finally{d.f()}}}catch(t){h.e(t)}finally{h.f()}return t}},{key:"_processPlayerLine",value:function(t){var e;return e=this._data.isTeamMode?this._processTeamPlayer(t):this._processSoloPlayer(t),this._lines.push(t+"\n"),e}},{key:"_processTeamPlayer",value:function(t){var e=this.getPlayerData(t);if(null===e.name){var r=this._shortenString(t,24);return this._error='Invalid player format.<br>"'.concat(r,'"'),!1}if(this._isPlayerDuplicated(e.name)){var n=this._shortenString(e.name,16);return this._error="Duplicate players not allowed: ".concat(n,"."),!1}if(!this._data.team){var i=this._shortenString(e.name,16);return this._error="Player doesn't belong to any team: ".concat(i,"."),!1}return this._data.team.players.push({id:null,id_match_team:null,name:e.name,flag:e.flag,scores:e.scores,penalty:e.penalty,board_rating:e.boardRating,board_rating_custom:e.boardRatingCustom,original_rating:null,final_rating:null}),this._data.team.score+=e.score,this._data.team.penalty+=e.penalty,this._data.isPreviousLineTeam=!1,!0}},{key:"_processSoloPlayer",value:function(t){var e=this.getPlayerData(t);if(null===e.name){var r=this._shortenString(t,24);return this._error='Invalid player format.<br>"'.concat(r,'"'),!1}if(this._isPlayerDuplicated(e.name)){var n=this._shortenString(e.name,16);return this._error="Duplicate players not allowed: ".concat(n,"."),!1}return this._data.teams.push({id:null,id_match:null,name:e.name,color:null,score:e.score,penalty:e.penalty,players:[{id:null,id_match_team:null,name:e.name,flag:e.flag,scores:e.scores,penalty:e.penalty,board_rating:e.boardRating,board_rating_custom:e.boardRatingCustom,original_rating:null,final_rating:null}]}),!0}},{key:"getPlayerData",value:function(t){var e=t.match(this._getPlayerRegex());if(!e)return[null,null,null,null,null,null];var r=e[1].trim(),n=e[2]||"",i=e[3].split("|").slice(0,32),o=e[4]?this._sumFromString(e[4]):0,a=e[5]?parseInt(e[5]):null;null!==a&&(a=Math.max(-9999,Math.min(a,9999)));var s=i.map(function(t){if((t=""===t?"0":t).includes("+")){var e=t.split("+"),r=parseInt(e[0]>0?e[0]:0),n=parseInt(e[1]>0?e[1]:0);return r+n>99?99:r+n}if(t.includes("-")){var i=t.split("-"),a=parseInt(i[0]>0?i[0]:0),s=parseInt(i[1]>0?i[1]:0);return s>0&&(o-=s),a>99?99:a}var c=parseInt(t);return c>99?99:c}),c=s.reduce(function(t,e){return t+e},0);return Number.isNaN(c)?null:(o<-99?o=-99:o>99&&(o=99),-0===(o*=-1)&&(o=0),{name:r,flag:n,scores:s,score:c,boardRating:null,boardRatingCustom:a,penalty:o})}},{key:"_isPlayerDuplicated",value:function(t){return!!this._data.processedPlayers.includes(t)||(this._data.processedPlayers.push(t),!1)}},{key:"_getDate",value:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(("00"+(t.getMonth()+1)).slice(-2),"-").concat(("00"+t.getDate()).slice(-2)," ").concat(("00"+t.getHours()).slice(-2),":").concat(("00"+t.getMinutes()).slice(-2),":").concat(("00"+t.getSeconds()).slice(-2))}},{key:"_isCommentLine",value:function(t){return this._getCommentRegex().test(t.trim())}},{key:"_getCommentRegex",value:function(){return/^(\/\/|#)/}},{key:"_processTeamPenaltyLine",value:function(t){if(this._data.isTeamMode&&["penalty","team","player"].includes(this._data.previousLineType)){var e=t.match(this._getPenaltyRegex());if(e){var r=this._data.teams[this._data.teams.length-1],n=e[1]?this._sumFromString(e[1]):0;n<-99?n=-99:n>99&&(n=99),-0===(n*=-1)&&(n=0),r.penalty+=n,this._lines.push(t+"\n"),this._data.previousLineType="penalty"}}}},{key:"_isPenaltyLine",value:function(t){return this._getPenaltyRegex().test(t.trim())}},{key:"_getPenaltyRegex",value:function(){return/^(?:Penalty|Bonus)\s+((?:[+\-]?[0-9])+)\s*?$/i}},{key:"_sumFromString",value:function(t){var e=t.replace(/[()]/g,"").trim().split(/([+-])/).map(function(t){return""===t.trim()?"0":t.trim()});if(isNaN(e[0]))return 0;for(var r=parseFloat(e[0]),n=1;n<e.length;n+=2){var i=e[n],o=parseFloat(e[n+1]);"+"===i?r+=o:"-"===i&&(r-=o)}return r}},{key:"_transformTemplateToV1",value:function(t){var e=[],r=this._template.split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),n=this._getHeaderData(r[0]),i=n[2],o=n[3];e.push(("ffa"!==i.code?"#title ":"")+o+"\n\n");var a,s=[],c=ml(t.teams.entries());try{for(c.s();!(a=c.n()).done;){var l=yl(a.value,2),u=(l[0],l[1]);s[u.table_order]=[];var h=0;if(!t.is_solo){if(0!==u.penalty){var f=vl(u.players.values()).reduce(function(t,e){return t+e.penalty},0);h=u.penalty-f}s[u.table_order].push("\n"+u.name+(u.color.length>0?" ".concat(u.color):"")+"\n")}var d,p=[],v=ml(u.players.entries());try{for(v.s();!(d=v.n()).done;){var m=yl(d.value,2),y=(m[0],m[1]),g=u.table_players_order.indexOf(y.name);p[g]="";var b="".concat(y.name," ");b+=y.flag.length>0?"[".concat(y.flag,"] "):"",b+=y.scores.join("|"),b+=y.penalty<0?"|".concat(Math.abs(y.penalty)):y.penalty>0?"-".concat(y.penalty):"",b+=y.board_rating_custom>0?" r".concat(y.board_rating_custom):"",b+="\n",p[g]=b}}catch(t){v.e(t)}finally{v.f()}p.sort(),s[u.table_order].push(p.join("")),t.is_solo||0===Math.abs(h)||s[u.table_order].push("Penalty "+(h>0?"-".concat(h):Math.abs(h))+"\n")}}catch(t){c.e(t)}finally{c.f()}s.sort();var _,w=ml(s.entries());try{for(w.s();!(_=w.n()).done;){var S=yl(_.value,2),E=(S[0],S[1]);e.push(E.join(""))}}catch(t){w.e(t)}finally{w.f()}return e.join("").replace(/\n{3,}/g,"\n\n").trim()}},{key:"_shortenString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return Array.from(t).length>e?vl(t).slice(0,e-3).join("")+"...":t}},{key:"_extractTracks",value:function(t,e){for(var r=[],n=this._getTracksHeaderLinePosition(t,this._data.lastPlayerLinePosition)+1;n<t.length;n++){var i=t[n].trim();if(i){var o=this._resolveTrackName(i,e);o&&!r.includes(o)&&r.push(o)}}return r}},{key:"_resolveTrackName",value:function(e,r){if(!(e=this._normalizeTrackName(e)))return null;var n,i=e.split(" ").filter(Boolean),o=null,a=-1,s="battle"===r?t.BATTLE_MAPS:t.TRACKS,c=ml(s);try{for(c.s();!(n=c.n()).done;){var l=n.value,u=this._normalizeTrackName(l).split(" ").filter(Boolean),h=0,f=this._getInitials(l),d=i.join("");f.startsWith(d)&&(h+=5*d.length);for(var p=0;p<i.length;p++){var v=i[p],m=0;if(p<u.length&&u[p].startsWith(v))m=2*v.length;else{var y,g=ml(u);try{for(g.s();!(y=g.n()).done;){y.value.includes(v)&&(m=Math.max(m,v.length))}}catch(t){g.e(t)}finally{g.f()}}h+=m}u[0].startsWith(i[0])&&(h+=1),h>a&&(a=h,o=l)}}catch(t){c.e(t)}finally{c.f()}if(a<1){var b,_=1/0,w=ml(s);try{for(w.s();!(b=w.n()).done;){var S=b.value,E=this._levenshtein(e,this._normalizeTrackName(S));E<_&&(_=E,o=S)}}catch(t){w.e(t)}finally{w.f()}}return o}},{key:"_getTracksHeaderLinePosition",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=/^(:motorway:\s*)?(picked\s+)?tracks?\b/i,n=0;n<t.length;n++)if(n>=e&&r.test(t[n].trim()))return n;return-1}},{key:"_normalizeTrackName",value:function(t){return t.toLowerCase().replace(/\(.*$/,"").replace(/['"]/g,"").replace(/[.\-]/g," ").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}},{key:"_levenshtein",value:function(t,e){for(var r=Array.from({length:e.length+1},function(t,e){return[e]}),n=0;n<=t.length;n++)r[0][n]=n;for(var i=1;i<=e.length;i++)for(var o=1;o<=t.length;o++)e[i-1]===t[o-1]?r[i][o]=r[i-1][o-1]:r[i][o]=Math.min(r[i-1][o]+1,r[i][o-1]+1,r[i-1][o-1]+1);return r[e.length][t.length]}},{key:"_getInitials",value:function(t){return this._normalizeTrackName(t).split(" ").map(function(t){return t[0]}).join("")}}],[{key:"areTablesEqual",value:function(t,e){var r=function(t){return t.replace(/\s+/g," ")};return r(t)===r(e)}},{key:"normalize",value:function(t){var e=vl((t=t.trim()).matchAll(/```/g));if(e.length>=2){var r=e[e.length-1].index;t=t.slice(0,r+3)}return t=t.trim().replace(/[\u200B\u200C\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2060\uFEFF\u00AD\u0085\u200D\u200A]/g,"").replace("!table","").replace("!t","").replace(/`/g,"").replace(/[^]*?#title\s*/i,"").replace(/(\d+)\s*(?:v|vs\.?)\s*(\d+)/gi,"$1 vs. $2").trim(),!/Lobby/i.test(t)&&/#\d+\s*-\s*[^]+/.test(t)&&(t="Lobby ".concat(t)),t=t.replace(/[^]*?(?=Lobby)/i,"").trim()}}])}();wl(El,"parsedMatches",new Map),wl(El,"STATUS_EMPTY",0),wl(El,"STATUS_ERROR",1),wl(El,"STATUS_PARSED",2),wl(El,"STATUS_PARSED_CUSTOM",3),wl(El,"TRACKS",new Set(["Crash Cove","Mystery Caves","Sewer Speedway","Roo's Tubes","Slide Coliseum","Turbo Track","Coco Park","Tiger Temple","Papu's Pyramid","Dingo Canyon","Polar Pass","Tiny Arena","Dragon Mines","Blizzard Bluff","Hot Air Skyway","Cortex Castle","N.Gin Labs","Oxide Station","Inferno Island","Jungle Boogie","Clockwork Wumpa","Android Alley","Electron Avenue","Deep Sea Driving","Thunder Struck","Tiny Temple","Meteor Gorge","Barin Ruins","Out of Time","Assembly Lane","Hyper Spaceway","Twilight Tour","Prehistoric Playground","Spyro Circuit","Nina's Nightmare","Koala Carnival","Gingerbread Joyride","Megamix Mania","Drive-Thru Danger"])),wl(El,"BATTLE_MAPS",new Set(["Skull Rock","Nitro Court","Parking Lot","Rocky Road","Lab Basement","Rampage Ruins","The North Bowl","Temple Turmoil","Frozen Frenzy","Desert Storm","Magnetic Mayhem","Terra Drome"]));const Tl=El;function xl(t){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(t)}function Al(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Pl(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ol(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kl(Object(r),!0).forEach(function(e){Ml(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Cl(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pl(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Pl(t,e){if(t){if("string"==typeof t)return Il(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Il(t,e):void 0}}function Il(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Rl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ll(n.key),n)}}function Ml(t,e,r){return(e=Ll(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ll(t){var e=function(t,e){if("object"!=xl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xl(e)?e:e+""}var jl=function(){return function(t,e,r){return e&&Rl(t.prototype,e),r&&Rl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ml(this,"_areMatchesEqual",function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===t||null===r)return!1;return parseInt(t.id_board)===parseInt(r.id_board)&&parseInt(t.number)===parseInt(r.number)&&parseInt(t.id_lobby_type)===parseInt(r.id_lobby_type)&&function(n,i,o){if(n.length!==i.length)return!1;if(o&&!e._areTeamPenaltiesSame(n,i))return!1;var a,s=function(t,e){return t.scores.reduce(function(t,e){return t+e},0)-t.penalty===e.scores.reduce(function(t,e){return t+e},0)-e.penalty},c=Cl(t.teams);try{for(c.s();!(a=c.n()).done;){var l,u=Cl(a.value.players);try{var h,f=function(){var t,e=l.value,n=!1,i=Cl(r.teams);try{for(i.s();!(t=i.n()).done;){var a=t.value.players.find(function(t){return t.name===e.name});if(a&&(n=!0,o&&!s(e,a)))return{v:!1}}}catch(t){i.e(t)}finally{i.f()}if(!n)return{v:!1}};for(u.s();!(l=u.n()).done;)if(h=f())return h.v}catch(t){u.e(t)}finally{u.f()}}}catch(t){c.e(t)}finally{c.f()}return!0}(t.teams,r.teams,n)}),Ml(this,"_areMatchesDuplicated",function(t,e){if(null===t||null===e)return!1;return parseInt(t.id_board)===parseInt(e.id_board)&&parseInt(t.number)===parseInt(e.number)&&parseInt(t.id_lobby_type)===parseInt(e.id_lobby_type)&&function(t,e){if(t.length!==e.length)return!1;return t.every(function(t){return e.some(function(e){return function(t,e){return t.table_players_order.every(function(t,r){return t===e.table_players_order[r]})}(t,e)})})}(t.teams,e.teams)}),this._error="",this._table=null,this._template="",this._result=null,this._board=null,this._boards={},this._resultsSubmissions=[],this._isRanked=!0},[{key:"error",get:function(){return this._error}},{key:"table",get:function(){return this._table}},{key:"predictMatch",value:function(t,e,r,n,i){var o,a;return this._table=t,this._template=e,this._boards=r,this._resultsSubmissions=n,this._isRanked=i,0===Object.keys(this._boards).length?(this._error="No leaderboards available.<br>Refresh the page and try again.",null):(this._board=null!==(o=null===(a=this._boards)||void 0===a?void 0:a[t.id_board])&&void 0!==o?o:Object.values(this._boards)[0],this._board?(this._board=Ol(Ol({},this._board),{},{players:this._board.players.map(function(t){return Ol({},t)})}),this._table=Ol(Ol({},this._table),{},{teams:this._table.teams.map(function(t){return Ol(Ol({},t),{},{players:t.players.map(function(t){return Ol({},t)})})})}),this._isRanked?(this._result=this._predictBoardMatch(),null===this._result&&(this._error="Could not calculate scores prediction."),this._result):(this._result=this._predictUnrankedBoardMatch(),null===this._result&&(this._error="Could not calculate scores."),this._result)):(this._error="No leaderboard found.<br>Check scores.",null))}},{key:"calculateSubmittedMatch",value:function(t,e){var r=new dl.calculateSubmittedMatch(t,e);return null===r&&(this._error="Could not calculate submitted match scores."),r}},{key:"getSubmittedMatch",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.matches.filter(function(e){return parseInt(t.number)===parseInt(e.number)});if(0===n.length)return null;var i,o=r?n[0]:null,a=Cl(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(this._areMatchesEqual(s,t,!1)){o=s;break}}}catch(t){a.e(t)}finally{a.f()}if(!o)return null;var c,l=o.teams.map(function(t){var e;return Ol(Ol({},t),{},{players:null===(e=t.players)||void 0===e?void 0:e.map(function(t){return Ol({},t)})})}),u=Object.create(null),h=Cl(l);try{for(h.s();!(c=h.n()).done;){var f=c.value;u[f.name]=f}}catch(t){h.e(t)}finally{h.f()}var d=t.teams.map(function(t){return u[t.name]}).filter(Boolean),p=d.length===l.length?d:l;return new Tl(null).sortTeams(p),Ol(Ol({},o),{},{teams:p})}},{key:"_getLatestSubmittedMatch",value:function(){return this._board.matches.length>0?this._board.matches[0]:null}},{key:"_predictBoardMatch",value:function(){var t,e=this,r=new Tl(this._boards),n=this._getLatestSubmittedMatch(),i=null;n&&(i=new Date(n.played_at));var o,a=null,s={},c=Cl(this._resultsSubmissions.entries());try{for(c.s();!(o=c.n()).done;){var l=Al(o.value,2),u=(l[0],l[1]),h=r.parse(u.content);if(s[u.content.replace(/\s+/g,"")]=h,h&&this._areMatchesEqual(this._table,h)){a=new Date(u.datetime);break}}}catch(t){c.e(t)}finally{c.f()}var f,d={},p=Cl(this._resultsSubmissions.entries());try{for(p.s();!(f=p.n()).done;){var v,m=Al(f.value,2),y=(m[0],m[1]),g=void 0,b=y.content.replace(/\s+/g,"");if((g=null!=s&&s[b]?s[b]:r.parse(y.content))&&!(null!==(v=d)&&void 0!==v&&v[b]||g.id_board!==this._table.id_board||n&&this._areMatchesEqual(g,n)||this._areMatchesEqual(g,this._table))){var _=new Date(y.datetime);n&&_<i||a&&_>a||(d[b]=g)}}}catch(t){p.e(t)}finally{p.f()}var w=this._template.replace(/\s+/g," ");null!==(t=d)&&void 0!==t&&t[w]||(d[w]=this._table);for(var S=new Map,E=0,T=Object.entries(d);E<T.length;E++){var x=Al(T[E],2),A=(x[0],x[1]);S.has(A.lobby_number)||S.set(A.lobby_number,[]),S.get(A.lobby_number).push(A)}var k,O=Cl(S.entries());try{for(O.s();!(k=O.n()).done;){var C=Al(k.value,2),P=C[0],I=C[1];if(I.length>1){for(var R=0;R<I.length-1;R++)this._areMatchesEqual(I[R],I[R+1])&&(I[R]=null);S.set(P,I.filter(function(t){return null!==t}))}}}catch(t){O.e(t)}finally{O.f()}var M,L=Cl(S.entries());try{for(L.s();!(M=L.n()).done;){var j=Al(M.value,2),D=j[0],N=j[1];if(N.length>1){for(var B=0;B<N.length-1;B++)this._areMatchesDuplicated(N[B],N[B+1])&&(N[B]=null);S.set(D,N.filter(function(t){return null!==t}))}}}catch(t){L.e(t)}finally{L.f()}d=[];var F,U=Cl(S.entries());try{for(U.s();!(F=U.n()).done;){var z,H=Cl(Al(F.value,2)[1]);try{for(H.s();!(z=H.n()).done;){var G=z.value;d.push(G)}}catch(t){H.e(t)}finally{H.f()}}}catch(t){U.e(t)}finally{U.f()}if(0===d.length)return this._error="No matches found.",null;var Y,q={},V=Cl(d);try{for(V.s();!(Y=V.n()).done;){var W=Y.value,$=this._getGameMode(W);if(null===$)return this._error="Could not get game mode for match #".concat(W.number,"."),null;for(var K=$.rating_scheme,Z=0,X=Object.entries(W.teams);Z<X.length;Z++){var J,Q=Al(X[Z],2),tt=(Q[0],Cl(Q[1].players));try{for(tt.s();!(J=tt.n()).done;){var et=J.value;q[et.name]=parseFloat(K.initial_rating)}}catch(t){tt.e(t)}finally{tt.f()}}}}catch(t){V.e(t)}finally{V.f()}for(var rt=function(){var t=Al(it[nt],2),r=t[0],n=(t[1],e._board.players.find(function(t){return t.name===r}));n&&(q[r]=parseFloat(n.rating))},nt=0,it=Object.entries(q);nt<it.length;nt++)rt();var ot,at=null,st=Cl(d);try{var ct,lt=function(){var t,r=ot.value,n=Cl(r.teams);try{for(n.s();!(t=n.n()).done;){var i,o=Cl(t.value.players);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.board_rating=parseFloat(q[a.name])}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}if(null===(at=new dl(r,e._board).calculate()))return e._error="Could not calculate match #".concat(r.number," results."),{v:null};for(var s=0,c=Object.entries(at);s<c.length;s++){var l=Al(c[s],2),u=l[0],h=l[1];q[u]=parseFloat(h.final_rating)}var f=e._board.players.map(function(t){return t.name}),d=Object.keys(at).filter(function(t){return!f.includes(t)});dl.calculateBoardRatings(at,e._board.players),dl.calculateBoardRankings(at,e._board.players,d)};for(st.s();!(ot=st.n()).done;)if(ct=lt())return ct.v}catch(t){st.e(t)}finally{st.f()}return at}},{key:"_predictUnrankedBoardMatch",value:function(){var t=this._getGameMode(this._table);if(null===t)return null;for(var e={},r=t.rating_scheme,n=0,i=Object.entries(this._table.teams);n<i.length;n++){var o,a=Cl(Al(i[n],2)[1].players);try{for(a.s();!(o=a.n()).done;){e[o.value.name]=parseFloat(r.initial_rating)}}catch(t){a.e(t)}finally{a.f()}}var s,c=Cl(this._table.teams);try{for(c.s();!(s=c.n()).done;){var l,u=Cl(s.value.players);try{for(u.s();!(l=u.n()).done;){var h=l.value;h.board_rating=parseFloat(h.board_rating_custom||e[h.name])}}catch(t){u.e(t)}finally{u.f()}}}catch(t){c.e(t)}finally{c.f()}return new dl(this._table,this._board).calculate()}},{key:"_areTeamPenaltiesSame",value:function(t,e){if(t.length!==e.length)return!1;var r,n=Cl(t);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=Cl(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(JSON.stringify(o.table_players_order)===JSON.stringify(s.table_players_order)&&o.penalty!==s.penalty)return!1}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"_getGameMode",value:function(t){var e,r={},n=Cl(this._board.game_modes.entries());try{for(n.s();!(e=n.n()).done;){var i=Al(e.value,2),o=(i[0],i[1]);if(parseInt(this._board.lobby_type.id)===parseInt(t.id_lobby_type)&&parseInt(o.id)===parseInt(t.id_game_mode)){r=o;break}}}catch(t){n.e(t)}finally{n.f()}return r}}])}();const Dl=jl;function Nl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Bl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nl(Object(r),!0).forEach(function(e){Ul(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Fl(t){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(t)}function Ul(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zl(){return zl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function Hl(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gl(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var Yl=Gl(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ql=Gl(/Edge/i),Vl=Gl(/firefox/i),Wl=Gl(/safari/i)&&!Gl(/chrome/i)&&!Gl(/android/i),$l=Gl(/iP(ad|od|hone)/i),Kl=Gl(/chrome/i)&&Gl(/android/i),Zl={capture:!1,passive:!1};function Xl(t,e,r){t.addEventListener(e,r,!Yl&&Zl)}function Jl(t,e,r){t.removeEventListener(e,r,!Yl&&Zl)}function Ql(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function tu(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function eu(t,e,r,n){if(t){r=r||document;do{if(null!=e&&(">"===e[0]?t.parentNode===r&&Ql(t,e):Ql(t,e))||n&&t===r)return t;if(t===r)break}while(t=tu(t))}return null}var ru,nu=/\s+/g;function iu(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(nu," ").replace(" "+e+" "," ");t.className=(n+(r?" "+e:"")).replace(nu," ")}}function ou(t,e,r){var n=t&&t.style;if(n){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),void 0===e?r:r[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=r+("string"==typeof r?"":"px")}}function au(t,e){var r="";if("string"==typeof t)r=t;else do{var n=ou(t,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function su(t,e,r){if(t){var n=t.getElementsByTagName(e),i=0,o=n.length;if(r)for(;i<o;i++)r(n[i],i);return n}return[]}function cu(){var t=document.scrollingElement;return t||document.documentElement}function lu(t,e,r,n,i){if(t.getBoundingClientRect||t===window){var o,a,s,c,l,u,h;if(t!==window&&t.parentNode&&t!==cu()?(a=(o=t.getBoundingClientRect()).top,s=o.left,c=o.bottom,l=o.right,u=o.height,h=o.width):(a=0,s=0,c=window.innerHeight,l=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||r)&&t!==window&&(i=i||t.parentNode,!Yl))do{if(i&&i.getBoundingClientRect&&("none"!==ou(i,"transform")||r&&"static"!==ou(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(ou(i,"border-top-width")),s-=f.left+parseInt(ou(i,"border-left-width")),c=a+o.height,l=s+o.width;break}}while(i=i.parentNode);if(n&&t!==window){var d=au(i||t),p=d&&d.a,v=d&&d.d;d&&(c=(a/=v)+(u/=v),l=(s/=p)+(h/=p))}return{top:a,left:s,bottom:c,right:l,width:h,height:u}}}function uu(t,e,r){for(var n=vu(t,!0),i=lu(t)[e];n;){var o=lu(n)[r];if(!("top"===r||"left"===r?i>=o:i<=o))return n;if(n===cu())break;n=vu(n,!1)}return!1}function hu(t,e,r,n){for(var i=0,o=0,a=t.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==_h.ghost&&(n||a[o]!==_h.dragged)&&eu(a[o],r.draggable,t,!1)){if(i===e)return a[o];i++}o++}return null}function fu(t,e){for(var r=t.lastElementChild;r&&(r===_h.ghost||"none"===ou(r,"display")||e&&!Ql(r,e));)r=r.previousElementSibling;return r||null}function du(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===_h.clone||e&&!Ql(t,e)||r++;return r}function pu(t){var e=0,r=0,n=cu();if(t)do{var i=au(t),o=i.a,a=i.d;e+=t.scrollLeft*o,r+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,r]}function vu(t,e){if(!t||!t.getBoundingClientRect)return cu();var r=t,n=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=ou(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return cu();if(n||e)return r;n=!0}}}while(r=r.parentNode);return cu()}function mu(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function yu(t,e){return function(){if(!ru){var r=arguments;1===r.length?t.call(this,r[0]):t.apply(this,r),ru=setTimeout(function(){ru=void 0},e)}}}function gu(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function bu(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function _u(t,e,r){var n={};return Array.from(t.children).forEach(function(i){var o,a,s,c;if(eu(i,e.draggable,t,!1)&&!i.animated&&i!==r){var l=lu(i);n.left=Math.min(null!==(o=n.left)&&void 0!==o?o:1/0,l.left),n.top=Math.min(null!==(a=n.top)&&void 0!==a?a:1/0,l.top),n.right=Math.max(null!==(s=n.right)&&void 0!==s?s:-1/0,l.right),n.bottom=Math.max(null!==(c=n.bottom)&&void 0!==c?c:-1/0,l.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var wu="Sortable"+(new Date).getTime();function Su(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(t){if("none"!==ou(t,"display")&&t!==_h.ghost){e.push({target:t,rect:lu(t)});var r=Bl({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=au(t,!0);n&&(r.top-=n.f,r.left-=n.e)}t.fromRect=r}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var r in t)if(t.hasOwnProperty(r))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[r][n])return Number(r);return-1}(e,{target:t}),1)},animateAll:function(r){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof r&&r());var i=!1,o=0;e.forEach(function(t){var e=0,r=t.target,a=r.fromRect,s=lu(r),c=r.prevFromRect,l=r.prevToRect,u=t.rect,h=au(r,!0);h&&(s.top-=h.f,s.left-=h.e),r.toRect=s,r.thisAnimationDuration&&mu(c,s)&&!mu(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(e=function(t,e,r,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*n.animation}(u,c,l,n.options)),mu(s,a)||(r.prevFromRect=a,r.prevToRect=s,e||(e=n.options.animation),n.animate(r,u,s,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout(function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null},e),r.thisAnimationDuration=e)}),clearTimeout(t),i?t=setTimeout(function(){"function"==typeof r&&r()},o):"function"==typeof r&&r(),e=[]},animate:function(t,e,r,n){if(n){ou(t,"transition",""),ou(t,"transform","");var i=au(this.el),o=i&&i.a,a=i&&i.d,s=(e.left-r.left)/(o||1),c=(e.top-r.top)/(a||1);t.animatingX=!!s,t.animatingY=!!c,ou(t,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),ou(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),ou(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){ou(t,"transition",""),ou(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}}var Eu=[],Tu={initializeByDefault:!0},xu={mount:function(t){for(var e in Tu)Tu.hasOwnProperty(e)&&!(e in t)&&(t[e]=Tu[e]);Eu.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Eu.push(t)},pluginEvent:function(t,e,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var i=t+"Global";Eu.forEach(function(n){e[n.pluginName]&&(e[n.pluginName][i]&&e[n.pluginName][i](Bl({sortable:e},r)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](Bl({sortable:e},r)))})},initializePlugins:function(t,e,r,n){for(var i in Eu.forEach(function(n){var i=n.pluginName;if(t.options[i]||n.initializeByDefault){var o=new n(t,e,t.options);o.sortable=t,o.options=t.options,t[i]=o,zl(r,o.defaults)}}),t.options)if(t.options.hasOwnProperty(i)){var o=this.modifyOption(t,i,t.options[i]);void 0!==o&&(t.options[i]=o)}},getEventProperties:function(t,e){var r={};return Eu.forEach(function(n){"function"==typeof n.eventProperties&&zl(r,n.eventProperties.call(e[n.pluginName],t))}),r},modifyOption:function(t,e,r){var n;return Eu.forEach(function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(n=i.optionListeners[e].call(t[i.pluginName],r))}),n}};function Au(t){var e=t.sortable,r=t.rootEl,n=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,c=t.oldIndex,l=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,d=t.putSortable,p=t.extraEventProperties;if(e=e||r&&r[wu]){var v,m=e.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||Yl||ql?(v=document.createEvent("Event")).initEvent(n,!0,!0):v=new CustomEvent(n,{bubbles:!0,cancelable:!0}),v.to=a||r,v.from=s||r,v.item=i||r,v.clone=o,v.oldIndex=c,v.newIndex=l,v.oldDraggableIndex=u,v.newDraggableIndex=h,v.originalEvent=f,v.pullMode=d?d.lastPutMode:void 0;var g=Bl(Bl({},p),xu.getEventProperties(n,e));for(var b in g)v[b]=g[b];r&&r.dispatchEvent(v),m[y]&&m[y].call(e,v)}}var ku=["evt"],Ou=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.evt,i=Hl(r,ku);xu.pluginEvent.bind(_h)(t,e,Bl({dragEl:Pu,parentEl:Iu,ghostEl:Ru,rootEl:Mu,nextEl:Lu,lastDownEl:ju,cloneEl:Du,cloneHidden:Nu,dragStarted:Zu,putSortable:Gu,activeSortable:_h.active,originalEvent:n,oldIndex:Bu,oldDraggableIndex:Uu,newIndex:Fu,newDraggableIndex:zu,hideGhostForTarget:mh,unhideGhostForTarget:yh,cloneNowHidden:function(){Nu=!0},cloneNowShown:function(){Nu=!1},dispatchSortableEvent:function(t){Cu({sortable:e,name:t,originalEvent:n})}},i))};function Cu(t){Au(Bl({putSortable:Gu,cloneEl:Du,targetEl:Pu,rootEl:Mu,oldIndex:Bu,oldDraggableIndex:Uu,newIndex:Fu,newDraggableIndex:zu},t))}var Pu,Iu,Ru,Mu,Lu,ju,Du,Nu,Bu,Fu,Uu,zu,Hu,Gu,Yu,qu,Vu,Wu,$u,Ku,Zu,Xu,Ju,Qu,th,eh=!1,rh=!1,nh=[],ih=!1,oh=!1,ah=[],sh=!1,ch=[],lh="undefined"!=typeof document,uh=$l,hh=ql||Yl?"cssFloat":"float",fh=lh&&!Kl&&!$l&&"draggable"in document.createElement("div"),dh=function(){if(lh){if(Yl)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),ph=function(t,e){var r=ou(t),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=hu(t,0,e),o=hu(t,1,e),a=i&&ou(i),s=o&&ou(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+lu(i).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+lu(o).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=n&&"none"===r[hh]||o&&"none"===r[hh]&&c+l>n)?"vertical":"horizontal"},vh=function(t){function e(t,r){return function(n,i,o,a){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==t&&(r||s))return!0;if(null==t||!1===t)return!1;if(r&&"clone"===t)return t;if("function"==typeof t)return e(t(n,i,o,a),r)(n,i,o,a);var c=(r?n:i).options.group.name;return!0===t||"string"==typeof t&&t===c||t.join&&t.indexOf(c)>-1}}var r={},n=t.group;n&&"object"==Fl(n)||(n={name:n}),r.name=n.name,r.checkPull=e(n.pull,!0),r.checkPut=e(n.put),r.revertClone=n.revertClone,t.group=r},mh=function(){!dh&&Ru&&ou(Ru,"display","none")},yh=function(){!dh&&Ru&&ou(Ru,"display","")};lh&&!Kl&&document.addEventListener("click",function(t){if(rh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),rh=!1,!1},!0);var gh=function(t){if(Pu){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,o=t.clientY,nh.some(function(t){var e=t[wu].options.emptyInsertThreshold;if(e&&!fu(t)){var r=lu(t),n=i>=r.left-e&&i<=r.right+e,s=o>=r.top-e&&o<=r.bottom+e;return n&&s?a=t:void 0}}),a);if(e){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.target=r.rootEl=e,r.preventDefault=void 0,r.stopPropagation=void 0,e[wu]._onDragOver(r)}}var i,o,a},bh=function(t){Pu&&Pu.parentNode[wu]._isOutsideThisEl(t.target)};function _h(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=zl({},e),t[wu]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ph(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==_h.supportPointer&&"PointerEvent"in window&&(!Wl||$l),emptyInsertThreshold:5};for(var n in xu.initializePlugins(this,t,r),r)!(n in e)&&(e[n]=r[n]);for(var i in vh(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&fh,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Xl(t,"pointerdown",this._onTapStart):(Xl(t,"mousedown",this._onTapStart),Xl(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Xl(t,"dragover",this),Xl(t,"dragenter",this)),nh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),zl(this,Su())}function wh(t,e,r,n,i,o,a,s){var c,l,u=t[wu],h=u.options.onMove;return!window.CustomEvent||Yl||ql?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=r,c.draggedRect=n,c.related=i||e,c.relatedRect=o||lu(e),c.willInsertAfter=s,c.originalEvent=a,t.dispatchEvent(c),h&&(l=h.call(u,c,a)),l}function Sh(t){t.draggable=!1}function Eh(){sh=!1}function Th(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,n=0;r--;)n+=e.charCodeAt(r);return n.toString(36)}function xh(t){return setTimeout(t,0)}function Ah(t){return clearTimeout(t)}_h.prototype={constructor:_h,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Xu=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,Pu):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,r=this.el,n=this.options,i=n.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,l=n.filter;if(function(t){ch.length=0;var e=t.getElementsByTagName("input"),r=e.length;for(;r--;){var n=e[r];n.checked&&ch.push(n)}}(r),!Pu&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||n.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!Wl||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=eu(s,n.draggable,r,!1))&&s.animated||ju===s)){if(Bu=du(s),Uu=du(s,n.draggable),"function"==typeof l){if(l.call(this,t,s,this))return Cu({sortable:e,rootEl:c,name:"filter",targetEl:s,toEl:r,fromEl:r}),Ou("filter",e,{evt:t}),void(i&&t.preventDefault())}else if(l&&(l=l.split(",").some(function(n){if(n=eu(c,n.trim(),r,!1))return Cu({sortable:e,rootEl:n,name:"filter",targetEl:s,fromEl:r,toEl:r}),Ou("filter",e,{evt:t}),!0})))return void(i&&t.preventDefault());n.handle&&!eu(c,n.handle,r,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,r){var n,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(r&&!Pu&&r.parentNode===o){var c=lu(r);if(Mu=o,Iu=(Pu=r).parentNode,Lu=Pu.nextSibling,ju=r,Hu=a.group,_h.dragged=Pu,Yu={target:Pu,clientX:(e||t).clientX,clientY:(e||t).clientY},$u=Yu.clientX-c.left,Ku=Yu.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Pu.style["will-change"]="all",n=function(){Ou("delayEnded",i,{evt:t}),_h.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Vl&&i.nativeDraggable&&(Pu.draggable=!0),i._triggerDragStart(t,e),Cu({sortable:i,name:"choose",originalEvent:t}),iu(Pu,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){su(Pu,t.trim(),Sh)}),Xl(s,"dragover",gh),Xl(s,"mousemove",gh),Xl(s,"touchmove",gh),a.supportPointer?(Xl(s,"pointerup",i._onDrop),!this.nativeDraggable&&Xl(s,"pointercancel",i._onDrop)):(Xl(s,"mouseup",i._onDrop),Xl(s,"touchend",i._onDrop),Xl(s,"touchcancel",i._onDrop)),Vl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Pu.draggable=!0),Ou("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(ql||Yl))n();else{if(_h.eventCanceled)return void this._onDrop();a.supportPointer?(Xl(s,"pointerup",i._disableDelayedDrag),Xl(s,"pointercancel",i._disableDelayedDrag)):(Xl(s,"mouseup",i._disableDelayedDrag),Xl(s,"touchend",i._disableDelayedDrag),Xl(s,"touchcancel",i._disableDelayedDrag)),Xl(s,"mousemove",i._delayedDragTouchMoveHandler),Xl(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Xl(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Pu&&Sh(Pu),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Jl(t,"mouseup",this._disableDelayedDrag),Jl(t,"touchend",this._disableDelayedDrag),Jl(t,"touchcancel",this._disableDelayedDrag),Jl(t,"pointerup",this._disableDelayedDrag),Jl(t,"pointercancel",this._disableDelayedDrag),Jl(t,"mousemove",this._delayedDragTouchMoveHandler),Jl(t,"touchmove",this._delayedDragTouchMoveHandler),Jl(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?Xl(document,"pointermove",this._onTouchMove):Xl(document,e?"touchmove":"mousemove",this._onTouchMove):(Xl(Pu,"dragend",this),Xl(Mu,"dragstart",this._onDragStart));try{document.selection?xh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(eh=!1,Mu&&Pu){Ou("dragStarted",this,{evt:e}),this.nativeDraggable&&Xl(document,"dragover",bh);var r=this.options;!t&&iu(Pu,r.dragClass,!1),iu(Pu,r.ghostClass,!0),_h.active=this,t&&this._appendGhost(),Cu({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(qu){this._lastX=qu.clientX,this._lastY=qu.clientY,mh();for(var t=document.elementFromPoint(qu.clientX,qu.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(qu.clientX,qu.clientY))!==e;)e=t;if(Pu.parentNode[wu]._isOutsideThisEl(t),e)do{if(e[wu]){if(e[wu]._onDragOver({clientX:qu.clientX,clientY:qu.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=tu(e));yh()}},_onTouchMove:function(t){if(Yu){var e=this.options,r=e.fallbackTolerance,n=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=Ru&&au(Ru,!0),a=Ru&&o&&o.a,s=Ru&&o&&o.d,c=uh&&th&&pu(th),l=(i.clientX-Yu.clientX+n.x)/(a||1)+(c?c[0]-ah[0]:0)/(a||1),u=(i.clientY-Yu.clientY+n.y)/(s||1)+(c?c[1]-ah[1]:0)/(s||1);if(!_h.active&&!eh){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Ru){o?(o.e+=l-(Vu||0),o.f+=u-(Wu||0)):o={a:1,b:0,c:0,d:1,e:l,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ou(Ru,"webkitTransform",h),ou(Ru,"mozTransform",h),ou(Ru,"msTransform",h),ou(Ru,"transform",h),Vu=l,Wu=u,qu=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ru){var t=this.options.fallbackOnBody?document.body:Mu,e=lu(Pu,!0,uh,!0,t),r=this.options;if(uh){for(th=t;"static"===ou(th,"position")&&"none"===ou(th,"transform")&&th!==document;)th=th.parentNode;th!==document.body&&th!==document.documentElement?(th===document&&(th=cu()),e.top+=th.scrollTop,e.left+=th.scrollLeft):th=cu(),ah=pu(th)}iu(Ru=Pu.cloneNode(!0),r.ghostClass,!1),iu(Ru,r.fallbackClass,!0),iu(Ru,r.dragClass,!0),ou(Ru,"transition",""),ou(Ru,"transform",""),ou(Ru,"box-sizing","border-box"),ou(Ru,"margin",0),ou(Ru,"top",e.top),ou(Ru,"left",e.left),ou(Ru,"width",e.width),ou(Ru,"height",e.height),ou(Ru,"opacity","0.8"),ou(Ru,"position",uh?"absolute":"fixed"),ou(Ru,"zIndex","100000"),ou(Ru,"pointerEvents","none"),_h.ghost=Ru,t.appendChild(Ru),ou(Ru,"transform-origin",$u/parseInt(Ru.style.width)*100+"% "+Ku/parseInt(Ru.style.height)*100+"%")}},_onDragStart:function(t,e){var r=this,n=t.dataTransfer,i=r.options;Ou("dragStart",this,{evt:t}),_h.eventCanceled?this._onDrop():(Ou("setupClone",this),_h.eventCanceled||((Du=bu(Pu)).removeAttribute("id"),Du.draggable=!1,Du.style["will-change"]="",this._hideClone(),iu(Du,this.options.chosenClass,!1),_h.clone=Du),r.cloneId=xh(function(){Ou("clone",r),_h.eventCanceled||(r.options.removeCloneOnHide||Mu.insertBefore(Du,Pu),r._hideClone(),Cu({sortable:r,name:"clone"}))}),!e&&iu(Pu,i.dragClass,!0),e?(rh=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Jl(document,"mouseup",r._onDrop),Jl(document,"touchend",r._onDrop),Jl(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(r,n,Pu)),Xl(document,"drop",r),ou(Pu,"transform","translateZ(0)")),eh=!0,r._dragStartId=xh(r._dragStarted.bind(r,e,t)),Xl(document,"selectstart",r),Zu=!0,window.getSelection().removeAllRanges(),Wl&&ou(document.body,"user-select","none"))},_onDragOver:function(t){var e,r,n,i,o=this.el,a=t.target,s=this.options,c=s.group,l=_h.active,u=Hu===c,h=s.sort,f=Gu||l,d=this,p=!1;if(!sh){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=eu(a,s.draggable,o,!0),C("dragOver"),_h.eventCanceled)return p;if(Pu.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||d._ignoreWhileAnimating===a)return I(!1);if(rh=!1,l&&!s.disabled&&(u?h||(n=Iu!==Mu):Gu===this||(this.lastPutMode=Hu.checkPull(this,l,Pu,t))&&c.checkPut(this,l,Pu,t))){if(i="vertical"===this._getDirection(t,a),e=lu(Pu),C("dragOverValid"),_h.eventCanceled)return p;if(n)return Iu=Mu,P(),this._hideClone(),C("revert"),_h.eventCanceled||(Lu?Mu.insertBefore(Pu,Lu):Mu.appendChild(Pu)),I(!0);var v=fu(o,s.draggable);if(!v||function(t,e,r){var n=lu(fu(r.el,r.options.draggable)),i=_u(r.el,r.options,Ru),o=10;return e?t.clientX>i.right+o||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>i.bottom+o||t.clientX>n.right&&t.clientY>n.top}(t,i,this)&&!v.animated){if(v===Pu)return I(!1);if(v&&o===t.target&&(a=v),a&&(r=lu(a)),!1!==wh(Mu,o,Pu,e,a,r,t,!!a))return P(),v&&v.nextSibling?o.insertBefore(Pu,v.nextSibling):o.appendChild(Pu),Iu=o,R(),I(!0)}else if(v&&function(t,e,r){var n=lu(hu(r.el,0,r.options,!0)),i=_u(r.el,r.options,Ru),o=10;return e?t.clientX<i.left-o||t.clientY<n.top&&t.clientX<n.right:t.clientY<i.top-o||t.clientY<n.bottom&&t.clientX<n.left}(t,i,this)){var m=hu(o,0,s,!0);if(m===Pu)return I(!1);if(r=lu(a=m),!1!==wh(Mu,o,Pu,e,a,r,t,!1))return P(),o.insertBefore(Pu,m),Iu=o,R(),I(!0)}else if(a.parentNode===o){r=lu(a);var y,g,b,_=Pu.parentNode!==o,w=!function(t,e,r){var n=r?t.left:t.top,i=r?t.right:t.bottom,o=r?t.width:t.height,a=r?e.left:e.top,s=r?e.right:e.bottom,c=r?e.width:e.height;return n===a||i===s||n+o/2===a+c/2}(Pu.animated&&Pu.toRect||e,a.animated&&a.toRect||r,i),S=i?"top":"left",E=uu(a,"top","top")||uu(Pu,"top","top"),T=E?E.scrollTop:void 0;if(Xu!==a&&(g=r[S],ih=!1,oh=!w&&s.invertSwap||_),y=function(t,e,r,n,i,o,a,s){var c=n?t.clientY:t.clientX,l=n?r.height:r.width,u=n?r.top:r.left,h=n?r.bottom:r.right,f=!1;if(!a)if(s&&Qu<l*i){if(!ih&&(1===Ju?c>u+l*o/2:c<h-l*o/2)&&(ih=!0),ih)f=!0;else if(1===Ju?c<u+Qu:c>h-Qu)return-Ju}else if(c>u+l*(1-i)/2&&c<h-l*(1-i)/2)return function(t){return du(Pu)<du(t)?1:-1}(e);if((f=f||a)&&(c<u+l*o/2||c>h-l*o/2))return c>u+l/2?1:-1;return 0}(t,a,r,i,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,oh,Xu===a),0!==y){var x=du(Pu);do{x-=y,b=Iu.children[x]}while(b&&("none"===ou(b,"display")||b===Ru))}if(0===y||b===a)return I(!1);Xu=a,Ju=y;var A=a.nextElementSibling,k=!1,O=wh(Mu,o,Pu,e,a,r,t,k=1===y);if(!1!==O)return 1!==O&&-1!==O||(k=1===O),sh=!0,setTimeout(Eh,30),P(),k&&!A?o.appendChild(Pu):a.parentNode.insertBefore(Pu,k?A:a),E&&gu(E,0,T-E.scrollTop),Iu=Pu.parentNode,void 0===g||oh||(Qu=Math.abs(g-lu(a)[S])),R(),I(!0)}if(o.contains(Pu))return I(!1)}return!1}function C(s,c){Ou(s,d,Bl({evt:t,isOwner:u,axis:i?"vertical":"horizontal",revert:n,dragRect:e,targetRect:r,canSort:h,fromSortable:f,target:a,completed:I,onMove:function(r,n){return wh(Mu,o,Pu,e,r,lu(r),t,n)},changed:R},c))}function P(){C("dragOverAnimationCapture"),d.captureAnimationState(),d!==f&&f.captureAnimationState()}function I(e){return C("dragOverCompleted",{insertion:e}),e&&(u?l._hideClone():l._showClone(d),d!==f&&(iu(Pu,Gu?Gu.options.ghostClass:l.options.ghostClass,!1),iu(Pu,s.ghostClass,!0)),Gu!==d&&d!==_h.active?Gu=d:d===_h.active&&Gu&&(Gu=null),f===d&&(d._ignoreWhileAnimating=a),d.animateAll(function(){C("dragOverAnimationComplete"),d._ignoreWhileAnimating=null}),d!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===Pu&&!Pu.animated||a===o&&!a.animated)&&(Xu=null),s.dragoverBubble||t.rootEl||a===document||(Pu.parentNode[wu]._isOutsideThisEl(t.target),!e&&gh(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function R(){Fu=du(Pu),zu=du(Pu,s.draggable),Cu({sortable:d,name:"change",toEl:o,newIndex:Fu,newDraggableIndex:zu,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Jl(document,"mousemove",this._onTouchMove),Jl(document,"touchmove",this._onTouchMove),Jl(document,"pointermove",this._onTouchMove),Jl(document,"dragover",gh),Jl(document,"mousemove",gh),Jl(document,"touchmove",gh)},_offUpEvents:function(){var t=this.el.ownerDocument;Jl(t,"mouseup",this._onDrop),Jl(t,"touchend",this._onDrop),Jl(t,"pointerup",this._onDrop),Jl(t,"pointercancel",this._onDrop),Jl(t,"touchcancel",this._onDrop),Jl(document,"selectstart",this)},_onDrop:function(t){var e=this.el,r=this.options;Fu=du(Pu),zu=du(Pu,r.draggable),Ou("drop",this,{evt:t}),Iu=Pu&&Pu.parentNode,Fu=du(Pu),zu=du(Pu,r.draggable),_h.eventCanceled||(eh=!1,oh=!1,ih=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ah(this.cloneId),Ah(this._dragStartId),this.nativeDraggable&&(Jl(document,"drop",this),Jl(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Wl&&ou(document.body,"user-select",""),ou(Pu,"transform",""),t&&(Zu&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Ru&&Ru.parentNode&&Ru.parentNode.removeChild(Ru),(Mu===Iu||Gu&&"clone"!==Gu.lastPutMode)&&Du&&Du.parentNode&&Du.parentNode.removeChild(Du),Pu&&(this.nativeDraggable&&Jl(Pu,"dragend",this),Sh(Pu),Pu.style["will-change"]="",Zu&&!eh&&iu(Pu,Gu?Gu.options.ghostClass:this.options.ghostClass,!1),iu(Pu,this.options.chosenClass,!1),Cu({sortable:this,name:"unchoose",toEl:Iu,newIndex:null,newDraggableIndex:null,originalEvent:t}),Mu!==Iu?(Fu>=0&&(Cu({rootEl:Iu,name:"add",toEl:Iu,fromEl:Mu,originalEvent:t}),Cu({sortable:this,name:"remove",toEl:Iu,originalEvent:t}),Cu({rootEl:Iu,name:"sort",toEl:Iu,fromEl:Mu,originalEvent:t}),Cu({sortable:this,name:"sort",toEl:Iu,originalEvent:t})),Gu&&Gu.save()):Fu!==Bu&&Fu>=0&&(Cu({sortable:this,name:"update",toEl:Iu,originalEvent:t}),Cu({sortable:this,name:"sort",toEl:Iu,originalEvent:t})),_h.active&&(null!=Fu&&-1!==Fu||(Fu=Bu,zu=Uu),Cu({sortable:this,name:"end",toEl:Iu,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Ou("nulling",this),Mu=Pu=Iu=Ru=Lu=Du=ju=Nu=Yu=qu=Zu=Fu=zu=Bu=Uu=Xu=Ju=Gu=Hu=_h.dragged=_h.ghost=_h.clone=_h.active=null,ch.forEach(function(t){t.checked=!0}),ch.length=Vu=Wu=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Pu&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],r=this.el.children,n=0,i=r.length,o=this.options;n<i;n++)eu(t=r[n],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Th(t));return e},sort:function(t,e){var r={},n=this.el;this.toArray().forEach(function(t,e){var i=n.children[e];eu(i,this.options.draggable,n,!1)&&(r[t]=i)},this),e&&this.captureAnimationState(),t.forEach(function(t){r[t]&&(n.removeChild(r[t]),n.appendChild(r[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return eu(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var r=this.options;if(void 0===e)return r[t];var n=xu.modifyOption(this,t,e);r[t]=void 0!==n?n:e,"group"===t&&vh(r)},destroy:function(){Ou("destroy",this);var t=this.el;t[wu]=null,Jl(t,"mousedown",this._onTapStart),Jl(t,"touchstart",this._onTapStart),Jl(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Jl(t,"dragover",this),Jl(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nh.splice(nh.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Nu){if(Ou("hideClone",this),_h.eventCanceled)return;ou(Du,"display","none"),this.options.removeCloneOnHide&&Du.parentNode&&Du.parentNode.removeChild(Du),Nu=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Nu){if(Ou("showClone",this),_h.eventCanceled)return;Pu.parentNode!=Mu||this.options.group.revertClone?Lu?Mu.insertBefore(Du,Lu):Mu.appendChild(Du):Mu.insertBefore(Du,Pu),this.options.group.revertClone&&this.animate(Pu,Du),ou(Du,"display",""),Nu=!1}}else this._hideClone()}},lh&&Xl(document,"touchmove",function(t){(_h.active||eh)&&t.cancelable&&t.preventDefault()}),_h.utils={on:Xl,off:Jl,css:ou,find:su,is:function(t,e){return!!eu(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},throttle:yu,closest:eu,toggleClass:iu,clone:bu,index:du,nextTick:xh,cancelNextTick:Ah,detectDirection:ph,getChild:hu,expando:wu},_h.get=function(t){return t[wu]},_h.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(_h.utils=Bl(Bl({},_h.utils),t.utils)),xu.mount(t)})},_h.create=function(t,e){return new _h(t,e)},_h.version="1.15.6";var kh,Oh,Ch,Ph,Ih,Rh,Mh=[],Lh=!1;function jh(){Mh.forEach(function(t){clearInterval(t.pid)}),Mh=[]}function Dh(){clearInterval(Rh)}var Nh=yu(function(t,e,r,n){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,c=e.scrollSpeed,l=cu(),u=!1;Oh!==r&&(Oh=r,jh(),kh=e.scroll,i=e.scrollFn,!0===kh&&(kh=vu(r,!0)));var h=0,f=kh;do{var d=f,p=lu(d),v=p.top,m=p.bottom,y=p.left,g=p.right,b=p.width,_=p.height,w=void 0,S=void 0,E=d.scrollWidth,T=d.scrollHeight,x=ou(d),A=d.scrollLeft,k=d.scrollTop;d===l?(w=b<E&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),S=_<T&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(w=b<E&&("auto"===x.overflowX||"scroll"===x.overflowX),S=_<T&&("auto"===x.overflowY||"scroll"===x.overflowY));var O=w&&(Math.abs(g-o)<=s&&A+b<E)-(Math.abs(y-o)<=s&&!!A),C=S&&(Math.abs(m-a)<=s&&k+_<T)-(Math.abs(v-a)<=s&&!!k);if(!Mh[h])for(var P=0;P<=h;P++)Mh[P]||(Mh[P]={});Mh[h].vx==O&&Mh[h].vy==C&&Mh[h].el===d||(Mh[h].el=d,Mh[h].vx=O,Mh[h].vy=C,clearInterval(Mh[h].pid),0==O&&0==C||(u=!0,Mh[h].pid=setInterval(function(){n&&0===this.layer&&_h.active._onTouchMove(Ih);var e=Mh[this.layer].vy?Mh[this.layer].vy*c:0,r=Mh[this.layer].vx?Mh[this.layer].vx*c:0;"function"==typeof i&&"continue"!==i.call(_h.dragged.parentNode[wu],r,e,t,Ih,Mh[this.layer].el)||gu(Mh[this.layer].el,r,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=vu(f,!1)));Lh=u}},30),Bh=function(t){var e=t.originalEvent,r=t.putSortable,n=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var c=r||i;a();var l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function Fh(){}function Uh(){}Fh.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=hu(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),r&&r.animateAll()},drop:Bh},zl(Fh,{pluginName:"revertOnSpill"}),Uh.prototype={onSpill:function(t){var e=t.dragEl,r=t.putSortable||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Bh},zl(Uh,{pluginName:"removeOnSpill"});_h.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?Xl(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Xl(document,"pointermove",this._handleFallbackAutoScroll):e.touches?Xl(document,"touchmove",this._handleFallbackAutoScroll):Xl(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?Jl(document,"dragover",this._handleAutoScroll):(Jl(document,"pointermove",this._handleFallbackAutoScroll),Jl(document,"touchmove",this._handleFallbackAutoScroll),Jl(document,"mousemove",this._handleFallbackAutoScroll)),Dh(),jh(),clearTimeout(ru),ru=void 0},nulling:function(){Ih=Oh=kh=Lh=Rh=Ch=Ph=null,Mh.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var r=this,n=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(n,i);if(Ih=t,e||this.options.forceAutoScrollFallback||ql||Yl||Wl){Nh(t,this.options,o,e);var a=vu(o,!0);!Lh||Rh&&n===Ch&&i===Ph||(Rh&&Dh(),Rh=setInterval(function(){var o=vu(document.elementFromPoint(n,i),!0);o!==a&&(a=o,jh()),Nh(t,r.options,o,e)},10),Ch=n,Ph=i)}else{if(!this.options.bubbleScroll||vu(o,!0)===cu())return void jh();Nh(t,this.options,vu(o,!1),!1)}}},zl(t,{pluginName:"scroll",initializeByDefault:!0})}),_h.mount(Uh,Fh);const zh=_h;function Hh(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Gh(t){return t instanceof Hh(t).Element||t instanceof Element}function Yh(t){return t instanceof Hh(t).HTMLElement||t instanceof HTMLElement}function qh(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Hh(t).ShadowRoot||t instanceof ShadowRoot)}var Vh=Math.max,Wh=Math.min,$h=Math.round;function Kh(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Zh(){return!/^((?!chrome|android).)*safari/i.test(Kh())}function Xh(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&Yh(t)&&(i=t.offsetWidth>0&&$h(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&$h(n.height)/t.offsetHeight||1);var a=(Gh(t)?Hh(t):window).visualViewport,s=!Zh()&&r,c=(n.left+(s&&a?a.offsetLeft:0))/i,l=(n.top+(s&&a?a.offsetTop:0))/o,u=n.width/i,h=n.height/o;return{width:u,height:h,top:l,right:c+u,bottom:l+h,left:c,x:c,y:l}}function Jh(t){var e=Hh(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Qh(t){return t?(t.nodeName||"").toLowerCase():null}function tf(t){return((Gh(t)?t.ownerDocument:t.document)||window.document).documentElement}function ef(t){return Xh(tf(t)).left+Jh(t).scrollLeft}function rf(t){return Hh(t).getComputedStyle(t)}function nf(t){var e=rf(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function of(t,e,r){void 0===r&&(r=!1);var n,i,o=Yh(e),a=Yh(e)&&function(t){var e=t.getBoundingClientRect(),r=$h(e.width)/t.offsetWidth||1,n=$h(e.height)/t.offsetHeight||1;return 1!==r||1!==n}(e),s=tf(e),c=Xh(t,a,r),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!r)&&(("body"!==Qh(e)||nf(s))&&(l=(n=e)!==Hh(n)&&Yh(n)?{scrollLeft:(i=n).scrollLeft,scrollTop:i.scrollTop}:Jh(n)),Yh(e)?((u=Xh(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=ef(s))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function af(t){var e=Xh(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function sf(t){return"html"===Qh(t)?t:t.assignedSlot||t.parentNode||(qh(t)?t.host:null)||tf(t)}function cf(t){return["html","body","#document"].indexOf(Qh(t))>=0?t.ownerDocument.body:Yh(t)&&nf(t)?t:cf(sf(t))}function lf(t,e){var r;void 0===e&&(e=[]);var n=cf(t),i=n===(null==(r=t.ownerDocument)?void 0:r.body),o=Hh(n),a=i?[o].concat(o.visualViewport||[],nf(n)?n:[]):n,s=e.concat(a);return i?s:s.concat(lf(sf(a)))}function uf(t){return["table","td","th"].indexOf(Qh(t))>=0}function hf(t){return Yh(t)&&"fixed"!==rf(t).position?t.offsetParent:null}function ff(t){for(var e=Hh(t),r=hf(t);r&&uf(r)&&"static"===rf(r).position;)r=hf(r);return r&&("html"===Qh(r)||"body"===Qh(r)&&"static"===rf(r).position)?e:r||function(t){var e=/firefox/i.test(Kh());if(/Trident/i.test(Kh())&&Yh(t)&&"fixed"===rf(t).position)return null;var r=sf(t);for(qh(r)&&(r=r.host);Yh(r)&&["html","body"].indexOf(Qh(r))<0;){var n=rf(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(t)||e}var df="top",pf="bottom",vf="right",mf="left",yf="auto",gf=[df,pf,vf,mf],bf="start",_f="end",wf="viewport",Sf="popper",Ef=gf.reduce(function(t,e){return t.concat([e+"-"+bf,e+"-"+_f])},[]),Tf=[].concat(gf,[yf]).reduce(function(t,e){return t.concat([e,e+"-"+bf,e+"-"+_f])},[]),xf=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Af(t){var e=new Map,r=new Set,n=[];function i(t){r.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!r.has(t)){var n=e.get(t);n&&i(n)}}),n.push(t)}return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){r.has(t.name)||i(t)}),n}var kf={placement:"bottom",modifiers:[],strategy:"absolute"};function Of(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function Cf(t){void 0===t&&(t={});var e=t,r=e.defaultModifiers,n=void 0===r?[]:r,i=e.defaultOptions,o=void 0===i?kf:i;return function(t,e,r){void 0===r&&(r=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},kf,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(r){var i="function"==typeof r?r(s.options):r;h(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:Gh(t)?lf(t):t.contextElement?lf(t.contextElement):[],popper:lf(e)};var a,l,f=function(t){var e=Af(t);return xf.reduce(function(t,r){return t.concat(e.filter(function(t){return t.phase===r}))},[])}((a=[].concat(n,s.options.modifiers),l=a.reduce(function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t},{}),Object.keys(l).map(function(t){return l[t]})));return s.orderedModifiers=f.filter(function(t){return t.enabled}),s.orderedModifiers.forEach(function(t){var e=t.name,r=t.options,n=void 0===r?{}:r,i=t.effect;if("function"==typeof i){var o=i({state:s,name:e,instance:u,options:n}),a=function(){};c.push(o||a)}}),u.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,r=t.popper;if(Of(e,r)){s.rects={reference:of(e,ff(r),"fixed"===s.options.strategy),popper:af(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(t){return s.modifiersData[t.name]=Object.assign({},t.data)});for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var i=s.orderedModifiers[n],o=i.fn,a=i.options,c=void 0===a?{}:a,h=i.name;"function"==typeof o&&(s=o({state:s,options:c,name:h,instance:u})||s)}else s.reset=!1,n=-1}}},update:(i=function(){return new Promise(function(t){u.forceUpdate(),t(s)})},function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(i())})})),a}),destroy:function(){h(),l=!0}};if(!Of(t,e))return u;function h(){c.forEach(function(t){return t()}),c=[]}return u.setOptions(r).then(function(t){!l&&r.onFirstUpdate&&r.onFirstUpdate(t)}),u}}var Pf={passive:!0};function If(t){return t.split("-")[0]}function Rf(t){return t.split("-")[1]}function Mf(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Lf(t){var e,r=t.reference,n=t.element,i=t.placement,o=i?If(i):null,a=i?Rf(i):null,s=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(o){case df:e={x:s,y:r.y-n.height};break;case pf:e={x:s,y:r.y+r.height};break;case vf:e={x:r.x+r.width,y:c};break;case mf:e={x:r.x-n.width,y:c};break;default:e={x:r.x,y:r.y}}var l=o?Mf(o):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case bf:e[l]=e[l]-(r[u]/2-n[u]/2);break;case _f:e[l]=e[l]+(r[u]/2-n[u]/2)}}return e}var jf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Df(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=a.x,d=void 0===f?0:f,p=a.y,v=void 0===p?0:p,m="function"==typeof u?u({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),b=mf,_=df,w=window;if(l){var S=ff(r),E="clientHeight",T="clientWidth";if(S===Hh(r)&&"static"!==rf(S=tf(r)).position&&"absolute"===s&&(E="scrollHeight",T="scrollWidth"),i===df||(i===mf||i===vf)&&o===_f)_=pf,v-=(h&&S===w&&w.visualViewport?w.visualViewport.height:S[E])-n.height,v*=c?1:-1;if(i===mf||(i===df||i===pf)&&o===_f)b=vf,d-=(h&&S===w&&w.visualViewport?w.visualViewport.width:S[T])-n.width,d*=c?1:-1}var x,A=Object.assign({position:s},l&&jf),k=!0===u?function(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:$h(r*i)/i||0,y:$h(n*i)/i||0}}({x:d,y:v},Hh(r)):{x:d,y:v};return d=k.x,v=k.y,c?Object.assign({},A,((x={})[_]=g?"0":"",x[b]=y?"0":"",x.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",x)):Object.assign({},A,((e={})[_]=g?v+"px":"",e[b]=y?d+"px":"",e.transform="",e))}const Nf={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},i=e.elements[t];Yh(i)&&Qh(i)&&(Object.assign(i.style,r),Object.keys(n).forEach(function(t){var e=n[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce(function(t,e){return t[e]="",t},{});Yh(n)&&Qh(n)&&(Object.assign(n.style,o),Object.keys(i).forEach(function(t){n.removeAttribute(t)}))})}},requires:["computeStyles"]};const Bf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=void 0===i?[0,0]:i,a=Tf.reduce(function(t,r){return t[r]=function(t,e,r){var n=If(t),i=[mf,df].indexOf(n)>=0?-1:1,o="function"==typeof r?r(Object.assign({},e,{placement:t})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[mf,vf].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,e.rects,o),t},{}),s=a[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=a}};var Ff={left:"right",right:"left",bottom:"top",top:"bottom"};function Uf(t){return t.replace(/left|right|bottom|top/g,function(t){return Ff[t]})}var zf={start:"end",end:"start"};function Hf(t){return t.replace(/start|end/g,function(t){return zf[t]})}function Gf(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&qh(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Yf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function qf(t,e,r){return e===wf?Yf(function(t,e){var r=Hh(t),n=tf(t),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var l=Zh();(l||!l&&"fixed"===e)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+ef(t),y:c}}(t,r)):Gh(e)?function(t,e){var r=Xh(t,!1,"fixed"===e);return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}(e,r):Yf(function(t){var e,r=tf(t),n=Jh(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=Vh(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Vh(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+ef(t),c=-n.scrollTop;return"rtl"===rf(i||r).direction&&(s+=Vh(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(tf(t)))}function Vf(t,e,r,n){var i="clippingParents"===e?function(t){var e=lf(sf(t)),r=["absolute","fixed"].indexOf(rf(t).position)>=0&&Yh(t)?ff(t):t;return Gh(r)?e.filter(function(t){return Gh(t)&&Gf(t,r)&&"body"!==Qh(t)}):[]}(t):[].concat(e),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(e,r){var i=qf(t,r,n);return e.top=Vh(i.top,e.top),e.right=Wh(i.right,e.right),e.bottom=Wh(i.bottom,e.bottom),e.left=Vh(i.left,e.left),e},qf(t,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Wf(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function $f(t,e){return e.reduce(function(e,r){return e[r]=t,e},{})}function Kf(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=void 0===n?t.placement:n,o=r.strategy,a=void 0===o?t.strategy:o,s=r.boundary,c=void 0===s?"clippingParents":s,l=r.rootBoundary,u=void 0===l?wf:l,h=r.elementContext,f=void 0===h?Sf:h,d=r.altBoundary,p=void 0!==d&&d,v=r.padding,m=void 0===v?0:v,y=Wf("number"!=typeof m?m:$f(m,gf)),g=f===Sf?"reference":Sf,b=t.rects.popper,_=t.elements[p?g:f],w=Vf(Gh(_)?_:_.contextElement||tf(t.elements.popper),c,u,a),S=Xh(t.elements.reference),E=Lf({reference:S,element:b,strategy:"absolute",placement:i}),T=Yf(Object.assign({},b,E)),x=f===Sf?T:S,A={top:w.top-x.top+y.top,bottom:x.bottom-w.bottom+y.bottom,left:w.left-x.left+y.left,right:x.right-w.right+y.right},k=t.modifiersData.offset;if(f===Sf&&k){var O=k[i];Object.keys(A).forEach(function(t){var e=[vf,pf].indexOf(t)>=0?1:-1,r=[df,pf].indexOf(t)>=0?"y":"x";A[t]+=O[r]*e})}return A}function Zf(t,e,r){return Vh(t,Wh(e,r))}const Xf={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0!==a&&a,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,h=r.padding,f=r.tether,d=void 0===f||f,p=r.tetherOffset,v=void 0===p?0:p,m=Kf(e,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),y=If(e.placement),g=Rf(e.placement),b=!g,_=Mf(y),w="x"===_?"y":"x",S=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,x="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,A="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(S){if(o){var C,P="y"===_?df:mf,I="y"===_?pf:vf,R="y"===_?"height":"width",M=S[_],L=M+m[P],j=M-m[I],D=d?-T[R]/2:0,N=g===bf?E[R]:T[R],B=g===bf?-T[R]:-E[R],F=e.elements.arrow,U=d&&F?af(F):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[P],G=z[I],Y=Zf(0,E[R],U[R]),q=b?E[R]/2-D-Y-H-A.mainAxis:N-Y-H-A.mainAxis,V=b?-E[R]/2+D+Y+G+A.mainAxis:B+Y+G+A.mainAxis,W=e.elements.arrow&&ff(e.elements.arrow),$=W?"y"===_?W.clientTop||0:W.clientLeft||0:0,K=null!=(C=null==k?void 0:k[_])?C:0,Z=M+V-K,X=Zf(d?Wh(L,M+q-K-$):L,M,d?Vh(j,Z):j);S[_]=X,O[_]=X-M}if(s){var J,Q="x"===_?df:mf,tt="x"===_?pf:vf,et=S[w],rt="y"===w?"height":"width",nt=et+m[Q],it=et-m[tt],ot=-1!==[df,mf].indexOf(y),at=null!=(J=null==k?void 0:k[w])?J:0,st=ot?nt:et-E[rt]-T[rt]-at+A.altAxis,ct=ot?et+E[rt]+T[rt]-at-A.altAxis:it,lt=d&&ot?function(t,e,r){var n=Zf(t,e,r);return n>r?r:n}(st,et,ct):Zf(d?st:nt,et,d?ct:it);S[w]=lt,O[w]=lt-et}e.modifiersData[n]=O}},requiresIfExists:["offset"]};const Jf={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=If(r.placement),c=Mf(s),l=[mf,vf].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(t,e){return Wf("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:$f(t,gf))}(i.padding,r),h=af(o),f="y"===c?df:mf,d="y"===c?pf:vf,p=r.rects.reference[l]+r.rects.reference[c]-a[c]-r.rects.popper[l],v=a[c]-r.rects.reference[c],m=ff(o),y=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,b=u[f],_=y-h[l]-u[d],w=y/2-h[l]/2+g,S=Zf(b,w,_),E=c;r.modifiersData[n]=((e={})[E]=S,e.centerOffset=S-w,e)}},effect:function(t){var e=t.state,r=t.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Gf(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qf(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function td(t){return[df,vf,pf,mf].some(function(e){return t[e]>=0})}var ed=Cf({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=void 0===i||i,a=n.resize,s=void 0===a||a,c=Hh(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(t){t.addEventListener("scroll",r.update,Pf)}),s&&c.addEventListener("resize",r.update,Pf),function(){o&&l.forEach(function(t){t.removeEventListener("scroll",r.update,Pf)}),s&&c.removeEventListener("resize",r.update,Pf)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,r=t.name;e.modifiersData[r]=Lf({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,a=void 0===o||o,s=r.roundOffsets,c=void 0===s||s,l={placement:If(e.placement),variation:Rf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Df(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Df(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Nf,Bf,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0===a||a,c=r.fallbackPlacements,l=r.padding,u=r.boundary,h=r.rootBoundary,f=r.altBoundary,d=r.flipVariations,p=void 0===d||d,v=r.allowedAutoPlacements,m=e.options.placement,y=If(m),g=c||(y===m||!p?[Uf(m)]:function(t){if(If(t)===yf)return[];var e=Uf(t);return[Hf(t),e,Hf(e)]}(m)),b=[m].concat(g).reduce(function(t,r){return t.concat(If(r)===yf?function(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,l=void 0===c?Tf:c,u=Rf(n),h=u?s?Ef:Ef.filter(function(t){return Rf(t)===u}):gf,f=h.filter(function(t){return l.indexOf(t)>=0});0===f.length&&(f=h);var d=f.reduce(function(e,r){return e[r]=Kf(t,{placement:r,boundary:i,rootBoundary:o,padding:a})[If(r)],e},{});return Object.keys(d).sort(function(t,e){return d[t]-d[e]})}(e,{placement:r,boundary:u,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:v}):r)},[]),_=e.rects.reference,w=e.rects.popper,S=new Map,E=!0,T=b[0],x=0;x<b.length;x++){var A=b[x],k=If(A),O=Rf(A)===bf,C=[df,pf].indexOf(k)>=0,P=C?"width":"height",I=Kf(e,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:l}),R=C?O?vf:mf:O?pf:df;_[P]>w[P]&&(R=Uf(R));var M=Uf(R),L=[];if(o&&L.push(I[k]<=0),s&&L.push(I[R]<=0,I[M]<=0),L.every(function(t){return t})){T=A,E=!1;break}S.set(A,L)}if(E)for(var j=function(t){var e=b.find(function(e){var r=S.get(e);if(r)return r.slice(0,t).every(function(t){return t})});if(e)return T=e,"break"},D=p?3:1;D>0;D--){if("break"===j(D))break}e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Xf,Jf,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Kf(e,{elementContext:"reference"}),s=Kf(e,{altBoundary:!0}),c=Qf(a,n),l=Qf(s,i,o),u=td(c),h=td(l);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),rd="tippy-content",nd="tippy-backdrop",id="tippy-arrow",od="tippy-svg-arrow",ad={passive:!0,capture:!0},sd=function(){return document.body};function cd(t,e,r){if(Array.isArray(t)){var n=t[e];return null==n?Array.isArray(r)?r[e]:r:n}return t}function ld(t,e){var r={}.toString.call(t);return 0===r.indexOf("[object")&&r.indexOf(e+"]")>-1}function ud(t,e){return"function"==typeof t?t.apply(void 0,e):t}function hd(t,e){return 0===e?t:function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)};var r}function fd(t){return[].concat(t)}function dd(t,e){-1===t.indexOf(e)&&t.push(e)}function pd(t){return t.split("-")[0]}function vd(t){return[].slice.call(t)}function md(t){return Object.keys(t).reduce(function(e,r){return void 0!==t[r]&&(e[r]=t[r]),e},{})}function yd(){return document.createElement("div")}function gd(t){return["Element","Fragment"].some(function(e){return ld(t,e)})}function bd(t){return ld(t,"MouseEvent")}function _d(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function wd(t){return gd(t)?[t]:function(t){return ld(t,"NodeList")}(t)?vd(t):Array.isArray(t)?t:vd(document.querySelectorAll(t))}function Sd(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Ed(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Td(t){var e,r=fd(t)[0];return null!=r&&null!=(e=r.ownerDocument)&&e.body?r.ownerDocument:document}function xd(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[n](e,r)})}function Ad(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=null==r.getRootNode||null==(n=r.getRootNode())?void 0:n.host}return!1}var kd={isTouch:!1},Od=0;function Cd(){kd.isTouch||(kd.isTouch=!0,window.performance&&document.addEventListener("mousemove",Pd))}function Pd(){var t=performance.now();t-Od<20&&(kd.isTouch=!1,document.removeEventListener("mousemove",Pd)),Od=t}function Id(){var t=document.activeElement;if(_d(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Rd=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Md={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ld=Object.assign({appendTo:sd,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Md,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),jd=Object.keys(Ld);function Dd(t){var e=(t.plugins||[]).reduce(function(e,r){var n,i=r.name,o=r.defaultValue;i&&(e[i]=void 0!==t[i]?t[i]:null!=(n=Ld[i])?n:o);return e},{});return Object.assign({},t,e)}function Nd(t,e){var r=Object.assign({},e,{content:ud(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Dd(Object.assign({},Ld,{plugins:e}))):jd).reduce(function(e,r){var n=(t.getAttribute("data-tippy-"+r)||"").trim();if(!n)return e;if("content"===r)e[r]=n;else try{e[r]=JSON.parse(n)}catch(t){e[r]=n}return e},{})}(t,e.plugins));return r.aria=Object.assign({},Ld.aria,r.aria),r.aria={expanded:"auto"===r.aria.expanded?e.interactive:r.aria.expanded,content:"auto"===r.aria.content?e.interactive?null:"describedby":r.aria.content},r}function Bd(t,e){t.innerHTML=e}function Fd(t){var e=yd();return!0===t?e.className=id:(e.className=od,gd(t)?e.appendChild(t):Bd(e,t)),e}function Ud(t,e){gd(e.content)?(Bd(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Bd(t,e.content):t.textContent=e.content)}function zd(t){var e=t.firstElementChild,r=vd(e.children);return{box:e,content:r.find(function(t){return t.classList.contains(rd)}),arrow:r.find(function(t){return t.classList.contains(id)||t.classList.contains(od)}),backdrop:r.find(function(t){return t.classList.contains(nd)})}}function Hd(t){var e=yd(),r=yd();r.className="tippy-box",r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=yd();function i(r,n){var i=zd(e),o=i.box,a=i.content,s=i.arrow;n.theme?o.setAttribute("data-theme",n.theme):o.removeAttribute("data-theme"),"string"==typeof n.animation?o.setAttribute("data-animation",n.animation):o.removeAttribute("data-animation"),n.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),r.content===n.content&&r.allowHTML===n.allowHTML||Ud(a,t.props),n.arrow?s?r.arrow!==n.arrow&&(o.removeChild(s),o.appendChild(Fd(n.arrow))):o.appendChild(Fd(n.arrow)):s&&o.removeChild(s)}return n.className=rd,n.setAttribute("data-state","hidden"),Ud(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props),{popper:e,onUpdate:i}}Hd.$$tippy=!0;var Gd=1,Yd=[],qd=[];function Vd(t,e){var r,n,i,o,a,s,c,l,u=Nd(t,Object.assign({},Ld,Dd(md(e)))),h=!1,f=!1,d=!1,p=!1,v=[],m=hd(W,u.interactiveDebounce),y=Gd++,g=(l=u.plugins).filter(function(t,e){return l.indexOf(t)===e}),b={id:y,reference:t,popper:yd(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(n),cancelAnimationFrame(i)},setProps:function(e){0;if(b.state.isDestroyed)return;M("onBeforeUpdate",[b,e]),q();var r=b.props,n=Nd(t,Object.assign({},r,md(e),{ignoreAttributes:!0}));b.props=n,Y(),r.interactiveDebounce!==n.interactiveDebounce&&(D(),m=hd(W,n.interactiveDebounce));r.triggerTarget&&!n.triggerTarget?fd(r.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):n.triggerTarget&&t.removeAttribute("aria-expanded");j(),R(),S&&S(r,n);b.popperInstance&&(X(),Q().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));M("onAfterUpdate",[b,e])},setContent:function(t){b.setProps({content:t})},show:function(){0;var t=b.state.isVisible,e=b.state.isDestroyed,r=!b.state.isEnabled,n=kd.isTouch&&!b.props.touch,i=cd(b.props.duration,0,Ld.duration);if(t||e||r||n)return;if(O().hasAttribute("disabled"))return;if(M("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,k()&&(w.style.visibility="visible");R(),U(),b.state.isMounted||(w.style.transition="none");if(k()){var o=P();Sd([o.box,o.content],0)}s=function(){var t;if(b.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,k()&&b.props.animation){var e=P(),r=e.box,n=e.content;Sd([r,n],i),Ed([r,n],"visible")}L(),j(),dd(qd,b),null==(t=b.popperInstance)||t.forceUpdate(),M("onMount",[b]),b.props.animation&&k()&&function(t,e){H(t,e)}(i,function(){b.state.isShown=!0,M("onShown",[b])})}},function(){var t,e=b.props.appendTo,r=O();t=b.props.interactive&&e===sd||"parent"===e?r.parentNode:ud(e,[r]);t.contains(w)||t.appendChild(w);b.state.isMounted=!0,X(),!1}()},hide:function(){0;var t=!b.state.isVisible,e=b.state.isDestroyed,r=!b.state.isEnabled,n=cd(b.props.duration,1,Ld.duration);if(t||e||r)return;if(M("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,h=!1,k()&&(w.style.visibility="hidden");if(D(),z(),R(!0),k()){var i=P(),o=i.box,a=i.content;b.props.animation&&(Sd([o,a],n),Ed([o,a],"hidden"))}L(),j(),b.props.animation?k()&&function(t,e){H(t,function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&e()})}(n,b.unmount):b.unmount()},hideWithInteractivity:function(t){0;C().addEventListener("mousemove",m),dd(Yd,m),m(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;J(),Q().forEach(function(t){t._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w);qd=qd.filter(function(t){return t!==b}),b.state.isMounted=!1,M("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),q(),delete t._tippy,b.state.isDestroyed=!0,M("onDestroy",[b])}};if(!u.render)return b;var _=u.render(b),w=_.popper,S=_.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,t._tippy=b,w._tippy=b;var E=g.map(function(t){return t.fn(b)}),T=t.hasAttribute("aria-expanded");return Y(),j(),R(),M("onCreate",[b]),u.showOnCreate&&tt(),w.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&C().addEventListener("mousemove",m)}),b;function x(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function A(){return"hold"===x()[0]}function k(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function O(){return c||t}function C(){var t=O().parentNode;return t?Td(t):document}function P(){return zd(w)}function I(t){return b.state.isMounted&&!b.state.isVisible||kd.isTouch||o&&"focus"===o.type?0:cd(b.props.delay,t?0:1,Ld.delay)}function R(t){void 0===t&&(t=!1),w.style.pointerEvents=b.props.interactive&&!t?"":"none",w.style.zIndex=""+b.props.zIndex}function M(t,e,r){var n;(void 0===r&&(r=!0),E.forEach(function(r){r[t]&&r[t].apply(r,e)}),r)&&(n=b.props)[t].apply(n,e)}function L(){var e=b.props.aria;if(e.content){var r="aria-"+e.content,n=w.id;fd(b.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(r);if(b.state.isVisible)t.setAttribute(r,e?e+" "+n:n);else{var i=e&&e.replace(n,"").trim();i?t.setAttribute(r,i):t.removeAttribute(r)}})}}function j(){!T&&b.props.aria.expanded&&fd(b.props.triggerTarget||t).forEach(function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===O()?"true":"false"):t.removeAttribute("aria-expanded")})}function D(){C().removeEventListener("mousemove",m),Yd=Yd.filter(function(t){return t!==m})}function N(e){if(!kd.isTouch||!d&&"mousedown"!==e.type){var r=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!Ad(w,r)){if(fd(b.props.triggerTarget||t).some(function(t){return Ad(t,r)})){if(kd.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else M("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),f=!0,setTimeout(function(){f=!1}),b.state.isMounted||z())}}}function B(){d=!0}function F(){d=!1}function U(){var t=C();t.addEventListener("mousedown",N,!0),t.addEventListener("touchend",N,ad),t.addEventListener("touchstart",F,ad),t.addEventListener("touchmove",B,ad)}function z(){var t=C();t.removeEventListener("mousedown",N,!0),t.removeEventListener("touchend",N,ad),t.removeEventListener("touchstart",F,ad),t.removeEventListener("touchmove",B,ad)}function H(t,e){var r=P().box;function n(t){t.target===r&&(xd(r,"remove",n),e())}if(0===t)return e();xd(r,"remove",a),xd(r,"add",n),a=n}function G(e,r,n){void 0===n&&(n=!1),fd(b.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,r,n),v.push({node:t,eventType:e,handler:r,options:n})})}function Y(){var t;A()&&(G("touchstart",V,{passive:!0}),G("touchend",$,{passive:!0})),(t=b.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(G(t,V),t){case"mouseenter":G("mouseleave",$);break;case"focus":G(Rd?"focusout":"blur",K);break;case"focusin":G("focusout",K)}})}function q(){v.forEach(function(t){var e=t.node,r=t.eventType,n=t.handler,i=t.options;e.removeEventListener(r,n,i)}),v=[]}function V(t){var e,r=!1;if(b.state.isEnabled&&!Z(t)&&!f){var n="focus"===(null==(e=o)?void 0:e.type);o=t,c=t.currentTarget,j(),!b.state.isVisible&&bd(t)&&Yd.forEach(function(e){return e(t)}),"click"===t.type&&(b.props.trigger.indexOf("mouseenter")<0||h)&&!1!==b.props.hideOnClick&&b.state.isVisible?r=!0:tt(t),"click"===t.type&&(h=!r),r&&!n&&et(t)}}function W(t){var e=t.target,r=O().contains(e)||w.contains(e);if("mousemove"!==t.type||!r){var n=Q().concat(w).map(function(t){var e,r=null==(e=t._tippy.popperInstance)?void 0:e.state;return r?{popperRect:t.getBoundingClientRect(),popperState:r,props:u}:null}).filter(Boolean);(function(t,e){var r=e.clientX,n=e.clientY;return t.every(function(t){var e=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=pd(i.placement),s=i.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,h="left"===a?s.right.x:0,f=e.top-n+c>o,d=n-e.bottom-l>o,p=e.left-r+u>o,v=r-e.right-h>o;return f||d||p||v})})(n,t)&&(D(),et(t))}}function $(t){Z(t)||b.props.trigger.indexOf("click")>=0&&h||(b.props.interactive?b.hideWithInteractivity(t):et(t))}function K(t){b.props.trigger.indexOf("focusin")<0&&t.target!==O()||b.props.interactive&&t.relatedTarget&&w.contains(t.relatedTarget)||et(t)}function Z(t){return!!kd.isTouch&&A()!==t.type.indexOf("touch")>=0}function X(){J();var e=b.props,r=e.popperOptions,n=e.placement,i=e.offset,o=e.getReferenceClientRect,a=e.moveTransition,c=k()?zd(w).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||O()}:t,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(k()){var r=P().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?r.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?r.setAttribute("data-"+t,""):r.removeAttribute("data-"+t)}),e.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},u];k()&&c&&h.push({name:"arrow",options:{element:c,padding:3}}),h.push.apply(h,(null==r?void 0:r.modifiers)||[]),b.popperInstance=ed(l,w,Object.assign({},r,{placement:n,onFirstUpdate:s,modifiers:h}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return vd(w.querySelectorAll("[data-tippy-root]"))}function tt(t){b.clearDelayTimeouts(),t&&M("onTrigger",[b,t]),U();var e=I(!0),n=x(),i=n[0],o=n[1];kd.isTouch&&"hold"===i&&o&&(e=o),e?r=setTimeout(function(){b.show()},e):b.show()}function et(t){if(b.clearDelayTimeouts(),M("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&h)){var e=I(!1);e?n=setTimeout(function(){b.state.isVisible&&b.hide()},e):i=requestAnimationFrame(function(){b.hide()})}}else z()}}function Wd(t,e){void 0===e&&(e={});var r=Ld.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Cd,ad),window.addEventListener("blur",Id);var n=Object.assign({},e,{plugins:r}),i=wd(t).reduce(function(t,e){var r=e&&Vd(e,n);return r&&t.push(r),t},[]);return gd(t)?i[0]:i}Wd.defaultProps=Ld,Wd.setDefaultProps=function(t){Object.keys(t).forEach(function(e){Ld[e]=t[e]})},Wd.currentInput=kd;Object.assign({},Nf,{effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow)}});Wd.setDefaultProps({render:Hd});const $d=Wd;function Kd(t){return Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(t)}function Zd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xd(n.key),n)}}function Xd(t){var e=function(t,e){if("object"!=Kd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Kd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kd(e)?e:e+""}var Jd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Zd(t.prototype,e),r&&Zd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"set",value:function(t){$d(t,{arrow:!0,theme:"custom",animation:"shift-away-subtle",placement:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto"})}},{key:"showOnceOnMouseEnter",value:function(e,r){var n,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;Array.isArray(e)?(i=e[0],e=e[1]):i=document.querySelector(e);var c=localStorage.getItem("tippy_mouseenter_".concat(e));if(!(o&&null!==c&&parseInt(c)>=s))return null!==(n=t.cache.instance)&&void 0!==n&&n[e]||(t.cache.instance[e]={nbTimeTriggered:0,mouseEnter:null,mouseLeave:null,enabled:!0}),$d(i,{arrow:!0,content:r,theme:"custom",animation:"shift-away-subtle",duration:[150,150],placement:a,trigger:"mouseenter",allowHTML:!0,onTrigger:function(r,n){t.cache.instance[e].enabled&&(t.cache.instance[e].mouseEnter=new Date,t.cache.instance[e].nbTimeTriggered+=1)},onUntrigger:function(r,n){t.cache.instance[e].enabled&&(t.cache.instance[e].mouseLeave=new Date,t.cache.instance[e].nbTimeTriggered>0&&t.cache.instance[e].mouseEnter&&t.cache.instance[e].mouseLeave&&t.cache.instance[e].mouseLeave-t.cache.instance[e].mouseEnter>=800&&(t.cache.instance[e].enabled=!1,r.disable(),o&&(null===c&&(c=0),localStorage.setItem("tippy_mouseenter_".concat(e),String(parseInt(c)+1))),t.disableBySelector(e)))}})}},{key:"show",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"custom";if("string"==typeof t)t=document.querySelector(t);else if("object"!==Kd(t))return;document.querySelectorAll(".js-tippy").forEach(function(t){void 0!==t._tippy&&t._tippy.destroy()});var a={arrow:!0,content:e,theme:o,animation:"shift-away-subtle",duration:[150,150],placement:r,hideOnClick:!1,trigger:"manual",allowHTML:!0,interactive:i,onCreate:function(t){i&&t.popper.classList.add("interactive")},onHidden:function(e){e.destroy(),t.classList.remove("js-tippy")}},s=$d(t,a);return t.classList.add("js-tippy"),s.show(),n>0&&setTimeout(function(){void 0!==t._tippy&&s.hide()},n),s}},{key:"showOnMouseEnter",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"custom";if("string"==typeof t)t=document.querySelector(t);else if("object"!==Kd(t)||!t)return;t._tippy&&t._tippy.destroy();var o={arrow:!0,content:e,theme:i,animation:"shift-away-subtle",duration:[150,150],placement:r,trigger:"mouseenter",allowHTML:!0,interactive:n,onCreate:function(t){n&&t.popper.classList.add("interactive")}},a=$d(t,o);return t.classList.add("js-tippy"),a}},{key:"disableBySelector",value:function(t){document.querySelectorAll(t).forEach(function(t){t._tippy&&t._tippy.disable()})}}])}();!function(t,e,r){(e=Xd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Jd,"cache",{instance:{}});const Qd=Jd;function tp(t){return tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(t)}function ep(t){return function(t){if(Array.isArray(t))return op(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ip(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||ip(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function np(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ip(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ip(t,e){if(t){if("string"==typeof t)return op(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?op(t,e):void 0}}function op(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ap(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sp(n.key),n)}}function sp(t){var e=function(t,e){if("object"!=tp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tp(e)?e:e+""}var cp=function(){return function(t,e,r){return e&&ap(t.prototype,e),r&&ap(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._race=1,this._raceSelectType="auto",this._board=null,this._parsedTable=null,this._isRanked=!0,this._tableParser=new Tl,this._alertDialog=new On,this._sortable=null,this._raceChoices=null,this._subscribeElements()},[{key:"_selectors",get:function(){return{item:".js-edit-scores-item",position:".js-edit-scores-player-position",name:".js-edit-scores-player-name",penalty:".js-edit-scores-player-penalty",race:".js-race-select",raceChoices:"#edit-scores-modal .choices"}}},{key:"_subscribeElements",value:function(){this._elements={textarea:document.querySelector(".js-scores-table"),race:document.querySelector(".js-race-select"),playersList:document.querySelector(".js-players-list"),editScores:document.querySelector(".js-edit-scores"),apply:document.querySelector(".js-edit-scores-apply"),editScoresModal:document.querySelector("#edit-scores-modal"),penaltyModal:document.querySelector("#edit-scores-penalty-options-modal")}}},{key:"setRace",value:function(t){if("auto"===t){if(!this._parsedTable)return this._raceSelectType="auto",this._race=this._getAutomaticRaceNumber(),this;if(this._canUseAutomaticRaceMode())return this._raceSelectType="auto",this._race=this._getAutomaticRaceNumber(),this;this._raceSelectType="manual",this._race=1}else this._raceSelectType="manual",this._race=parseInt(t,10);return this}},{key:"setBoard",value:function(t){return this._board=t,this}},{key:"setParsedTable",value:function(t){return this._parsedTable=t,this}},{key:"setIsRanked",value:function(t){return this._isRanked=t,this}},{key:"loadControls",value:function(){this._raceChoices||this._initRaceChoices(),this._fillRaceChoices("auto"===this._raceSelectType?"auto":String(this._race));var t=this._getPlayers();if(t){this._elements.playersList.innerHTML="";var e,r=np(t.entries());try{for(r.s();!(e=r.n()).done;){var n=rp(e.value,2)[1],i=document.createElement("li");i.className="js-edit-scores-item list-group-item d-flex align-items-center draggable",i.dataset.value=n.name,i.innerHTML='\n      <span class="position js-edit-scores-player-position">'.concat(this._getPositionLabel(n.positions[this._race-1]),'</span>\n      <span class="name js-edit-scores-player-name flex-grow-1">').concat(this._getPlayerName(n.name,16),'</span>\n      <span class="penalty js-edit-scores-player-penalty">[P]</span>\n    '),this._setPlayerListeners(i),this._elements.playersList.appendChild(i)}}catch(t){r.e(t)}finally{r.f()}this._setTippyTooltips(),this._sortable||this._initSortable();var o=tc().getInstance(this._elements.editScoresModal)||new(tc())(this._elements.editScoresModal);this._elements.editScoresModal.classList.contains("show")||o.show()}}},{key:"closeControls",value:function(){(tc().getInstance(this._elements.editScoresModal)||new(tc())(this._elements.editScoresModal)).hide()}},{key:"applyChanges",value:function(){var t=this,e=this._elements.race.value;if(this.setRace(e),isNaN(this._race)||this._race<1)return!1;var r=[];ep(this._elements.playersList.querySelectorAll("li")).forEach(function(e){if("0"===e.querySelector(t._selectors.penalty).textContent.trim()){var n=e.querySelector(t._selectors.position),i=parseInt(n.textContent,10);r.push(isNaN(i)?999:i)}});var n={};ep(this._elements.playersList.querySelectorAll("li")).forEach(function(e){var i=e.dataset.value,o=e.querySelector(t._selectors.position),a=e.querySelector(t._selectors.penalty).textContent.trim(),s=parseInt(o.textContent,10);if((isNaN(s)||"0"===a)&&(s=999),999!==s&&r.length>0){var c,l=0,u=np(r.entries());try{for(u.s();!(c=u.n()).done;){s>rp(c.value,2)[1]&&l++}}catch(t){u.e(t)}finally{u.f()}s-=l}var h=t._getScoreByPosition(s),f=0;if("0"===a);else if("[P]"===a);else{var d=parseInt(a,10);isNaN(d)||(f=d)}n[i]={score:h,penalty:f}});var i,o=this._getTableLines(),a=!1,s=np(o.entries());try{for(s.s();!(i=s.n()).done;){var c=rp(i.value,2),l=c[0],u=c[1];if(this._tableParser.isPlayerLine(u)){var h,f,d=this._tableParser.getPlayerData(u);if(!d)continue;var p="".concat(d.name," ");for(p+=d.flag.length>0?"[".concat(d.flag,"] "):"";d.scores.length<=this._race-1;)d.scores.push(0);var v=ep(d.scores);v[this._race-1]=null!==(h=null==n?void 0:n[d.name].score)&&void 0!==h?h:0,p+=v.join("|");var m=0===d.penalty?0:-Math.abs(d.penalty);p+=(m+=null!==(f=null==n?void 0:n[d.name].penalty)&&void 0!==f?f:0)<0?"".concat(m):"",p+=d.boardRatingCustom>0?" r".concat(d.boardRatingCustom):"",o[l]=p,d.scores.reduce(function(t,e){return t+e},0)===v.reduce(function(t,e){return t+e},0)&&Math.abs(d.penalty)===Math.abs(m)||(a=!0)}}}catch(t){s.e(t)}finally{s.f()}if(!a)return!1;var y=Tl.normalize(o.join("\n"));return this._elements.textarea.value=y,!0}},{key:"_setPlayerListeners",value:function(t){var e,r,n=this,i=!1,o=!1,a=t.querySelector(this._selectors.name);a.addEventListener("mousedown",function(t){0===t.button&&(o=!0,i=!1,e=t.clientX,r=t.clientY)}),a.addEventListener("mousemove",function(t){0===t.button&&(i||o&&(Math.abs(t.clientX-e)>5||Math.abs(t.clientY-r)>5)&&(i=!0))}),a.addEventListener("mouseup",function(e){if(0===e.button){if(o&&!i)return Qd.show(t,"Drag and drop to set race positions.","top",1500),void n._alertDialog.show("How to use",{selector:".js-edit-scores-help-alert-dialog",type:On.TYPE_NONE,triggerType:On.TRIGGER_TYPE_INSTANT,animationTime:2e3});o=!1,i=!1}}),t.querySelector(this._selectors.position).addEventListener("click",function(){n._onTieClick(t)}),t.querySelector(this._selectors.penalty).addEventListener("click",function(){n._onPenaltyClick(t)})}},{key:"_onTieClick",value:function(t){var e=t.closest(".js-players-list"),r=Array.from(e.querySelectorAll("li")),n=r.indexOf(t);if(0===n)return Qd.show(t.querySelector(this._selectors.position),'To tie with first place, click on the "2nd" place text below.',"top",2e3),void this._alertDialog.show("How to use",{selector:".js-edit-scores-help-alert-dialog",type:On.TYPE_NONE,triggerType:On.TRIGGER_TYPE_INSTANT,animationTime:1250});var i=this._getPosition(t),o=this._getPosition(r[n-1]);i===o||this._setPosition(t,o);for(var a=n;a<r.length;a++)this._getPosition(r[a])===i&&this._setPosition(r[a],a+1)}},{key:"_onPenaltyClick",value:function(t){var e=t.querySelector(this._selectors.name).innerText,r=t.querySelector(this._selectors.penalty),n=this._elements.penaltyModal.querySelector(".js-penalties");this._elements.penaltyModal.querySelector(".js-penalty-options-player-name").textContent=e,n.innerHTML="";var i=tc().getInstance(this._elements.penaltyModal)||new(tc())(this._elements.penaltyModal);[-10,-8,-6,-5,-4,-3,-2,0,"[P]"].forEach(function(t){var e=0===t;if(e){var o=document.createElement("hr");o.style.margin="0",n.appendChild(o),(o=document.createElement("hr")).style.margin="4px 0 0 0",n.appendChild(o)}var a=document.createElement("li");a.className="list-group-item d-flex align-items-center",a.style.cursor="pointer",e&&(a.style.border="none"),a.textContent=0===t?"Zero points":"[P]"===t?"No penalty":"".concat(t," points"),a.addEventListener("click",function(){r.textContent=0===t?"0":""===t?t:"".concat(t),i.hide()}),n.appendChild(a)}),i.show()}},{key:"_setTippyTooltips",value:function(){if(!Js.isTouchDevice()){Qd.showOnceOnMouseEnter(this._selectors.raceChoices,"Pick a race to edit scores for.<br>Auto = selects the first race without scores.<br>You can paste track names at the bottom of the results field to label races.",!0,"top");var t,e=np(Array.from(this._elements.playersList.querySelectorAll("li")).entries());try{for(e.s();!(t=e.n()).done;){var r=rp(t.value,2),n=(r[0],r[1]);Qd.showOnceOnMouseEnter([n.querySelector(this._selectors.position),this._selectors.position],"Click to tie or untie with the player above.",!0,"right"),Qd.showOnceOnMouseEnter([n.querySelector(this._selectors.name),this._selectors.name],"Drag and drop to set race positions.",!0,"top"),Qd.showOnceOnMouseEnter([n.querySelector(this._selectors.penalty),this._selectors.penalty],"Click to apply a penalty or zero points.",!0,"left")}}catch(t){e.e(t)}finally{e.f()}}}},{key:"_initRaceChoices",value:function(){var t=this;this._raceChoices=new Es(this._elements.race,{searchEnabled:!1,itemSelectText:"",shouldSort:!1,placeholder:!1}),this._raceChoices.passedElement.element.addEventListener("showDropdown",function(){t._raceChoices.containerOuter.element.querySelectorAll(".choices__item--choice").forEach(function(t){return t.classList.remove("is-highlighted")})}),this._raceChoices.passedElement.element.addEventListener("choice",function(e){t.setRace(e.detail.value).loadControls()})}},{key:"_fillRaceChoices",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this._raceChoices.getValue(!0));var r=[].concat(ep(this._canUseAutomaticRaceMode()?[{value:"auto",label:this._getTrackName("auto")}]:[]),ep(Array.from({length:this._getTrackCount()},function(e,r){return{value:String(r+1),label:t._getTrackName(r+1)}})));!e&&r.length&&(e=r[0].value),this._raceChoices.removeActiveItems(),this._raceChoices.clearChoices(),this._raceChoices.setChoices(r,"value","label",!0),requestAnimationFrame(function(){t._raceChoices.setChoiceByValue(e),t._raceChoices.containerOuter.element.querySelectorAll(".choices__item--choice").forEach(function(t){return t.classList.remove("is-highlighted")})})}},{key:"_initSortable",value:function(){var t=this,e=null,r=null;this._sortable=zh.create(this._elements.playersList,{forceFallback:!0,animation:150,direction:"vertical",handle:this._selectors.name,onChange:function(n){var i=Array.from(t._elements.playersList.querySelectorAll("li"));null===e&&null===r?(e=n.oldIndex,r=n.newIndex):n.newIndex!==r&&(e=r,r=n.newIndex);var o=n.item,a=i.indexOf(o)+1,s=i[e],c=i.indexOf(s)+1;t._setPosition(s,c),t._setPosition(o,a),t._elements.playersList.querySelectorAll(".draggable").forEach(function(e,r){if(e!==o&&e!==s){var n=t._getPosition(e);n!==a&&n!==c||(e.querySelector(t._selectors.position).textContent=t._getPositionLabel(r+1))}})},onEnd:function(t){e=null,r=null}})}},{key:"_getTrackCount",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(!this._isRanked){var r,n=np(this._getPlayers().entries());try{for(n.s();!(r=n.n()).done;){var i=rp(r.value,2)[1];i.scores.length>e&&(e=i.scores.length)}}catch(t){n.e(t)}finally{n.f()}}var o=e;if(!this._parsedTable)return o;var a=null===(t=this._board)||void 0===t?void 0:t.game_modes;if(!a)return o;var s,c=np(a.entries());try{for(c.s();!(s=c.n()).done;){var l=rp(s.value,2),u=(l[0],l[1]);if(u.id===this._parsedTable.id_game_mode){o=u.track_count;break}}}catch(t){c.e(t)}finally{c.f()}return!this._isRanked&&e>o&&(o=e),o}},{key:"_getScoreByPosition",value:function(t){var e,r;if(!this._parsedTable)return 0;if(999===t)return 0;var n=null===(e=this._board)||void 0===e?void 0:e.game_modes;if(!n)return 0;var i,o=null,a=np(n.entries());try{for(a.s();!(i=a.n()).done;){var s=rp(i.value,2),c=(s[0],s[1]);if(c.id===this._parsedTable.id_game_mode){o=c;break}}}catch(t){a.e(t)}finally{a.f()}if(!o)return 0;var l=o.points.split(",").map(Number);if(0===l.length)return 0;var u=null!==(r=null==l?void 0:l[t-1])&&void 0!==r?r:0,h=this._getPlayers().length;return h<o.max_players&&(u-=o.max_players-h),!this._isRanked&&h>o.max_players&&(u+=h-o.max_players),u}},{key:"_getAutomaticRaceNumber",value:function(){var t=this._getPlayers();if(!t)return 1;for(var e,r=function(e){if(t.every(function(t){var r;return 0===(null!==(r=t.scores[e])&&void 0!==r?r:0)}))return{v:e+1}},n=0;n<this._getTrackCount();n++)if(e=r(n))return e.v;return 1}},{key:"_canUseAutomaticRaceMode",value:function(){var t=this._getPlayers();if(!t)return!1;for(var e,r=function(e){if(t.every(function(t){var r;return 0===(null!==(r=t.scores[e])&&void 0!==r?r:0)}))return{v:!0}},n=0;n<this._getTrackCount();n++)if(e=r(n))return e.v;return!1}},{key:"_getTable",value:function(){return Tl.normalize(this._elements.textarea.value)}},{key:"_getTableLines",value:function(){return this._getTable().split(/\r?\n/)}},{key:"_getPosition",value:function(t){return parseInt(t.querySelector(this._selectors.position).textContent,10)}},{key:"_setPosition",value:function(t,e){t.querySelector(this._selectors.position).textContent=this._getPositionLabel(e)}},{key:"_getPositionLabel",value:function(t){var e="th";return 1===t?e="st":2===t?e="nd":3===t&&(e="rd"),t+e}},{key:"_getPlayers",value:function(){var t=this;if(!this._getTable())return[];var e,r=[],n=np(this._getTableLines());try{for(n.s();!(e=n.n()).done;){var i=e.value;if(this._tableParser.isPlayerLine(i)){var o=this._tableParser.getPlayerData(i);if(!o)continue;o.positions=[],r.push(o)}}}catch(t){n.e(t)}finally{n.f()}if(!r.length)return r;for(var a=Math.max.apply(Math,ep(r.map(function(t){return t.scores.length}))),s=function(t){if(r.map(function(e){var r;return null!==(r=e.scores[t])&&void 0!==r?r:0}).every(function(t){return 0===t}))return r.forEach(function(e,r){e.positions[t]=r+1}),1;for(var e=[].concat(r).sort(function(e,r){var n,i,o=null!==(n=e.scores[t])&&void 0!==n?n:0;return(null!==(i=r.scores[t])&&void 0!==i?i:0)-o}),n=1,i=0;i<e.length;i++)if(0===i)e[i].positions[t]=n;else{var o,a,s=null!==(o=e[i-1].scores[t])&&void 0!==o?o:0;(null!==(a=e[i].scores[t])&&void 0!==a?a:0)===s?e[i].positions[t]=e[i-1].positions[t]:(n=i+1,e[i].positions[t]=n)}},c=0;c<a;c++)s(c);return this._race&&r.sort(function(e,r){var n,i,o=null!==(n=e.scores[t._race-1])&&void 0!==n?n:0;return(null!==(i=r.scores[t._race-1])&&void 0!==i?i:0)-o}),r}},{key:"_getPlayerName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return Array.from(t).length>e?ep(t).slice(0,e-3).join("")+"...":t}},{key:"_getTrackName",value:function(t){var e="auto"===t?this._getAutomaticRaceNumber():t,r=this._parsedTable.tracks.length>0,n=this._parsedTable&&void 0!==this._parsedTable.tracks[e-1];return"auto"!==t||n?"auto"===t&&n?"Auto (".concat(e,". ").concat(this._parsedTable.tracks[e-1],")"):n||r?!n&&r?"".concat(e,". Race #").concat(e):"".concat(e,". ").concat(this._parsedTable.tracks[e-1]):"Race #".concat(e):"Auto (Race #".concat(e,")")}}])}();const lp=cp;r(86032);function up(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fp(t){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(t)}function dp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pp(n.key),n)}}function pp(t){var e=function(t,e){if("object"!=fp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fp(e)?e:e+""}var vp=function(){return function(t,e,r){return e&&dp(t.prototype,e),r&&dp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"getParamer",value:function(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):null}},{key:"removeParameters",value:function(t){var e=window.location.href,r=new URLSearchParams(window.location.search);Array.isArray(t)?t.forEach(function(t){r.delete(t)}):"object"===fp(t)&&Object.keys(t).forEach(function(t){r.delete(t)});var n=e.split("?")[0]+(r.toString()?"?"+r.toString():"");window.history.replaceState({path:n},"",n)}},{key:"addParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=window.location.href,r=new URLSearchParams(window.location.search);if(0===Object.keys(t).length&&t.constructor===Object);else{var n="table";if(null!=t&&t[n]){var i=t[n];delete t[n];var o=new URLSearchParams;o.set(n,i),r.forEach(function(t,e){e!==n&&o.append(e,t)}),Object.entries(t).forEach(function(t){var e=up(t,2),r=e[0],n=e[1];o.append(r,n)}),r=o}else Object.entries(t).forEach(function(t){var e=up(t,2),n=e[0],i=e[1];r.has(n)?r.set(n,i):r.append(n,i)})}var a=e.split("?")[0]+"?"+r.toString();window.history.replaceState({path:a},"",a)}}])}();const mp=vp;function yp(t){return yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(t)}function gp(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return bp(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(bp(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,bp(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,bp(h,"constructor",l),bp(l,"constructor",c),c.displayName="GeneratorFunction",bp(l,i,"GeneratorFunction"),bp(h),bp(h,i,"Generator"),bp(h,n,function(){return this}),bp(h,"toString",function(){return"[object Generator]"}),(gp=function(){return{w:o,m:f}})()}function bp(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}bp=function(t,e,r,n){function o(e,r){bp(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},bp(t,e,r,n)}function _p(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function wp(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){_p(o,n,i,a,s,"next",t)}function s(t){_p(o,n,i,a,s,"throw",t)}a(void 0)})}}function Sp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ep(n.key),n)}}function Ep(t){var e=function(t,e){if("object"!=yp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yp(e)?e:e+""}var Tp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Sp(t.prototype,e),r&&Sp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"until",value:(r=wp(gp().m(function e(r){var n,i=arguments;return gp().w(function(e){for(;;)switch(e.n){case 0:n=i.length>1&&void 0!==i[1]?i[1]:60;case 1:if(r()){e.n=3;break}return e.n=2,t.for(n);case 2:e.n=1;break;case 3:return e.a(2)}},e)})),function(t){return r.apply(this,arguments)})},{key:"while",value:(e=wp(gp().m(function e(r){var n,i=arguments;return gp().w(function(e){for(;;)switch(e.n){case 0:n=i.length>1&&void 0!==i[1]?i[1]:60;case 1:if(!r()){e.n=3;break}return e.n=2,t.for(n);case 2:e.n=1;break;case 3:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})},{key:"for",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}}]);var e,r}();const xp=Tp;function Ap(t){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(t)}function kp(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return Op(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,c=t,f.n=r,a}};function d(r,n){for(s=r,c=n,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,f.v=n,f.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw h=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:r.call(n,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(Op(e={},n,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Op(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Op(h,"constructor",l),Op(l,"constructor",c),c.displayName="GeneratorFunction",Op(l,i,"GeneratorFunction"),Op(h),Op(h,i,"Generator"),Op(h,n,function(){return this}),Op(h,"toString",function(){return"[object Generator]"}),(kp=function(){return{w:o,m:f}})()}function Op(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Op=function(t,e,r,n){function o(e,r){Op(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Op(t,e,r,n)}function Cp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Pp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cp(Object(r),!0).forEach(function(e){Bp(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ip(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=jp(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Rp(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Mp(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Rp(o,n,i,a,s,"next",t)}function s(t){Rp(o,n,i,a,s,"throw",t)}a(void 0)})}}function Lp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||jp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jp(t,e){if(t){if("string"==typeof t)return Dp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dp(t,e):void 0}}function Dp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Np(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fp(n.key),n)}}function Bp(t,e,r){return(e=Fp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fp(t){var e=function(t,e){if("object"!=Ap(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ap(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ap(e)?e:e+""}var Up=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ii.acquire("preloader"),ii.acquire("data"),this._appStart={createdAt:new Date,preloader:1e3,status:"starting",data:"none"},this._appStart.preloader>0&&setTimeout(function(){ii.done("preloader",!0)},this._appStart.preloader),this._table={parsed:null,status:Tl.STATUS_EMPTY,status_before_calculation:Tl.STATUS_EMPTY,template:"",templateV1:"",src:""},this._submittedMatch={active:!1,exists:!1,parsed:null,disabled:[],time:{started_at:null,ended_at:null,perceptual_minimum:200}},this._presets={selected:null,choices:null},this._data={processing:!1,boards:{ranked:{},custom:{}},resultsSubmissions:[]},this._calculation={processing:!1,time:{started_at:null,ended_at:null,perceptual_minimum:200},error:""},this._timeouts={scroll:null,resize:null,bubble:{timeout:null,processing:!1},textarea:{resizeRAF:{timeout:null,width:0}},table:{displaying:!1,calculating:null,resizeRAF:{timeout:null,width:0}}},this._isSmallScreen=window.innerWidth<1082,this._canvas=new Xi,this._tableGenerator=new zi,this._alertDialog=new On,this._encryption=new tn,this._tableParser=new Tl,Gs.addEventListener("app:start:failed",this._onAppStartFailed.bind(this))}return function(t,e,r){return e&&Np(t.prototype,e),r&&Np(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_selectors",get:function(){return{appStartAlertModal:"#app-start-alert-modal",appTryAgain:".js-try-again",contextMenuModal:"#context-menu-modal",contextMenuDownload:".js-context-menu-download",contextMenuView:".js-context-menu-view",contextMenuEditScores:".js-context-menu-edit",copyImage:".js-copy-image",copyTable:".js-copy-table-data",copyTableText:".js-copy-table-data-text",copyTableLobby:".js-copy-table-data-lobby",customBoardCalculation:".js-use-board-calculation-off",customPresets:".js-custom-presets",downloadImage:".js-download-image",editScores:".js-edit-scores",editScoresApply:".js-edit-scores-apply",editScoresHelpModal:"#edit-scores-help-modal",editScoresModal:"#edit-scores-modal",editScoresRaceSelect:".js-race-select",editScoresShowHelpModal:".js-edit-scores-help-show-modal",howToUseModal:"#how-to-use-modal",canvasPreloader:".js-canvas-preloader",presetConfirmModal:"#preset-confirm-modal",presetConfirmModalYes:".js-preset-confirm-modal-yes",presets:".js-presets",rankedBoardCalculation:".js-use-board-calculation-on",scoresAlert:".js-scores-alert-dialog",scrollBubbles:".js-scroll-bubble",scrollBubbleImage:".js-scroll-bubble-image",showHowToUseModal:".js-how-to-use-modal-show",showTableFormattingModal:".js-table-formatting-modal-show",submittedMatchAlertWrapperXS:".js-match-alert-wrapper-xs",submittedMatchSwitch:".js-submitted-match-switch",tableCanvas:".js-table-canvas",tableFormattingModal:"#table-formatting-modal",textarea:".js-scores-table",textareaClone:".js-scores-table-clone",collapseButton:'[data-bs-toggle="collapse"]'}}},{key:"subscribeElements",value:function(){this._elements={};for(var t=0,e=Object.entries(this._selectors);t<e.length;t++){var r=Lp(e[t],2),n=r[0],i=r[1],o=document.querySelectorAll(i);0!==o.length&&(1!==o.length?this._elements[n]=o:this._elements[n]=o[0])}}},{key:"loadData",value:(S=Mp(kp().m(function t(){var e,r=this;return kp().w(function(t){for(;;)switch(t.n){case 0:if(e=function(){var t=Mp(kp().m(function t(){var e,n,i,o,a,s,c,l,u,h,f,d,p;return kp().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,"failed"!==window.appData){t.n=1;break}throw new Error("App data failed to load.");case 1:if(e=r._encryption.decryptPackerGZ(window.appData,!0)){t.n=2;break}throw new Error("App data decryption failed.");case 2:if((n=e[0]).length>0){i=Ip(r._mapBoardsManually(n).entries());try{for(i.s();!(o=i.n()).done;)(a=Lp(o.value,2))[0],s=a[1],r._data.boards.ranked[s.id]=s,r._data.boards.custom[s.id]={id:s.id,name:s.name,code:s.code,lobby_type:Pp({},s.lobby_type),game_modes:s.game_modes.map(function(t){return Pp(Pp({},t),{},{rating_scheme:Pp({},t.rating_scheme)})}),rating_settings:Pp({},s.rating_settings),tiers:s.tiers.map(function(t){return Pp({},t)}),players:[],matches:[]}}catch(t){i.e(t)}finally{i.f()}}c=e[1],l=Ip(c.entries());try{for(l.s();!(u=l.n()).done;)h=Lp(u.value,2),f=h[1],r._data.resultsSubmissions.push({content:f[0],datetime:f[1]})}catch(t){l.e(t)}finally{l.f()}hn.appDataLastModified=window.appDataLastModified,t.n=4;break;case 3:t.p=3,p=t.v,hn.logError("ScoresCalculationController.initializeAppData: ".concat(p.message),"fatal");case 4:return t.p=4,window.appData=null,window.appDataLastModified=null,(d=Object.keys(r._data.boards.ranked).length>0)||(r._appStart.data="failed",r._appStart.status="failed",Gs.dispatch("app:start:failed")),d&&(r._appStart.data="ok"),ii.done("data",!0),t.f(4);case 5:return t.a(2)}},t,null,[[0,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),"string"!=typeof window.appData){t.n=1;break}return e(),t.a(2);case 1:document.addEventListener("data:ready",e);case 2:return t.a(2)}},t)})),function(){return S.apply(this,arguments)})},{key:"fetchAppDataAndCalculate",value:(w=Mp(kp().m(function t(){var e=this;return kp().w(function(t){for(;;)switch(t.n){case 0:if(!document.hidden){t.n=1;break}return t.a(2);case 1:if(!this._data.processing){t.n=2;break}return t.a(2);case 2:this._data.processing=!0,this.fetchAppData().then(function(t){t&&e._isRanked()&&!e._submittedMatch.active&&e._getTable(!0)&&e._calculate().catch(function(t){return t})}).catch(function(t){return hn.logError("ScoresCalculationController.fetchDataFromApi: ".concat(t.message))}).finally(Mp(kp().m(function t(){return kp().w(function(t){for(;;)switch(t.n){case 0:e._data.processing=!1;case 1:return t.a(2)}},t)})));case 3:return t.a(2)}},t,this)})),function(){return w.apply(this,arguments)})},{key:"fetchAppData",value:(_=Mp(kp().m(function t(){var e,r,n,i,o,a,s,c,l,u,h,f,d,p,v;return kp().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,hn.getBoardsAndResultsSubmissions();case 1:if(e=t.v,0!==Object.keys(e).length){t.n=2;break}return t.a(2,!1);case 2:r={},n=Ip(this._mapBoardsManually(e.boards).entries());try{for(n.s();!(i=n.n()).done;)o=Lp(i.value,2),a=o[1],r[a.id]=a}catch(t){n.e(t)}finally{n.f()}s=[],c=Ip(e.resultsSubmissions.entries());try{for(c.s();!(l=c.n()).done;)u=Lp(l.value,2),h=u[1],s.push({content:h[0],datetime:h[1]})}catch(t){c.e(t)}finally{c.f()}for(this._data.boards.ranked=r,f=0,d=Object.entries(r);f<d.length;f++)p=Lp(d[f],2),v=p[1],this._data.boards.custom[v.id]={id:v.id,name:v.name,code:v.code,lobby_type:Pp({},v.lobby_type),game_modes:v.game_modes.map(function(t){return Pp(Pp({},t),{},{rating_scheme:Pp({},t.rating_scheme)})}),rating_settings:Pp({},v.rating_settings),tiers:v.tiers.map(function(t){return Pp({},t)}),players:[],matches:[]};return this._data.resultsSubmissions=s,t.a(2,!0)}},t,this)})),function(){return _.apply(this,arguments)})},{key:"_mapBoardsManually",value:function(t){return t.map(function(t){return{id:t[0],name:t[1],code:t[2],lobby_type:{id:t[3][0],code:t[3][1]},rating_settings:{rating_average_by_team:t[4][0],rating_min:t[4][1]},game_modes:t[5].map(function(t){return{id:t[0],name:t[1],code:t[2],is_solo:t[3],track_count:t[4],min_players:t[5],default_players:t[6],max_players:t[7],min_teams:t[8],max_teams:t[9],points:t[10],rating_scheme:{id:t[11][0],code:t[11][1],initial_rating:t[11][2],scaling_factor:t[11][3],baseline:t[11][4]}}}),players:t[6].map(function(t){return{name:t[0],ranking:t[1],rating:t[2]}}),matches:t[7].map(function(t){return{number:t[0],id_board:t[1],id_lobby_type:t[2],id_game_mode:t[3],played_at:t[4],is_solo:t[5],teams:t[6].map(function(t){return{name:t[0],score:t[1],penalty:t[2],players:t[3].map(function(t){return{name:t[0],flag:t[1],scores:t[2],penalty:t[3],original_ranking:t[4],final_ranking:t[5],original_rating:t[6],final_rating:t[7]}})}})}}),tiers:t[8].map(function(t){return{name:t[0],lower_bound:t[1],color:t[2]}})}})}},{key:"runApplication",value:(b=Mp(kp().m(function e(){var r,n,i=this;return kp().w(function(e){for(;;)switch(e.n){case 0:return(r=this._getTable(!0))&&(this._disableButtons(),this._elements.textarea.classList.add("disabled")),e.n=1,ii.wait("data");case 1:if("failed"!==this._appStart.data){e.n=2;break}return e.a(2);case 2:if(this._isRanked()&&"custom"===mp.getParamer("board")&&this._setRanked(!1,!0),setInterval(this.fetchAppDataAndCalculate.bind(this),t.DATA_FETCH_INTERVAL),n=function(){var t=Mp(kp().m(function t(){return kp().w(function(t){for(;;)switch(t.n){case 0:i._removeCanvasPreloader(),i._enableButtons(),i._elements.textarea.classList.remove("disabled"),i._appStart.status="started";case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),r){e.n=3;break}return n(),e.a(2);case 3:this._calculate().then(function(t){return t}).catch(function(t){return t}).finally(function(){return n()});case 4:return e.a(2)}},e,this)})),function(){return b.apply(this,arguments)})},{key:"addEventListeners",value:function(){var t=this;this._elements.textarea.addEventListener("input",function(){return t._resizeTextarea(!0)}),this._elements.textarea.addEventListener("input",Ds.debounce(this._onTextareaChange.bind(this),500)),this._onTextareaObserve(),document.addEventListener("keydown",this._onKeyDown.bind(this)),this._elements.collapseButton instanceof NodeList?this._elements.collapseButton.forEach(function(e){t._onCollapse(e)}):this._onCollapse(this._elements.collapseButton),this._elements.copyTable.forEach(function(e){e.addEventListener("click",t._onCopyTableToClipboard.bind(t))}),this._elements.presets.addEventListener("change",this._onPresetChange.bind(this)),this._elements.presets.addEventListener("blur",this._onPresetBlur.bind(this));var e=["choices","presets",this._selectors.customPresets.replace(".","")];this._getTable(!0)&&(e.push("disabled"),e.push("js-disabled")),this._presets.choices=new Es(this._elements.presets,{searchEnabled:!1,shouldSort:!1,itemSelectText:"",placeholder:!0,placeholderValue:"Presets",classNames:{containerOuter:e}}),this._presets.choices.passedElement.element.addEventListener("hideDropdown",this._onPresetBlur.bind(this)),this._elements.presetConfirmModalYes.forEach(function(e){e.addEventListener("click",t._changeToPreset.bind(t))}),this._elements.downloadImage.addEventListener("click",this._onDownloadTableCanvas.bind(this)),this._elements.customBoardCalculation.addEventListener("click",this._onCustomBoard.bind(this)),this._elements.rankedBoardCalculation.addEventListener("click",this.onRankedBoard.bind(this)),this._elements.submittedMatchSwitch.forEach(function(e){e.addEventListener("click",t._onSubmittedMatchClick.bind(t))}),this._elements.showHowToUseModal.forEach(function(e){e.addEventListener("click",t._onShowHowToUseModal.bind(t))}),this._elements.showTableFormattingModal.forEach(function(e){e.addEventListener("click",t._onShowTableFormattingModal.bind(t))}),this._elements.scrollBubbles instanceof NodeList?this._elements.scrollBubbles.forEach(function(e){e.addEventListener("click",t._scrollToTarget.bind(t))}):this._elements.scrollBubbles.addEventListener("click",this._scrollToTarget.bind(this)),this._processCanvasScrollBubble().catch(function(t){return t}),window.addEventListener("resize",this._onResize.bind(this)),window.addEventListener("scroll",this._onScroll.bind(this)),Js.isTouchDevice()||(Qd.showOnceOnMouseEnter(this._selectors.rankedBoardCalculation,"When the <b>Ranked</b> board is selected, match results will use the ranked leaderboards and players' ratings for calculating match results.<br><br>See <b>How to use</b> and <b>Table formatting</b>.",!0),Qd.showOnceOnMouseEnter(this._selectors.customBoardCalculation,"When the <b>Custom</b> board is selected, match results won't be calculated using the ranked leaderboards.<br><br>If you choose this mode a default rating will be set for every player. You can override players' board ratings by specifying a rating number with an \"r\" prefix at the end of the player line (e.g. r1620).<br><br>See <b>How to use</b> and <b>Table formatting</b>.",!0),Qd.showOnceOnMouseEnter(this._selectors.copyTableText,"Copies the <b>results</b> text to your clipboard.",!0),Qd.showOnceOnMouseEnter(this._selectors.copyTableLobby,"Copies the <b>!table results</b> text to your clipboard.<br><br>Paste the copied text into a Discord <b>#lobby-room</b> channel to generate an image.",!0)),this._tableControl=new lp,this._elements.editScores.addEventListener("click",this._onEditScores.bind(this)),this._elements.editScoresApply.addEventListener("click",this._onApplyEditScores.bind(this)),this._elements.editScoresModal.addEventListener("hidden.bs.modal",this._onEditScoresModalClose.bind(this)),this._elements.editScoresShowHelpModal.forEach(function(e){e.addEventListener("click",t._onShowEditScoresHelpModal.bind(t))}),this._onTableCanvas(),ii.done("ui_loaded",!0)}},{key:"_onAppStartFailed",value:(g=Mp(kp().m(function t(){var e;return kp().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,ii.wait("ui_loaded");case 1:if(this._elements.appStartAlertModal){t.n=2;break}return t.a(2);case 2:if(!this._elements.appStartAlertModal.classList.contains("show")){t.n=3;break}return t.a(2);case 3:(tc().getInstance(this._elements.appStartAlertModal)||new(tc())(this._elements.appStartAlertModal,{backdrop:"static",keyboard:!1})).show(),(e=document.createElement("div")).style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0)",e.style.zIndex=1050,e.style.pointerEvents="auto",document.body.appendChild(e),this._elements.appTryAgain.style.position="relative",this._elements.appTryAgain.style.zIndex=1060,this._elements.appTryAgain.style.pointerEvents="auto",e.addEventListener("click",function(t){return t.stopPropagation()});case 4:return t.a(2)}},t,this)})),function(){return g.apply(this,arguments)})},{key:"_onTextareaObserve",value:function(){var t=this;window.ResizeObserver||(window.ResizeObserver=Sc),new Sc(function(e){if(!t._timeouts.textarea.resizeRAF.timeout&&t._table.status!==Tl.STATUS_EMPTY&&!t._timeouts.textarea.displaying){var r=e[0],n=Math.round(r.contentRect.width);n!==t._timeouts.textarea.resizeRAF.width&&(t._timeouts.textarea.resizeRAF.width=n,t._timeouts.textarea.resizeRAF.timeout=requestAnimationFrame(function(){t._timeouts.textarea.resizeRAF.timeout=null,t._resizeTextarea(!0)}))}}).observe(this._elements.textarea)}},{key:"_onKeyDown",value:function(t){if(!(null!==document.querySelector(".modal.show"))){var e=window.getSelection();if(!(e&&e.toString().length>0))if("Tab"!==t.key||t.shiftKey)if((t.ctrlKey||t.metaKey)&&"s"===t.key.toLowerCase())t.preventDefault(),this._elements.downloadImage&&this._getTable()&&this._elements.downloadImage.click();else if((t.ctrlKey||t.metaKey)&&"c"===t.key.toLowerCase()){this._elements.textarea===document.activeElement&&this._elements.textarea.selectionStart!==this._elements.textarea.selectionEnd||(t.preventDefault(),this._elements.copyTableText&&this._getTable()&&this._elements.copyTableText.click())}else(t.ctrlKey||t.metaKey)&&"a"===t.key.toLowerCase()?(t.preventDefault(),this._elements.textarea.select()):"F1"===t.key?(this._onShowHowToUseModal(null),t.preventDefault()):"F2"===t.key&&(this._onShowTableFormattingModal(null),t.preventDefault());else t.preventDefault(),this._elements.textarea.focus()}}},{key:"_onTextareaChange",value:(y=Mp(kp().m(function t(e){var r;return kp().w(function(t){for(;;)switch(t.n){case 0:if(r=this._getTable(!0),![Tl.STATUS_PARSED,Tl.STATUS_PARSED_CUSTOM].includes(this._table.status)||!Tl.areTablesEqual(this._table.template?this._table.template:"",r)){t.n=1;break}return this._parseTable().catch(function(t){return t}),this._saveTableLocalStorage(),t.a(2);case 1:this._calculate().catch(function(t){return t});case 2:return t.a(2)}},t,this)})),function(t){return y.apply(this,arguments)})},{key:"_onCollapse",value:function(t){var e=this,r=t.getAttribute("data-bs-target");if(r){var n=document.querySelector(r);n&&(n.addEventListener("shown.bs.collapse",function(){e._processCanvasScrollBubble().catch(function(t){return t})}),n.addEventListener("hidden.bs.collapse",function(){e._processCanvasScrollBubble().catch(function(t){return t})}))}}},{key:"_onCopyTableToClipboard",value:function(t){var e=t.currentTarget.classList.contains(this._selectors.copyTableLobby.replace(".",""))?this._table.templateV1:this._getTable(!0);""!==e?Is.text("".concat(t.target.dataset.prefix," ").concat(e," ").concat(t.target.dataset.suffix).trim()).then(function(e){return Qd.show(t.target,"Copied to clipboard!","bottom")}).catch(function(e){hn.logError("ScoresCalculationController._onCopyTableToClipboard: ".concat(e.message)),Qd.show(t.target,"Copy failed","bottom")}):Qd.show(t.target,"Nothing to copy","bottom")}},{key:"_onPresetChange",value:function(t){var e=this,r=t.currentTarget;if(this._presets.selected=r.options[r.selectedIndex],this._onPresetBlur(),this._getTable(!0))if(this._table.parsed)if(0!==this._table.parsed.teams.reduce(function(t,e){return t+e.players.reduce(function(t,e){return t+e.scores.reduce(function(t,e){return t+e},0)},0)},0)){var n=function(t){"Enter"===t.key&&(t.preventDefault(),e._changeToPreset(null),i.hide())};this._elements.presetConfirmModal.addEventListener("keydown",n),this._elements.presetConfirmModal.addEventListener("hidden.bs.modal",function(){e._elements.presetConfirmModal.removeEventListener("keydown",n)},{once:!0});var i=tc().getInstance(this._elements.presetConfirmModal)||new(tc())(this._elements.presetConfirmModal);i.show()}else this._changeToPreset(null);else this._changeToPreset(null);else this._changeToPreset(null)}},{key:"_onPresetBlur",value:function(){this._presets.choices.removeActiveItems(),this._presets.choices.setChoiceByValue("Presets"),this._presets.choices.containerOuter.element.querySelectorAll(".choices__item.choices__item--choice").forEach(function(t){t.classList.remove("is-highlighted"),t.setAttribute("aria-selected","false")}),this._elements.presets.selectedIndex=0}},{key:"_changeToPreset",value:function(t){var e;(tc().getInstance(this._elements.presetConfirmModal)||new(tc())(this._elements.presetConfirmModal)).hide(),"1"===(null==t||null===(e=t.currentTarget)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.cliboard)&&Is.text(this._getTable(!0)).catch(function(t){return t});var r=this._tableParser.setBoards(this._data.boards.ranked).createPresetTemplate(this._presets.selected.dataset.idlobbytype,this._presets.selected.dataset.idgamemode);r&&(Tl.STATUS_PARSED===this._table.status&&Tl.areTablesEqual(""!==this._table.template?this._table.template:"",r)||(this._elements.textarea.value=r,this._resizeTextarea(!1),this._calculate().catch(function(t){return t})))}},{key:"_onShowTableCanvasInNewTab",value:(m=Mp(kp().m(function t(e){var r,n;return kp().w(function(t){for(;;)switch(t.n){case 0:if(r=Qd.show(e.target,"Opening...","top",5e3),!this._canvas.canvas){t.n=2;break}return t.n=1,this._canvas.getUrl();case 1:if(!(n=t.v)){t.n=2;break}return window.open(n,"_blank"),r.hide(),t.a(2,!0);case 2:return r.hide(),Qd.show(e.target,"Opening failed","top"),t.a(2,!1)}},t,this)})),function(t){return m.apply(this,arguments)})},{key:"_onDownloadTableCanvas",value:(v=Mp(kp().m(function t(e){var r,n,i,o,a=arguments;return kp().w(function(t){for(;;)switch(t.n){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:"bottom",n=Qd.show(e.target,"Downloading...",r,5e3),this._getTable()){t.n=1;break}return n.hide(),Qd.show(e.target,"Nothing to download",r),t.a(2,!1);case 1:if(!this._canvas.canvas){t.n=2;break}if(!(i=this._canvas.dataUrl)){t.n=2;break}return(o=document.createElement("a")).download=this._getImageTableFileName(),o.href=i,o.click(),n.hide(),Qd.show(e.target,"Downloaded!",r),t.a(2,!0);case 2:return n.hide(),Qd.show(e.target,"Download failed",r),t.a(2,!1)}},t,this)})),function(t){return v.apply(this,arguments)})},{key:"_onCopyTableCanvasToClipboard",value:(p=Mp(kp().m(function t(e){var r,n,i;return kp().w(function(t){for(;;)switch(t.n){case 0:if(r=this._getTable(),!(n=this._canvas.dataUrl)||!r){t.n=3;break}return t.n=1,hn.saveCanvas(this._encryption.encryptBase64(n),this._encryption.encryptBase64(r+"_"+(this._submittedMatch.active?"1":"0")+"_"+(this._isRanked()?"1":"0")));case 1:if(null!==(i=t.v)){t.n=2;break}return Qd.show(e.target,"Could not copy","bottom"),t.a(2);case 2:Is.text(i).then(function(t){return Qd.show(e.target,"Copied to clipboard!","bottom")}).catch(function(t){hn.logError("ScoresCalculationController._onCopyImageToClipboard: ".concat(t.message)),Qd.show(e.target,"Copy failed","bottom")}),t.n=4;break;case 3:Qd.show(e.target,"Nothing to copy","bottom");case 4:return t.a(2)}},t,this)})),function(t){return p.apply(this,arguments)})},{key:"_getImageTableFileName",value:function(){var t=this._isRanked()?"ranked_":"unranked_",e=this._submittedMatch.active?"_submitted":"",r=this._getBoard();if(!r)return t+"scores"+e+".png";var n,i=Ip(r.game_modes.entries());try{for(i.s();!(n=i.n()).done;){var o=Lp(n.value,2),a=(o[0],o[1]);if(parseInt(r.lobby_type.id)===parseInt(this._table.parsed.id_lobby_type)&&parseInt(a.id)===parseInt(this._table.parsed.id_game_mode))return t+r.lobby_type.code.toLowerCase()+"_"+a.code.toLowerCase()+"_"+this._table.parsed.number+e+".png"}}catch(t){i.e(t)}finally{i.f()}return t+"scores"+e+".png"}},{key:"_onCustomBoard",value:function(t){if(!t.currentTarget.classList.contains("active")){this._setSubmittedMatchOff(),t.stopPropagation(),t.preventDefault();var e=this._isRanked();this._setRanked(!1),this._elements.copyTableText.style.display="inline-block",this._elements.copyTableText.style.setProperty("margin-right","0","important"),this._elements.copyTableLobby.style.display="none",this._getTable(!0)&&(e!==this._isRanked()?this._calculate().catch(function(t){return t}):this._enableButtons())}}},{key:"onRankedBoard",value:function(t){if(!t.currentTarget.classList.contains("active")){this._setSubmittedMatchOff(),t.stopPropagation(),t.preventDefault();var e=this._isRanked();this._setRanked(!0),this._elements.copyTableText.removeAttribute("style"),this._elements.copyTableLobby.removeAttribute("style"),this._getTable(!0)&&(mp.removeParameters(["board"]),e!==this._isRanked()?this._calculate().catch(function(t){return t}):this._enableButtons())}}},{key:"_onSubmittedMatchClick",value:(d=Mp(kp().m(function t(e){var r=this;return kp().w(function(t){for(;;)switch(t.n){case 0:if(!this._submittedMatch.active){t.n=1;break}return this._calculate().then(function(t){return t}).catch(function(t){return t}).finally(function(){r._elements.submittedMatchSwitch.forEach(function(t,e){t.textContent="Show"})}),t.a(2);case 1:this._calculateSubmitted().catch(function(t){return t});case 2:return t.a(2)}},t,this)})),function(t){return d.apply(this,arguments)})},{key:"_onShowHowToUseModal",value:function(t){var e=this;(tc().getInstance(this._elements.tableFormattingModal)||new(tc())(this._elements.tableFormattingModal)).hide(),setTimeout(function(){(tc().getInstance(e._elements.howToUseModal)||new(tc())(e._elements.howToUseModal)).show()},375)}},{key:"_onShowTableFormattingModal",value:function(t){var e=this;(tc().getInstance(this._elements.howToUseModal)||new(tc())(this._elements.howToUseModal)).hide(),setTimeout(function(){(tc().getInstance(e._elements.tableFormattingModal)||new(tc())(e._elements.tableFormattingModal)).show()},375)}},{key:"_scrollToTarget",value:function(t){var e=t.currentTarget,r=e.dataset.target;if(r){var n=document.querySelector(r);n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),this._hideScrollBubble(e).catch(function(t){return t}))}}},{key:"_onResize",value:function(t){var e=this,r=window.innerWidth<1082;r!==this._isSmallScreen&&(this._isSmallScreen=r),clearTimeout(this._timeouts.resize),this._timeouts.resize=setTimeout(function(){e._processCanvasScrollBubble().catch(function(t){return t})},150)}},{key:"_onScroll",value:function(t){var e=this;clearTimeout(this._timeouts.scroll),this._timeouts.scroll=setTimeout(function(){e._processCanvasScrollBubble().catch(function(t){return t})},150)}},{key:"_onEditScores",value:function(t){this._table.parsed?this._tableControl.setBoard(this._getBoard()).setParsedTable(this._table.parsed).setIsRanked(this._isRanked()).loadControls():t.currentTarget===this._elements.editScores&&Qd.show(t.currentTarget,"No scores to edit","bottom")}},{key:"_onApplyEditScores",value:function(t){this._tableControl.applyChanges()&&this._calculate().catch(function(t){return t})}},{key:"_onEditScoresModalClose",value:function(t){this._tableControl.setRace(this._elements.editScoresRaceSelect.value)}},{key:"_onShowEditScoresHelpModal",value:function(t){(tc().getInstance(this._elements.editScoresHelpModal)||new(tc())(this._elements.editScoresHelpModal)).show()}},{key:"_onTableCanvas",value:function(){var e=this;if(t.USE_CUSTOM_CONTEXT_MENU){var r=!1,n=!1,i=null,o=!1,a=0,s=0,c=new Set,l=!1,u=function(){i&&(clearTimeout(i),i=null)};this._elements.tableCanvas.addEventListener("pointerdown",function(t){if(0===t.button){if(r=!0,n=!1,o=!1,a=t.clientX,s=t.clientY,c.add(t.pointerId),c.size>1)return l=!0,void u();l=!1,i=setTimeout(function(){i=null,e._showContextMenu(),n=!0},200),t.preventDefault(),e._elements.tableCanvas.setPointerCapture(t.pointerId)}}),this._elements.tableCanvas.addEventListener("pointermove",function(t){if(e._elements.tableCanvas.hasPointerCapture(t.pointerId)&&Js.isTouchDevice()&&!l){var r=Math.abs(t.clientX-a),n=Math.abs(t.clientY-s);(r>5||n>5)&&(o=!0,u())}}),this._elements.tableCanvas.addEventListener("pointercancel",function(t){c.delete(t.pointerId),l=!1,u()}),this._elements.tableCanvas.addEventListener("lostpointercapture",function(t){c.delete(t.pointerId),l=!1,u()}),this._elements.tableCanvas.addEventListener("pointerup",function(t){"mouse"===t.pointerType&&0!==t.button||(r?(r=!1,c.delete(t.pointerId),c.size<=1&&(l=!1),e._elements.tableCanvas.releasePointerCapture(t.pointerId),l||n||o||(u(),e._onEditScores(t))):r=!1)}),this._elements.tableCanvas.addEventListener("contextmenu",function(t){t.preventDefault(),e._showContextMenu()}),this._elements.contextMenuDownload.addEventListener("click",function(t){e._onDownloadTableCanvas(t,"top").then(function(){var t=Mp(kp().m(function t(r){return kp().w(function(t){for(;;)switch(t.n){case 0:if(!r){t.n=2;break}return t.n=1,xp.for(500);case 1:e._closeContextMenu();case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}),this._elements.contextMenuView.addEventListener("click",function(t){e._onShowTableCanvasInNewTab(t).then(function(){var t=Mp(kp().m(function t(r){return kp().w(function(t){for(;;)switch(t.n){case 0:r&&e._closeContextMenu();case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}),this._elements.contextMenuEditScores.addEventListener("click",function(t){e._closeContextMenu(),e._onEditScores(t)})}else this._elements.tableCanvas.addEventListener("click",this._onEditScores.bind(this))}},{key:"_showContextMenu",value:function(){this._getTable()&&(tc().getInstance(this._elements.contextMenuModal)||new(tc())(this._elements.contextMenuModal)).show()}},{key:"_closeContextMenu",value:function(){(tc().getInstance(this._elements.contextMenuModal)||new(tc())(this._elements.contextMenuModal)).hide()}},{key:"_nullifyTableControl",value:function(){this._tableControl.setBoard(null).setParsedTable(null).setIsRanked(this._isRanked()).setRace("auto")}},{key:"_resetTableControl",value:function(){this._tableControl.setBoard(this._getBoard()).setParsedTable(this._table.parsed).setIsRanked(this._isRanked()).setRace("auto")}},{key:"_calculate",value:(f=Mp(kp().m(function e(){var r,n,i,o,a=this;return kp().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ii.wait("calculate");case 1:return this._calculation.processing=!0,this._calculation.time.started_at=new Date,this._dimTableCanvas(),this._disableButtons(),this._table.status_before_calculation=this._table.status,this._setSubmittedMatchOff(!this._submittedMatch.active),this._canvas.canvas=null,this._canvas.url="",r=this._getTable(!0),this._timeouts.table.calculating=setTimeout(function(){r&&a._showScoresCalculationCalculatingAlert()},200),n=this._table.parsed?this._table.parsed.id:"",e.n=2,this._parseTable().catch(function(t){return t});case 2:if(Tl.STATUS_EMPTY!==this._table.status){e.n=3;break}return clearTimeout(this._timeouts.table.calculating),this._hideSubmittedMatchButtons().catch(function(t){return t}),Qd.disableBySelector(this._selectors.scoresAlert),this._alertDialog.hideAsync(On.ALERT_SCORES,{triggerType:On.TRIGGER_TYPE_INSTANT,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t}),this._saveTableLocalStorage(),this._hideTableCanvas(),this._enableButtons(),this._nullifyTableControl(),this._calculation.time.ended_at=new Date,this._calculation.processing=!1,ii.done("calculate"),e.a(2);case 3:if(this._table.status!==Tl.STATUS_PARSED_CUSTOM&&this._table.status!==Tl.STATUS_PARSED){e.n=12;break}if(this._saveTableLocalStorage(),i=this._predictScores()){e.n=4;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),e.a(2);case 4:return e.n=5,this._generateTableCanvas(i);case 5:if(e.v){e.n=6;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),e.a(2);case 6:return e.n=7,this._convertHTMLToImage();case 7:if(o=e.v){e.n=8;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),e.a(2);case 8:if(!("starting"===this._appStart.status&&this._appStart.preloader>0&&new Date-this._appStart.createdAt<this._appStart.preloader)){e.n=10;break}return e.n=9,ii.wait("preloader");case 9:this._removeCanvasPreloader();case 10:return e.n=11,this._displayTableCanvas(o,!0,this._calculation.time);case 11:return this._elements.tableCanvas.style.cursor="pointer",clearTimeout(this._timeouts.table.calculating),this._enableButtons(),this._showScoresCalculationSuccessAlert(),this._showHideSubmittedMatchButtons().catch(function(t){return t}),n!==this._table.parsed.id&&this._resetTableControl(),this._calculation.time.ended_at=new Date,this._calculation.processing=!1,ii.done("calculate"),e.a(2);case 12:this._calculation.time.ended_at=new Date,this._endCalculationAsError();case 13:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"_endCalculationAsError",value:function(){clearTimeout(this._timeouts.table.calculating),this._elements.tableCanvas.style.cursor="",this._dimTableCanvas(),this._hideSubmittedMatchButtons().catch(function(t){return t}),this._showScoresCalculationErrorAlert(),this._enableButtons(),this._calculation.processing=!1,ii.done("calculate")}},{key:"_calculateSubmitted",value:(h=Mp(kp().m(function t(){var e,r,n,i=this;return kp().w(function(t){for(;;)switch(t.n){case 0:if(this._canvas.canvas=null,this._canvas.url="",mp.removeParameters(["board"]),!this._submittedMatch.disabled.includes(this._table.parsed.number)&&this._isRanked()){t.n=1;break}return this._calculation.error="Could not load submitted match.<br>Refresh the page and try again.",this._endCalculationAsError(),t.a(2);case 1:if(this._timeouts.table.calculating=setTimeout(function(){i._showScoresCalculationCalculatingAlert()},200),this._submittedMatch.parsed){t.n=2;break}return this._calculation.error="Could not load submitted match.<br>Refresh the page and try again.",this._submittedMatch.disabled.push(this._table.parsed.number),this._endCalculationAsError(),t.a(2);case 2:if(this._submittedMatch.time.started_at=new Date,this._dimTableCanvas(),this._disableButtons(),this._table.status_before_calculation=this._table.status,e=new Dl,r=e.calculateSubmittedMatch(this._submittedMatch.parsed,this._getBoard())){t.n=3;break}return this._submittedMatch.time.ended_at=new Date,this._calculation.error=e.error,this._submittedMatch.disabled.push(this._table.parsed.number),this._endCalculationAsError(),t.a(2);case 3:return t.n=4,this._generateTableCanvas(r,!0);case 4:if(t.v){t.n=5;break}return this._submittedMatch.time.ended_at=new Date,this._submittedMatch.disabled.push(this._table.parsed.number),this._endCalculationAsError(),t.a(2);case 5:return t.n=6,this._convertHTMLToImage();case 6:if(n=t.v){t.n=7;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),t.a(2);case 7:return t.n=8,this._displayTableCanvas(n,!0,this._submittedMatch.time);case 8:clearTimeout(this._timeouts.table.calculating),this._showScoresCalculationSuccessAlert(),this._submittedMatch.active=!0,this._submittedMatch.time.ended_at=new Date,this._showSubmittedMatchButtons().catch(function(t){return t}),this._enableButtons();case 9:return t.a(2)}},t,this)})),function(){return h.apply(this,arguments)})},{key:"_parseTable",value:(u=Mp(kp().m(function t(){var e,r;return kp().w(function(t){for(;;)switch(t.p=t.n){case 0:if(this._tableParser.setBoards(this._data.boards.ranked),t.p=1,""!==this._getTable(!0)){t.n=2;break}return this._table.status=Tl.STATUS_EMPTY,this._table.parsed=null,this._table.templateV1="",this._table.template="",this._calculation.error="",t.a(2,!0);case 2:if((e=this._tableParser.parse(this._getTable(!0)))&&(null!==e.id_board||!this._isRanked())){t.n=3;break}return this._table.status=Tl.STATUS_ERROR,this._table.parsed=null,this._table.templateV1="",this._table.template="",this._calculation.error=this._tableParser.error?this._tableParser.error:"Invalid scores.",t.a(2,!1);case 3:return null===e.id_board?this._table.status=Tl.STATUS_PARSED_CUSTOM:this._table.status=Tl.STATUS_PARSED,this._table.parsed=e,this._table.templateV1=this._tableParser.getTemplate(1),this._table.template=this._tableParser.getTemplate(),this._calculation.error="",t.a(2,!0);case 4:return t.p=4,r=t.v,hn.logError("ScoresCalculationController._parseTable: ".concat(r.message),"info"),this._table.status=Tl.STATUS_ERROR,this._table.parsed=null,this._table.templateV1="",this._table.template="",this._calculation.error="Invalid scores.",t.a(2,!1)}},t,this,[[1,4]])})),function(){return u.apply(this,arguments)})},{key:"_generateTableCanvas",value:(l=Mp(kp().m(function t(e){var r,n,i,o,a=arguments;return kp().w(function(t){for(;;)switch(t.p=t.n){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],t.p=1,n=this._getBoard(),i=r?this._submittedMatch.parsed:this._table.parsed,t.n=2,this._tableGenerator.generate(i,n,e,r,this._isRanked());case 2:return t.a(2,t.v);case 3:return t.p=3,o=t.v,this._calculation.error="Could not generate the results image.<br>Refresh the page and try again.",hn.logError("ScoresCalculationController._refreshResultsTable: ".concat(o.message)),t.a(2,!1)}},t,this,[[1,3]])})),function(t){return l.apply(this,arguments)})},{key:"_convertHTMLToImage",value:(c=Mp(kp().m(function e(){var r;return kp().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._canvas.convertHTMLToImage(t.IMAGE_TYPE);case 1:if(r=e.v){e.n=2;break}return this._calculation.error="Could not generate the results image.<br>Refresh the page and try again.",e.a(2,null);case 2:return zi.getElements().body.appendChild(r),e.a(2,r)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"_predictScores",value:function(){var t=new Dl;try{var e,r,n=this._getTable();if(!n)return this._calculation.error="Invalid scores.",null;this._isRanked()?(e=this._data.boards.ranked,r=this._data.resultsSubmissions):(e=this._data.boards.custom,r=[]);var i=t.predictMatch(this._table.parsed,n,e,r,this._isRanked());return i||(this._calculation.error=t.error,null)}catch(t){return hn.logError("ScoresCalculationController._predictScores: ".concat(t.message)),this._calculation.error="Scores prediction failed.<br>Refresh the page and try again.",null}}},{key:"_disableButtons",value:function(){var t,e=Ip(this._getSelectorsForVisiblityChange(!0).entries());try{for(e.s();!(t=e.n()).done;){var r=Lp(t.value,2)[1];document.querySelectorAll(r).forEach(function(t,e){t.classList.add("disabled"),t.classList.add("js-disabled"),t.style.pointerEvents="none"})}}catch(t){e.e(t)}finally{e.f()}}},{key:"_enableButtons",value:function(){var t,e=Ip(this._getSelectorsForVisiblityChange().entries());try{for(e.s();!(t=e.n()).done;){var r=Lp(t.value,2)[1];document.querySelectorAll(r).forEach(function(t,e){t.classList.contains("js-disabled")&&(t.classList.remove("disabled"),t.classList.remove("js-disabled"),t.removeAttribute("style"),t.style.visibility="visible",t.style.opacity=1)})}}catch(t){e.e(t)}finally{e.f()}}},{key:"_getSelectorsForVisiblityChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[this._selectors.customBoardCalculation,this._selectors.rankedBoardCalculation,this._selectors.copyImage,this._selectors.downloadImage,this._selectors.presets,this._selectors.editScoresApply,this._selectors.customPresets];return t&&e.push(this._selectors.submittedMatchSwitch),e}},{key:"_hideSubmittedMatchShowHideButton",value:function(){var t=this;this._setSubmittedMatchOff(!1);var e=this._elements.submittedMatchSwitch;e.forEach(function(r,n){mn.fadeTo(r,0,0,"swing",function(){r.style.visibility="hidden",t._submittedMatch.active?r.textContent="Hide":r.textContent="Show"}),n===e.length-1&&t._elements.submittedMatchAlertWrapperXS.classList.add("d-none")})}},{key:"_showSubmittedMatchShowHideButton",value:function(){var t=this,e=this._elements.submittedMatchSwitch;e.forEach(function(r,n){t._submittedMatch.active?r.textContent="Hide":r.textContent="Show",r.classList.remove("disabled"),r.classList.remove("js-disabled"),r.style.pointerEvents="unset",r.style.visibility="visible",mn.fadeTo(r,0,1,"swing"),n===e.length-1&&t._elements.submittedMatchAlertWrapperXS.classList.remove("d-none")})}},{key:"_hideSubmittedMatchButtons",value:(s=Mp(kp().m(function e(){var r=this;return kp().w(function(e){for(;;)switch(e.n){case 0:this._elements.submittedMatchSwitch.forEach(function(e,n){var i=e.parentElement;mn.fadeTo(i,t.ANIMATION_TIME,0,"swing",function(){r._alertDialog.hideAsync(On.ALERT_MATCH,{triggerType:On.TRIGGER_TYPE_INSTANT,fadeTime:0}).catch(function(t){return t}),r._hideSubmittedMatchShowHideButton()})});case 1:return e.a(2)}},e,this)})),function(){return s.apply(this,arguments)})},{key:"_showHideSubmittedMatchButtons",value:(a=Mp(kp().m(function t(){var e,r,n,i,o;return kp().w(function(t){for(;;)switch(t.n){case 0:this._isRanked()?(n=(null===(e=this._getBoard())||void 0===e?void 0:e.matches)||[],i=(null===(r=n[0])||void 0===r?void 0:r.number)||"0",parseInt(this._table.parsed.number)>parseInt(i)?this._submittedMatch.exists=!1:(o=(new Dl).getSubmittedMatch(this._table.parsed,this._getBoard()),this._submittedMatch.exists=!!o,this._submittedMatch.exists&&o&&(this._submittedMatch.parsed=o))):this._submittedMatch.exists=!1,this._submittedMatch.exists?this._showSubmittedMatchButtons().catch(function(t){return t}):this._hideSubmittedMatchButtons().catch(function(t){return t});case 1:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"_showSubmittedMatchButtons",value:(o=Mp(kp().m(function e(){return kp().w(function(e){for(;;)switch(e.n){case 0:this._submittedMatch.active?this._alertDialog.showAsync("Showing submitted lobby #".concat(this._table.parsed.number),{selector:On.ALERT_MATCH,type:On.TYPE_WARNING,triggerType:On.TRIGGER_TYPE_INSTANT,animationTime:0}).catch(function(t){return t}):this._alertDialog.showAsync("Lobby #".concat(this._table.parsed.number," was already submitted"),{selector:On.ALERT_MATCH,type:On.TYPE_WARNING,triggerType:On.TRIGGER_TYPE_INSTANT,animationTime:0,fadeTime:0}).catch(function(t){return t}),this._showSubmittedMatchShowHideButton(),this._elements.submittedMatchSwitch.forEach(function(e,r){var n=e.parentElement;mn.fadeTo(n,t.ANIMATION_TIME,1,"swing")});case 1:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"_setSubmittedMatchOff",value:function(){this._submittedMatch.active=!1,this._submittedMatch.parsed=null}},{key:"_dimTableCanvas",value:function(){var t=zi.getElements();t.image&&(t.image.style.opacity="0.65")}},{key:"_hideTableCanvas",value:function(){var e=this._elements.tableCanvas,r=zi.getElements().image;if(r){this._table.src&&"blob"===t.IMAGE_TYPE&&URL.revokeObjectURL(this._table.src),this._table.src="";var n=e.getBoundingClientRect();e.style.height="".concat(n.height,"px"),requestAnimationFrame(function(){e.style.height="",r.style.opacity="0",setTimeout(function(){r.remove(),e.removeAttribute("style")},100)})}}},{key:"_displayTableCanvas",value:(i=Mp(kp().m(function e(r,n,i){var o,a,s,c,l,u,h;return kp().w(function(e){for(;;)switch(e.n){case 0:this._table.src&&"blob"===t.IMAGE_TYPE&&URL.revokeObjectURL(this._table.src),this._table.src=r.src,o=this._elements.tableCanvas,(a=zi.getElements()).image||(o.appendChild(r),r.style.visibility="hidden",r.style.opacity="0"),s=o.getBoundingClientRect(),c=r.naturalHeight/r.naturalWidth,l=s.width*c,n&&(o.style.transition="",o.style.height="".concat(s.height,"px")),o.style.transition=n?"height 0.1s":"",u=new Date-i.started_at,h=Math.max(0,i.perceptual_minimum-u),setTimeout(function(){o.style.height="".concat(l,"px"),a.image?a.image.replaceWith(r):(r.style.visibility="visible",r.style.opacity="1"),setTimeout(function(){o.style.transition="",o.style.height="auto"},100)},h);case 1:return e.a(2)}},e,this)})),function(t,e,r){return i.apply(this,arguments)})},{key:"_getTable",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Tl.normalize(this._elements.textarea.value):""===this._table.template?"":Tl.normalize(this._table.template)}},{key:"_saveTableLocalStorage",value:function(){if([Tl.STATUS_PARSED,Tl.STATUS_PARSED_CUSTOM].includes(this._table.status)){t="table",e=this._getTable(!0),r=864e5,n={value:e,expiry:(new Date).getTime()+r},localStorage.setItem(t,JSON.stringify(n))}else localStorage.removeItem("table");var t,e,r,n}},{key:"_setRanked",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this._elements.customBoardCalculation.classList.remove("active","disabled"),this._elements.rankedBoardCalculation.classList.remove("active","disabled")):(this._elements.customBoardCalculation.classList.remove("active"),this._elements.rankedBoardCalculation.classList.remove("active")),t?this._elements.rankedBoardCalculation.classList.add("active"):(this._elements.customBoardCalculation.classList.add("active"),e&&(this._elements.customBoardCalculation.classList.add("disabled"),this._elements.rankedBoardCalculation.classList.add("disabled"))),t?(this._elements.copyTableLobby.classList.remove("disabled"),this._elements.copyTableLobby.style.pointerEvents="unset"):(this._elements.copyTableLobby.classList.add("disabled"),this._elements.copyTableLobby.style.pointerEvents="none")}},{key:"_isRanked",value:function(){return this._elements.rankedBoardCalculation.classList.contains("active")}},{key:"_getBoard",value:function(){var t,e,r,n;return this._isRanked()?null!==(r=null===(n=this._data.boards.ranked)||void 0===n?void 0:n[this._table.parsed.id_board])&&void 0!==r?r:null:null!==(t=null===(e=this._data.boards.custom)||void 0===e?void 0:e[this._table.parsed.id_board])&&void 0!==t?t:null}},{key:"_resizeTextarea",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this._elements.textarea,n=this._elements.textareaClone,i=r.offsetHeight;r.value=r.value.replace(/\n{5,}$/g,"\n\n\n\n"),n.style.width=r.offsetWidth+"px",n.textContent=r.value+"\n";var o=getComputedStyle(r),a=Math.min(n.scrollHeight,parseInt(o.maxHeight)||1/0);if(window.innerWidth>=1082&&a<=parseInt(o.minHeight)&&(a=parseInt(o.minHeight)),!e)return r.style.transition="none",r.style.height=a+"px",r.offsetHeight,void requestAnimationFrame(function(){r.style.transition="",Math.round(i)!==Math.round(a)&&t._processCanvasScrollBubble().catch(function(t){return t})});r.offsetHeight,requestAnimationFrame(function(){r.scrollTop=0,r.style.height=a+"px",Math.round(i)!==Math.round(a)&&t._processCanvasScrollBubble().catch(function(t){return t})})}},{key:"_showScoresCalculationCalculatingAlert",value:function(){Qd.disableBySelector(this._selectors.scoresAlert),this._alertDialog.showAsync("Calculating",{selector:On.ALERT_SCORES,type:On.TYPE_LOADER,triggerType:On.TRIGGER_TYPE_INSTANT,animationTime:0,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t})}},{key:"_showScoresCalculationSuccessAlert",value:function(){Qd.disableBySelector(this._selectors.scoresAlert),this._alertDialog.showAsync("Calculated",{selector:On.ALERT_SCORES,type:On.TYPE_SUCCESS,triggerType:On.TRIGGER_TYPE_INSTANT,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t})}},{key:"_showScoresCalculationErrorAlert",value:function(){var e=this;this._alertDialog.showAsync("Error",{selector:On.ALERT_SCORES,type:On.TYPE_ERROR,triggerType:On.TRIGGER_TYPE_INSTANT,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t}),""!==this._calculation.error.trim()&&setTimeout(function(){var t="left";(e._isSmallScreen||e._submittedMatch.exists)&&(t="top"),Qd.show(e._selectors.scoresAlert,e._calculation.error,t,-1,!1,"error")},50)}},{key:"_processCanvasScrollBubble",value:(n=Mp(kp().m(function t(){var e=this;return kp().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,ii.wait("canvas_scroll_bubble");case 1:this._timeouts.bubble.processing=!0,clearTimeout(this._timeouts.bubble.timeout),this._timeouts.bubble.timeout=setTimeout(function(){if(e._isSmallScreen)if(e._getTable(!0)){var t=e._elements.tableCanvas.getBoundingClientRect();t.top>window.innerHeight||!e._isElementVisibleFraction(t,.25)?e._showScrollBubbleImage(e._elements.scrollBubbleImage,300).then(function(){e._timeouts.bubble.processing=!1,ii.done("canvas_scroll_bubble")}):e._hideScrollBubble(e._elements.scrollBubbleImage,300).then(function(){e._timeouts.bubble.processing=!1,ii.done("canvas_scroll_bubble")})}else e._hideScrollBubble(e._elements.scrollBubbleImage).then(function(){e._timeouts.bubble.processing=!1,ii.done("canvas_scroll_bubble")});else e._hideScrollBubble(e._elements.scrollBubbleImage).then(function(){e._timeouts.bubble.processing=!1,ii.done("canvas_scroll_bubble")})},150);case 2:return t.a(2)}},t,this)})),function(){return n.apply(this,arguments)})},{key:"_showScrollBubbleImage",value:(r=Mp(kp().m(function t(e){var r,n=arguments;return kp().w(function(t){for(;;)if(0===t.n)return r=n.length>1&&void 0!==n[1]?n[1]:300,t.a(2,new Promise(function(t,n){e.classList.contains("d-none")&&"1"!==e.style.opacity?(e.style.opacity="0",e.classList.remove("d-none"),mn.fadeTo(e,r,1,"swing",function(){t(!0)})):t(!0)}))},t)})),function(t){return r.apply(this,arguments)})},{key:"_hideScrollBubble",value:(e=Mp(kp().m(function t(e){var r,n=arguments;return kp().w(function(t){for(;;)if(0===t.n)return r=n.length>1&&void 0!==n[1]?n[1]:300,t.a(2,new Promise(function(t,n){e.classList.contains("d-none")?t(!0):"0"!==e.style.opacity?(e.style.opacity="1",mn.fadeTo(e,r,0,"swing",function(){e.classList.add("d-none"),t(!0)})):t(!0)}))},t)})),function(t){return e.apply(this,arguments)})},{key:"_isElementVisibleFraction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,r=window.innerHeight||document.documentElement.clientHeight;return(Math.min(t.bottom,r)-Math.max(t.top,0))/t.height>=e}},{key:"_removeCanvasPreloader",value:function(){var e=document.querySelector(this._selectors.canvasPreloader);e&&!e.dataset.removing&&(e.dataset.removing="true",e.style.transition="opacity ".concat(t.ANIMATION_TIME,"ms ease"),e.style.opacity="0",setTimeout(function(){e.remove()},t.ANIMATION_TIME))}}]);var e,r,n,i,o,a,s,c,l,u,h,f,d,p,v,m,y,g,b,_,w,S}();Bp(Up,"DATA_FETCH_INTERVAL",15e3),Bp(Up,"ANIMATION_TIME",100),Bp(Up,"IMAGE_TYPE","dataUrl"),Bp(Up,"USE_CUSTOM_CONTEXT_MENU",!1);const zp=Up;window._a9bdu6u621c5938u8||(window._a9bdu6u621c5938u8=!0,window.started_at=new Date,function(){var t=new zp;t.loadData().catch(function(t){return t});var e=function(){t.subscribeElements(),t.runApplication().catch(function(t){return t}),t.addEventListeners()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e()}):e()}())})()})();