(()=>{var t={29(t,e,n){"use strict";n(10009)("iterator")},220(t){t.exports=function(){"use strict";const t=new Map;return{set(e,n,r){t.has(e)||t.set(e,new Map);const i=t.get(e);i.has(n)||0===i.size?i.set(n,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,n)=>t.has(e)&&t.get(e).get(n)||null,remove(e,n){if(!t.has(e))return;const r=t.get(e);r.delete(n),0===r.size&&t.delete(e)}}}()},459(t,e,n){"use strict";var r=n(99466),i=n(88423);t.exports=function(t){if(i){try{return r.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}}},856(t,e,n){"use strict";n(91652)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},1173(t,e,n){"use strict";var r=n(11269);t.exports=/MSIE|Trident/.test(r)},1178(t,e,n){"use strict";var r=n(58993)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},1179(t,e,n){"use strict";var r=n(50265),i=n(99466).RegExp,o=r(function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),a=o||r(function(){return!i("a","y").sticky}),s=o||r(function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},1478(t,e,n){"use strict";var r=n(93534),i=n(12106),o=n(79224),a=n(51712),s=r.aTypedArray,c=r.getTypedArrayConstructor,l=r.exportTypedArrayMethod,u=i(r.TypedArrayPrototype.sort);l("toSorted",function(t){void 0!==t&&o(t);var e=s(this),n=a(c(e),e);return u(n,t)})},1987(t,e,n){"use strict";var r=n(99466),i=n(50265),o=r.RegExp,a=!i(function(){var t=!0;try{o(".","d")}catch(e){t=!1}var e={},n="",r=t?"dgimsy":"gimsy",i=function(t,r){Object.defineProperty(e,t,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(o.prototype,"flags").get.call(e)!==r||n!==r});t.exports={correct:a}},2492(t,e,n){"use strict";n(40423)},2580(t,e,n){"use strict";var r=n(93534),i=n(29507).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},2702(t,e,n){"use strict";var r=n(12106);t.exports=r(1.1.valueOf)},2857(t,e,n){"use strict";var r=n(91652),i=n(63938);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},2896(t,e,n){"use strict";var r=n(73556);t.exports=function(t){return r(t.length)}},2995(t,e,n){"use strict";var r=n(70639),i=n(51544),o=n(21087),a=n(54996),s=n(70236),c=n(58993),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=a(t,u);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},3008(t,e,n){"use strict";var r=n(52870),i=n(98960),o=n(43524),a=n(16235),s=n(67191),c=n(97313),l=i.Set,u=i.add,h=i.has;t.exports=function(t){var e=r(this),n=a(t),i=new l;return o(e)>n.size?c(n.getIterator(),function(t){h(e,t)&&u(i,t)}):s(e,function(t){n.includes(t)&&u(i,t)}),i}},3209(t,e,n){"use strict";var r=n(29507).forEach,i=n(69312)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},3421(t,e,n){"use strict";var r=n(11467),i=n(91787),o=n(72139),a=n(4513),s=n(96785),c=a("IE_PROTO"),l=Object,u=l.prototype;t.exports=s?l.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},3438(t,e,n){"use strict";var r=n(10009),i=n(90608);r("toPrimitive"),i()},3476(t,e,n){"use strict";var r=n(50286),i=n(57103),o=n(52438).f,a=n(87874),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===r(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},3693(t,e,n){"use strict";var r=n(3806),i=n(20011),o=n(61994);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},3806(t,e,n){"use strict";var r=n(50265);t.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3938(t,e,n){"use strict";var r=n(50265);t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},4446(t,e,n){"use strict";var r=n(93534),i=n(13295),o=n(61716),a=n(40257),s=n(70639),c=n(12106),l=n(50265),u=r.aTypedArray,h=r.exportTypedArrayMethod,f=c("".slice);h("fill",function(t){var e=arguments.length;u(this);var n="Big"===f(a(this),0,3)?o(t):+t;return s(i,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)},l(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}))},4513(t,e,n){"use strict";var r=n(57495),i=n(62122),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},4573(t,e,n){"use strict";var r=n(67074),i=n(82554),o=n(67013);r||i(Object.prototype,"toString",o,{unsafe:!0})},4713(t,e,n){"use strict";var r=n(82554),i=n(12106),o=n(48085),a=n(40706),s=URLSearchParams,c=s.prototype,l=i(c.append),u=i(c.delete),h=i(c.forEach),f=i([].push),d=new s("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&r(c,"delete",function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=[];h(this,function(t,e){f(r,{key:e,value:t})}),a(e,1);for(var i,s=o(t),c=o(n),d=0,p=0,v=!1,m=r.length;d<m;)i=r[d++],v||i.key===s?(v=!0,u(this,i.key)):p++;for(;p<m;)(i=r[p++]).key===s&&i.value===c||l(this,i.key,i.value)},{enumerable:!0,unsafe:!0})},4748(t,e,n){"use strict";var r=n(91652),i=n(3806),o=n(89049),a=n(57103),s=n(56065),c=n(44366);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,l=o(r),u={},h=0;l.length>h;)void 0!==(n=i(r,e=l[h++]))&&c(u,e,n);return u}})},4888(t,e,n){"use strict";var r=n(93534),i=n(11381).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},5415(t,e,n){t.exports=function(t,e){"use strict";class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(n,r){const i=e.isElement(r)?t.getDataAttribute(r,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...e.isElement(r)?t.getDataAttributes(r):{},..."object"==typeof n?n:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const n=t[r],o=e.isElement(n)?"element":e.toType(n);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}}}return n}(n(17575),n(35429))},5713(t,e,n){"use strict";var r,i,o,a,s=n(99466),c=n(459),l=n(5726),u=s.structuredClone,h=s.ArrayBuffer,f=s.MessageChannel,d=!1;if(l)d=function(t){u(t,{transfer:[t]})};else if(h)try{f||(r=c("worker_threads"))&&(f=r.MessageChannel),f&&(i=new f,o=new h(2),a=function(t){i.port1.postMessage(null,[t])},2===o.byteLength&&(a(o),0===o.byteLength&&(d=a)))}catch(t){}t.exports=d},5726(t,e,n){"use strict";var r=n(99466),i=n(50265),o=n(62381),a=n(74713),s=r.structuredClone;t.exports=!!s&&!i(function(){if("DENO"===a&&o>92||"NODE"===a&&o>94||"BROWSER"===a&&o>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength})},6047(t,e,n){"use strict";var r=n(3806),i=n(12106),o=n(70639),a=n(50265),s=n(57178),c=n(42891),l=n(77739),u=n(72139),h=n(99673),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||a(function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!==f({},t)[n]||s(f({},e)).join("")!==i})?function(t,e){for(var n=u(t),i=arguments.length,a=1,f=c.f,d=l.f;i>a;)for(var v,m=h(arguments[a++]),y=f?p(s(m),f(m)):s(m),g=y.length,b=0;g>b;)v=y[b++],r&&!o(d,m,v)||(n[v]=m[v]);return n}:f},6227(t,e,n){"use strict";var r=n(3806),i=n(95160),o=n(91436),a=ArrayBuffer.prototype;r&&!("detached"in a)&&i(a,"detached",{configurable:!0,get:function(){return o(this)}})},6419(t,e,n){"use strict";var r=n(20177),i=n(95160),o=n(58993),a=n(3806),s=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},6687(t,e,n){"use strict";var r=n(11269).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},6755(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(70639),a=n(12106),s=n(36613),c=n(3806),l=n(75373),u=n(50265),h=n(11467),f=n(8367),d=n(59637),p=n(57103),v=n(52519),m=n(48085),y=n(61994),g=n(72330),b=n(57178),_=n(52438),w=n(3476),S=n(42891),E=n(56065),x=n(20011),T=n(9399),A=n(77739),k=n(82554),O=n(95160),C=n(57495),P=n(4513),I=n(10067),M=n(62122),R=n(58993),L=n(11821),j=n(10009),D=n(90608),N=n(62005),B=n(19043),F=n(29507).forEach,U=P("hidden"),z="Symbol",H="prototype",G=B.set,q=B.getterFor(z),Y=Object[H],V=i.Symbol,W=V&&V[H],$=i.RangeError,K=i.TypeError,Z=i.QObject,X=E.f,J=x.f,Q=w.f,tt=A.f,et=a([].push),nt=C("symbols"),rt=C("op-symbols"),it=C("wks"),ot=!Z||!Z[H]||!Z[H].findChild,at=function(t,e,n){var r=X(Y,e);r&&delete Y[e],J(t,e,n),r&&t!==Y&&J(Y,e,r)},st=c&&u(function(){return 7!==g(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?at:J,ct=function(t,e){var n=nt[t]=g(W);return G(n,{type:z,tag:t,description:e}),c||(n.description=e),n},lt=function(t,e,n){t===Y&&lt(rt,e,n),d(t);var r=v(e);return d(n),h(nt,r)?(n.enumerable?(h(t,U)&&t[U][r]&&(t[U][r]=!1),n=g(n,{enumerable:y(0,!1)})):(h(t,U)||J(t,U,y(1,g(null))),t[U][r]=!0),st(t,r,n)):J(t,r,n)},ut=function(t,e){d(t);var n=p(e),r=b(n).concat(pt(n));return F(r,function(e){c&&!o(ht,n,e)||lt(t,e,n[e])}),t},ht=function(t){var e=v(t),n=o(tt,this,e);return!(this===Y&&h(nt,e)&&!h(rt,e))&&(!(n||!h(this,e)||!h(nt,e)||h(this,U)&&this[U][e])||n)},ft=function(t,e){var n=p(t),r=v(e);if(n!==Y||!h(nt,r)||h(rt,r)){var i=X(n,r);return!i||!h(nt,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},dt=function(t){var e=Q(p(t)),n=[];return F(e,function(t){h(nt,t)||h(I,t)||et(n,t)}),n},pt=function(t){var e=t===Y,n=Q(e?rt:p(t)),r=[];return F(n,function(t){!h(nt,t)||e&&!h(Y,t)||et(r,nt[t])}),r};l||(V=function(){if(f(W,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=M(t),n=function(t){var r=void 0===this?i:this;r===Y&&o(n,rt,t),h(r,U)&&h(r[U],e)&&(r[U][e]=!1);var a=y(1,t);try{st(r,e,a)}catch(t){if(!(t instanceof $))throw t;at(r,e,a)}};return c&&ot&&st(Y,e,{configurable:!0,set:n}),ct(e,t)},k(W=V[H],"toString",function(){return q(this).tag}),k(V,"withoutSetter",function(t){return ct(M(t),t)}),A.f=ht,x.f=lt,T.f=ut,E.f=ft,_.f=w.f=dt,S.f=pt,L.f=function(t){return ct(R(t),t)},c&&(O(W,"description",{configurable:!0,get:function(){return q(this).description}}),s||k(Y,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:V}),F(b(it),function(t){j(t)}),r({target:z,stat:!0,forced:!l},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?g(t):ut(g(t),e)},defineProperty:lt,defineProperties:ut,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:dt}),D(),N(V,z),I[U]=!0},6828(t,e,n){"use strict";var r=n(72330),i=n(95160),o=n(32073),a=n(88402),s=n(15093),c=n(21039),l=n(23442),u=n(49166),h=n(37007),f=n(6419),d=n(3806),p=n(92649).fastKey,v=n(19043),m=v.set,y=v.getterFor;t.exports={getConstructor:function(t,e,n,u){var h=t(function(t,i){s(t,f),m(t,{type:e,index:r(null),first:null,last:null,size:0}),d||(t.size=0),c(i)||l(i,t[u],{that:t,AS_ENTRIES:n})}),f=h.prototype,v=y(e),g=function(t,e,n){var r,i,o=v(t),a=b(t,e);return a?a.value=n:(o.last=a={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:null,removed:!1},o.first||(o.first=a),r&&(r.next=a),d?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},b=function(t,e){var n,r=v(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return o(f,{clear:function(){for(var t=v(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=r(null),d?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),d?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),o(f,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),d&&i(f,"size",{configurable:!0,get:function(){return v(this).size}}),h},setStrong:function(t,e,n){var r=e+" Iterator",i=y(e),o=y(r);u(t,e,function(t,e){m(this,{type:r,target:t,state:i(t),kind:e,last:null})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?h("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=null,h(void 0,!0))},n?"entries":"values",!n,!0),f(e)}}},7038(t,e,n){"use strict";var r=n(91652),i=n(92714),o=n(49659).indexOf,a=n(69312),s=i([].indexOf),c=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?s(this,t,e)||0:o(this,t,e)}})},7185(t,e,n){"use strict";var r=n(12106),i=n(31821),o=n(48085),a=n(58400),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(t){return function(e,n){var r,u,h=o(a(e)),f=i(n),d=h.length;return f<0||f>=d?t?"":void 0:(r=c(h,f))<55296||r>56319||f+1===d||(u=c(h,f+1))<56320||u>57343?t?s(h,f):r:t?l(h,f,f+2):u-56320+(r-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},7709(t,e,n){"use strict";var r=n(91652),i=n(3806),o=n(99466),a=n(12106),s=n(11467),c=n(91787),l=n(8367),u=n(48085),h=n(95160),f=n(35670),d=o.Symbol,p=d&&d.prototype;if(i&&c(d)&&(!("description"in p)||void 0!==d().description)){var v={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(v[e]=!0),e};f(m,d),m.prototype=p,p.constructor=m;var y="Symbol(description detection)"===String(d("description detection")),g=a(p.valueOf),b=a(p.toString),_=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),S=a("".slice);h(p,"description",{configurable:!0,get:function(){var t=g(this);if(s(v,t))return"";var e=b(t),n=y?S(e,7,-1):w(e,_,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},8210(t,e,n){"use strict";var r=n(58993)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},8367(t,e,n){"use strict";var r=n(12106);t.exports=r({}.isPrototypeOf)},8554(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9342(t,e,n){"use strict";var r=n(11269);t.exports=/web0s(?!.*chrome)/i.test(r)},9348(t,e,n){"use strict";var r=n(91652),i=n(20177),o=n(11467),a=n(48085),s=n(57495),c=n(77042),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=a(t);if(o(l,e))return l[e];var n=i("Symbol")(e);return l[e]=n,u[n]=e,n}})},9399(t,e,n){"use strict";var r=n(3806),i=n(67640),o=n(20011),a=n(59637),s=n(57103),c=n(57178);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=c(e),l=i.length,u=0;l>u;)o.f(t,n=i[u++],r[n]);return t}},9654(t,e,n){"use strict";var r=n(51712),i=n(93534).getTypedArrayConstructor;t.exports=function(t,e){return r(i(t),e)}},9794(t,e,n){"use strict";var r=n(91652),i=n(65963).start;r({target:"String",proto:!0,forced:n(38517)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9828(t,e,n){"use strict";var r=n(31821),i=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw new i("The argument can't be less than 0");return e}},9902(t,e,n){"use strict";var r=n(91652),i=n(29507).filter;r({target:"Array",proto:!0,forced:!n(87987)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},10009(t,e,n){"use strict";var r=n(52285),i=n(11467),o=n(11821),a=n(20011).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},10067(t){"use strict";t.exports={}},10259(t,e,n){"use strict";var r=n(93534),i=n(12106),o=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",function(t){return s(o(this),t)})},10957(t,e,n){"use strict";var r=n(91787),i=n(51544),o=n(40017);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},11269(t,e,n){"use strict";var r=n(99466).navigator,i=r&&r.userAgent;t.exports=i?String(i):""},11317(t,e,n){"use strict";var r=n(49675),i=n(57103),o=n(31821),a=n(2896),s=n(69312),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),f=u||!h;t.exports=f?function(t){if(u)return r(l,this,arguments)||0;var e=i(this),n=a(e);if(0===n)return-1;var s=n-1;for(arguments.length>1&&(s=c(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:l},11381(t,e,n){"use strict";var r=n(88402),i=n(99673),o=n(72139),a=n(2896),s=function(t){var e=1===t;return function(n,s,c){for(var l,u=o(n),h=i(u),f=a(h),d=r(s,c);f-- >0;)if(d(l=h[f],f,u))switch(t){case 0:return l;case 1:return f}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},11467(t,e,n){"use strict";var r=n(12106),i=n(72139),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},11483(t,e,n){"use strict";var r=n(52870),i=n(98960).has,o=n(43524),a=n(16235),s=n(67191),c=n(97313),l=n(71905);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<=n.size)return!1!==s(e,function(t){if(n.includes(t))return!1},!0);var u=n.getIterator();return!1!==c(u,function(t){if(i(e,t))return l(u,"normal",!1)})}},11763(t,e,n){"use strict";var r=n(91652),i=n(12106),o=n(48880),a=RangeError,s=String.fromCharCode,c=String.fromCodePoint,l=i([].join);r({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],o(e,1114111)!==e)throw new a(e+" is not a valid code point");n[i]=e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320)}return l(n,"")}})},11821(t,e,n){"use strict";var r=n(58993);e.f=r},12048(t,e,n){"use strict";n(54029);var r,i,o=n(91652),a=n(70639),s=n(91787),c=n(59637),l=n(48085),u=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),h=/./.test;o({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=c(this),n=l(t),r=e.exec;if(!s(r))return a(h,e,n);var i=a(r,e,n);return null!==i&&(c(i),!0)}})},12100(t,e,n){"use strict";var r=n(99466),i=n(71784),o=n(50286),a=r.ArrayBuffer,s=r.TypeError;t.exports=a&&i(a.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new s("ArrayBuffer expected");return t.byteLength}},12106(t,e,n){"use strict";var r=n(58354),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},12277(t,e,n){"use strict";var r=n(93534),i=n(29507).map,o=r.aTypedArray,a=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(a(t))(e)})})},12442(t,e,n){"use strict";var r=n(87874),i=Math.floor,o=function(t,e){var n=t.length;if(n<8)for(var a,s,c=1;c<n;){for(s=c,a=t[c];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==c++&&(t[s]=a)}else for(var l=i(n/2),u=o(r(t,0,l),e),h=o(r(t,l),e),f=u.length,d=h.length,p=0,v=0;p<f||v<d;)t[p+v]=p<f&&v<d?e(u[p],h[v])<=0?u[p++]:h[v++]:p<f?u[p++]:h[v++];return t};t.exports=o},12686(t,e,n){"use strict";var r=n(20011).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},13295(t,e,n){"use strict";var r=n(72139),i=n(48880),o=n(2896);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>s;)e[s++]=t;return e}},13623(t,e,n){"use strict";var r=n(55970),i=n(64607),o=n(51544),a=n(58993)("species"),s=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===s||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},13664(t,e,n){"use strict";var r=n(42811).IteratorPrototype,i=n(72330),o=n(61994),a=n(62005),s=n(59671),c=function(){return this};t.exports=function(t,e,n,l){var u=e+" Iterator";return t.prototype=i(r,{next:o(+!l,n)}),a(t,u,!1,!0),s[u]=c,t}},13757(t,e,n){"use strict";var r=n(91652),i=n(11381).findLastIndex,o=n(68423);r({target:"Array",proto:!0},{findLastIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},13820(t){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},13843(t,e,n){"use strict";var r=n(31821),i=n(48085),o=n(58400),a=RangeError;t.exports=function(t){var e=i(o(this)),n="",s=r(t);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},14204(t,e,n){"use strict";n(94562),n(72233),n(72009),n(97217),n(35231),n(14734)},14395(t,e,n){"use strict";var r=n(12106),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,l=r(a.exec),u=Math.floor,h=String.fromCharCode,f=r("".charCodeAt),d=r([].join),p=r([].push),v=r("".replace),m=r("".split),y=r("".toLowerCase),g=function(t){return t+22+75*(t<26)},b=function(t,e,n){var r=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;)t=u(t/35),r+=36;return u(r+36*t/(t+38))},_=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=f(t,n++);if(i>=55296&&i<=56319&&n<r){var o=f(t,n++);56320==(64512&o)?p(e,((1023&i)<<10)+(1023&o)+65536):(p(e,i),n--)}else p(e,i)}return e}(t);var n,r,o=t.length,a=128,l=0,v=72;for(n=0;n<t.length;n++)(r=t[n])<128&&p(e,h(r));var m=e.length,y=m;for(m&&p(e,"-");y<o;){var _=i;for(n=0;n<t.length;n++)(r=t[n])>=a&&r<_&&(_=r);var w=y+1;if(_-a>u((i-l)/w))throw new c(s);for(l+=(_-a)*w,a=_,n=0;n<t.length;n++){if((r=t[n])<a&&++l>i)throw new c(s);if(r===a){for(var S=l,E=36;;){var x=E<=v?1:E>=v+26?26:E-v;if(S<x)break;var T=S-x,A=36-x;p(e,h(g(x+T%A))),S=u(T/A),E+=36}p(e,h(g(S))),v=b(l,w,y===m),l=0,y++}}l++,a++}return d(e,"")};t.exports=function(t){var e,n,r=[],i=m(v(y(t),a,"."),".");for(e=0;e<i.length;e++)n=i[e],p(r,l(o,n)?"xn--"+_(n):n);return d(r,".")}},14734(t,e,n){"use strict";var r=n(91652),i=n(20177),o=n(36613),a=n(57632),s=n(73486).CONSTRUCTOR,c=n(24924),l=i("Promise"),u=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return c(u&&this===l?a:this,t)}})},14743(t,e,n){"use strict";var r=n(99466),i=n(49675),o=n(93534),a=n(50265),s=n(87874),c=r.Int8Array,l=o.aTypedArray,u=o.exportTypedArrayMethod,h=[].toLocaleString,f=!!c&&a(function(){h.call(new c(1))});u("toLocaleString",function(){return i(h,f?s(l(this)):l(this),s(arguments))},a(function(){return[1,2].toLocaleString()!==new c([1,2]).toLocaleString()})||!a(function(){c.prototype.toLocaleString.call([1,2])}))},14853(t,e,n){"use strict";var r=n(20177),i="DOMException";n(62005)(r(i),i)},15075(t,e,n){"use strict";var r=n(20046);t.exports=Math.fround||function(t){return r(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},15093(t,e,n){"use strict";var r=n(8367),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},15942(t,e,n){"use strict";var r=n(91652),i=n(33108).left,o=n(69312),a=n(62381);r({target:"Array",proto:!0,forced:!n(88423)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},16235(t,e,n){"use strict";var r=n(79224),i=n(59637),o=n(70639),a=n(31821),s=n(58985),c="Invalid size",l=RangeError,u=TypeError,h=Math.max,f=function(t,e){this.set=t,this.size=h(e,0),this.has=r(t.has),this.keys=r(t.keys)};f.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new u(c);var n=a(e);if(n<0)throw new l(c);return new f(t,n)}},16415(t,e,n){"use strict";var r=n(99466),i=n(8554),o=n(76318),a=n(92482),s=n(3693),c=n(62005),l=n(58993)("iterator"),u=a.values,h=function(t,e){if(t){if(t[l]!==u)try{s(t,l,u)}catch(e){t[l]=u}if(c(t,e,!0),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var f in i)h(r[f]&&r[f].prototype,f);h(o,"DOMTokenList")},16545(t,e,n){t.exports=function(t,e,n,r){"use strict";const i="5.3.8";class o extends n{constructor(e,n){super(),(e=r.getElement(e))&&(this._element=e,this._config=this._getConfig(n),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),e.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){r.executeAfterTransition(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(e){return t.get(r.getElement(e),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return i}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}return o}(n(220),n(67922),n(5415),n(35429))},16676(t,e,n){"use strict";var r=n(3806),i=n(83328).EXISTS,o=n(12106),a=n(95160),s=Function.prototype,c=o(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},16859(t,e,n){"use strict";var r=n(93534),i=n(29507).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},17309(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(31872),a=n(6419),s="ArrayBuffer",c=o[s];r({global:!0,constructor:!0,forced:i[s]!==c},{ArrayBuffer:c}),a(s)},17575(t){t.exports=function(){"use strict";function t(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function e(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}return{setDataAttribute(t,n,r){t.setAttribute(`data-bs-${e(n)}`,r)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${e(n)}`)},getDataAttributes(e){if(!e)return{};const n={},r=Object.keys(e.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const i of r){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1),n[r]=t(e.dataset[i])}return n},getDataAttribute:(n,r)=>t(n.getAttribute(`data-bs-${e(r)}`))}}()},18228(t,e,n){"use strict";var r=n(99466),i=n(91787),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},18234(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(49675),a=n(92431),s="WebAssembly",c=i[s],l=7!==new Error("e",{cause:7}).cause,u=function(t,e){var n={};n[t]=a(t,e,l),r({global:!0,constructor:!0,arity:1,forced:l},n)},h=function(t,e){if(c&&c[t]){var n={};n[t]=a(s+"."+t,e,l),r({target:s,stat:!0,constructor:!0,arity:1,forced:l},n)}};u("Error",function(t){return function(e){return o(t,this,arguments)}}),u("EvalError",function(t){return function(e){return o(t,this,arguments)}}),u("RangeError",function(t){return function(e){return o(t,this,arguments)}}),u("ReferenceError",function(t){return function(e){return o(t,this,arguments)}}),u("SyntaxError",function(t){return function(e){return o(t,this,arguments)}}),u("TypeError",function(t){return function(e){return o(t,this,arguments)}}),u("URIError",function(t){return function(e){return o(t,this,arguments)}}),h("CompileError",function(t){return function(e){return o(t,this,arguments)}}),h("LinkError",function(t){return function(e){return o(t,this,arguments)}}),h("RuntimeError",function(t){return function(e){return o(t,this,arguments)}})},18899(t,e,n){"use strict";var r=n(91652),i=n(3806),o=n(20011).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},19043(t,e,n){"use strict";var r,i,o,a=n(18228),s=n(99466),c=n(51544),l=n(3693),u=n(11467),h=n(38263),f=n(4513),d=n(10067),p="Object already initialized",v=s.TypeError,m=s.WeakMap;if(a||h.state){var y=h.state||(h.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw new v(p);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var g=f("state");d[g]=!0,r=function(t,e){if(u(t,g))throw new v(p);return e.facade=t,l(t,g,e),e},i=function(t){return u(t,g)?t[g]:{}},o=function(t){return u(t,g)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},19741(t,e,n){"use strict";var r=n(11467);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},19830(t,e,n){"use strict";var r=n(91652),i=n(31024);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("isSubsetOf",function(t){return t})},{isSubsetOf:i})},19959(t,e,n){var r;t.exports=(r=r||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(50477)}catch(t){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new l.init(e,t)}}),u=a.enc={},h=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},f=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},d=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,o);if(c){for(var h=0;h<c;h+=a)this._doProcessBlock(i,h);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new v.HMAC.init(t,n).finalize(e)}}}),a.algo={});return a}(Math),r)},20011(t,e,n){"use strict";var r=n(3806),i=n(83719),o=n(67640),a=n(59637),s=n(52519),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=u(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:h in n?n[h]:r[h],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},20015(t,e,n){"use strict";var r=n(99466),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},20046(t,e,n){"use strict";var r=n(95492),i=n(41552),o=Math.abs;t.exports=function(t,e,n,a){var s=+t,c=o(s),l=r(s);if(c<a)return l*i(c/a/e)*a*e;var u=(1+e/2220446049250313e-31)*c,h=u-(u-c);return h>n||h!=h?l*(1/0):l*h}},20172(t,e,n){"use strict";n(41178);var r,i=n(91652),o=n(3806),a=n(28314),s=n(99466),c=n(88402),l=n(12106),u=n(82554),h=n(95160),f=n(15093),d=n(11467),p=n(6047),v=n(49470),m=n(87874),y=n(7185).codeAt,g=n(14395),b=n(48085),_=n(62005),w=n(40706),S=n(43368),E=n(19043),x=E.set,T=E.getterFor("URL"),A=S.URLSearchParams,k=S.getState,O=s.URL,C=s.TypeError,P=s.parseInt,I=Math.floor,M=Math.pow,R=l("".charAt),L=l(/./.exec),j=l([].join),D=l(1.1.toString),N=l([].pop),B=l([].push),F=l("".replace),U=l([].shift),z=l("".split),H=l("".slice),G=l("".toLowerCase),q=l([].unshift),Y="Invalid scheme",V="Invalid host",W="Invalid port",$=/[a-z]/i,K=/[\d+-.a-z]/i,Z=/\d/,X=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,nt=/[\0\t\n\r #/:<>?@[\\\]^|]/,rt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ot=/[\t\n\r]/g,at=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)q(e,t%256),t=I(t/256);return j(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n?r:e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=D(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},st={},ct=p({},st,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=p({},ct,{"#":1,"?":1,"{":1,"}":1}),ut=p({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var n=y(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var n;return 2===t.length&&L($,R(t,0))&&(":"===(n=R(t,1))||!e&&"|"===n)},pt=function(t){var e;return t.length>1&&dt(H(t,0,2))&&(2===t.length||"/"===(e=R(t,2))||"\\"===e||"?"===e||"#"===e)},vt=function(t){return"."===t||"%2e"===G(t)},mt=function(t){return".."===(t=G(t))||"%2e."===t||".%2e"===t||"%2e%2e"===t},yt={},gt={},bt={},_t={},wt={},St={},Et={},xt={},Tt={},At={},kt={},Ot={},Ct={},Pt={},It={},Mt={},Rt={},Lt={},jt={},Dt={},Nt={},Bt=function(t,e,n){var r,i,o,a=b(t);if(e){if(i=this.parse(a))throw new C(i);this.searchParams=null}else{if(void 0!==n&&(r=new Bt(n,!0)),i=this.parse(a,null,r))throw new C(i);(o=k(new A)).bindURL(this),this.searchParams=o}};Bt.prototype={type:"URL",parse:function(t,e,n){var i,o,a,s,c=this,l=e||yt,u=0,h="",f=!1,p=!1,y=!1;for(t=b(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=F(t,rt,""),t=F(t,it,"$1")),t=F(t,ot,""),i=v(t);u<=i.length;){switch(o=i[u],l){case yt:if(!o||!L($,o)){if(e)return Y;l=bt;continue}h+=G(o),l=gt;break;case gt:if(o&&(L(K,o)||"+"===o||"-"===o||"."===o))h+=G(o);else{if(":"!==o){if(e)return Y;h="",l=bt,u=0;continue}if(e&&(c.isSpecial()!==d(ft,h)||"file"===h&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=h,e)return void(c.isSpecial()&&ft[c.scheme]===c.port&&(c.port=null));h="","file"===c.scheme?l=Pt:c.isSpecial()&&n&&n.scheme===c.scheme?l=_t:c.isSpecial()?l=xt:"/"===i[u+1]?(l=wt,u++):(c.cannotBeABaseURL=!0,B(c.path,""),l=jt)}break;case bt:if(!n||n.cannotBeABaseURL&&"#"!==o)return Y;if(n.cannotBeABaseURL&&"#"===o){c.scheme=n.scheme,c.path=m(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Nt;break}l="file"===n.scheme?Pt:St;continue;case _t:if("/"!==o||"/"!==i[u+1]){l=St;continue}l=Tt,u++;break;case wt:if("/"===o){l=At;break}l=Lt;continue;case St:if(c.scheme=n.scheme,o===r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query;else if("/"===o||"\\"===o&&c.isSpecial())l=Et;else if("?"===o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query="",l=Dt;else{if("#"!==o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.path.length--,l=Lt;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query,c.fragment="",l=Nt}break;case Et:if(!c.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Lt;continue}l=At}else l=Tt;break;case xt:if(l=Tt,"/"!==o||"/"!==R(h,u+1))continue;u++;break;case Tt:if("/"!==o&&"\\"!==o){l=At;continue}break;case At:if("@"===o){f&&(h="%40"+h),f=!0,a=v(h);for(var g=0;g<a.length;g++){var _=a[g];if(":"!==_||y){var w=ht(_,ut);y?c.password+=w:c.username+=w}else y=!0}h=""}else if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(f&&""===h)return"Invalid authority";u-=v(h).length+1,h="",l=kt}else h+=o;break;case kt:case Ot:if(e&&"file"===c.scheme){l=Mt;continue}if(":"!==o||p){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(c.isSpecial()&&""===h)return V;if(e&&""===h&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(h))return s;if(h="",l=Rt,e)return;continue}"["===o?p=!0:"]"===o&&(p=!1),h+=o}else{if(""===h)return V;if(s=c.parseHost(h))return s;if(h="",l=Ct,e===Ot)return}break;case Ct:if(!L(Z,o)){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()||e){if(""!==h){var S=P(h,10);if(S>65535)return W;c.port=c.isSpecial()&&S===ft[c.scheme]?null:S,h=""}if(e)return;l=Rt;continue}return W}h+=o;break;case Pt:if(c.scheme="file","/"===o||"\\"===o)l=It;else{if(!n||"file"!==n.scheme){l=Lt;continue}switch(o){case r:c.host=n.host,c.path=m(n.path),c.query=n.query;break;case"?":c.host=n.host,c.path=m(n.path),c.query="",l=Dt;break;case"#":c.host=n.host,c.path=m(n.path),c.query=n.query,c.fragment="",l=Nt;break;default:pt(j(m(i,u),""))||(c.host=n.host,c.path=m(n.path),c.shortenPath()),l=Lt;continue}}break;case It:if("/"===o||"\\"===o){l=Mt;break}n&&"file"===n.scheme&&!pt(j(m(i,u),""))&&(dt(n.path[0],!0)?B(c.path,n.path[0]):c.host=n.host),l=Lt;continue;case Mt:if(o===r||"/"===o||"\\"===o||"?"===o||"#"===o){if(!e&&dt(h))l=Lt;else if(""===h){if(c.host="",e)return;l=Rt}else{if(s=c.parseHost(h))return s;if("localhost"===c.host&&(c.host=""),e)return;h="",l=Rt}continue}h+=o;break;case Rt:if(c.isSpecial()){if(l=Lt,"/"!==o&&"\\"!==o)continue}else if(e||"?"!==o)if(e||"#"!==o){if(o!==r&&(l=Lt,"/"!==o))continue}else c.fragment="",l=Nt;else c.query="",l=Dt;break;case Lt:if(o===r||"/"===o||"\\"===o&&c.isSpecial()||!e&&("?"===o||"#"===o)){if(mt(h)?(c.shortenPath(),"/"===o||"\\"===o&&c.isSpecial()||B(c.path,"")):vt(h)?"/"===o||"\\"===o&&c.isSpecial()||B(c.path,""):("file"===c.scheme&&!c.path.length&&dt(h)&&(c.host&&(c.host=""),h=R(h,0)+":"),B(c.path,h)),h="","file"===c.scheme&&(o===r||"?"===o||"#"===o))for(;c.path.length>1&&""===c.path[0];)U(c.path);"?"===o?(c.query="",l=Dt):"#"===o&&(c.fragment="",l=Nt)}else h+=ht(o,lt);break;case jt:"?"===o?(c.query="",l=Dt):"#"===o?(c.fragment="",l=Nt):o!==r&&(c.path[0]+=ht(o,st));break;case Dt:e||"#"!==o?o!==r&&("'"===o&&c.isSpecial()?c.query+="%27":c.query+="#"===o?"%23":ht(o,st)):(c.fragment="",l=Nt);break;case Nt:o!==r&&(c.fragment+=ht(o,ct))}u++}},parseHost:function(t){var e,n,r;if("["===R(t,0)){if("]"!==R(t,t.length-1))return V;if(e=function(t){var e,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,h=0,f=function(){return R(t,h)};if(":"===f()){if(":"!==R(t,1))return;h+=2,u=++l}for(;f();){if(8===l)return;if(":"!==f()){for(e=n=0;n<4&&L(tt,f());)e=16*e+P(f(),16),h++,n++;if("."===f()){if(0===n)return;if(h-=n,l>6)return;for(r=0;f();){if(i=null,r>0){if(!("."===f()&&r<4))return;h++}if(!L(Z,f()))return;for(;L(Z,f());){if(o=P(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;h++}c[l]=256*c[l]+i,2!==++r&&4!==r||l++}if(4!==r)return;break}if(":"===f()){if(h++,!f())return}else if(f())return;c[l++]=e}else{if(null!==u)return;h++,u=++l}}if(null!==u)for(a=l-u,l=7;0!==l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!==l)return;return c}(H(t,1,-1)),!e)return V;this.host=e}else if(this.isSpecial()){if(t=g(t),L(et,t))return V;if(e=function(t){var e,n,r,i,o,a,s,c=z(t,".");if(c.length&&""===c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""===(i=c[r]))return t;if(o=10,i.length>1&&"0"===R(i,0)&&(o=L(X,i)?16:8,i=H(i,8===o?1:2)),""===i)a=0;else{if(!L(10===o?Q:8===o?J:tt,i))return t;a=P(i,o)}B(n,a)}for(r=0;r<e;r++)if(a=n[r],r===e-1){if(a>=M(256,5-e))return null}else if(a>255)return null;for(s=N(n),r=0;r<n.length;r++)s+=n[r]*M(256,3-r);return s}(t),null===e)return V;this.host=e}else{if(L(nt,t))return V;for(e="",n=v(t),r=0;r<n.length;r++)e+=ht(n[r],st);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==i?(l+="//",t.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=at(i),null!==o&&(l+=":"+o)):"file"===e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+j(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(t){var e=this.parse(t);if(e)throw new C(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Ft(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+at(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",yt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=ht(e[n],ut)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=ht(e[n],ut)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?at(t):at(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,kt)},getHostname:function(){var t=this.host;return null===t?"":at(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ot)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=b(t))?this.port=null:this.parse(t,Ct))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+j(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Rt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=b(t))?this.query=null:("?"===R(t,0)&&(t=H(t,1)),this.query="",this.parse(t,Dt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=b(t))?("#"===R(t,0)&&(t=H(t,1)),this.fragment="",this.parse(t,Nt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ft=function(t){var e=f(this,Ut),n=w(arguments.length,1)>1?arguments[1]:void 0,r=x(e,new Bt(t,!1,n));o||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Ut=Ft.prototype,zt=function(t,e){return{get:function(){return T(this)[t]()},set:e&&function(t){return T(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(h(Ut,"href",zt("serialize","setHref")),h(Ut,"origin",zt("getOrigin")),h(Ut,"protocol",zt("getProtocol","setProtocol")),h(Ut,"username",zt("getUsername","setUsername")),h(Ut,"password",zt("getPassword","setPassword")),h(Ut,"host",zt("getHost","setHost")),h(Ut,"hostname",zt("getHostname","setHostname")),h(Ut,"port",zt("getPort","setPort")),h(Ut,"pathname",zt("getPathname","setPathname")),h(Ut,"search",zt("getSearch","setSearch")),h(Ut,"searchParams",zt("getSearchParams")),h(Ut,"hash",zt("getHash","setHash"))),u(Ut,"toJSON",function(){return T(this).serialize()},{enumerable:!0}),u(Ut,"toString",function(){return T(this).serialize()},{enumerable:!0}),O){var Ht=O.createObjectURL,Gt=O.revokeObjectURL;Ht&&u(Ft,"createObjectURL",c(Ht,O)),Gt&&u(Ft,"revokeObjectURL",c(Gt,O))}_(Ft,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Ft})},20177(t,e,n){"use strict";var r=n(99466),i=n(91787);t.exports=function(t,e){return arguments.length<2?(n=r[t],i(n)?n:void 0):r[t]&&r[t][e];var n}},20229(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},20366(t,e,n){"use strict";var r=n(3806),i=n(50265),o=n(59637),a=n(85361),s=Error.prototype.toString,c=i(function(){if(r){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==s.call(t))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})});t.exports=c?function(){var t=o(this),e=a(t.name,"Error"),n=a(t.message);return e?n?e+": "+n:e:n}:s},20730(t,e,n){"use strict";var r=n(93534),i=n(2896),o=n(31821),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",function(t){var e=a(this),n=i(e),r=o(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]})},21039(t){"use strict";t.exports=function(t){return null==t}},21087(t,e,n){"use strict";var r=n(20177),i=n(91787),o=n(8367),a=n(99134),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},21187(t,e,n){"use strict";var r=n(99466),i=n(70639),o=n(93534),a=n(2896),s=n(34483),c=n(72139),l=n(50265),u=r.RangeError,h=r.Int8Array,f=h&&h.prototype,d=f&&f.set,p=o.aTypedArray,v=o.exportTypedArrayMethod,m=!l(function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]}),y=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&l(function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]});v("set",function(t){p(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(m)return i(d,this,n,e);var r=this.length,o=a(n),l=0;if(o+e>r)throw new u("Wrong length");for(;l<o;)this[e+l]=n[l++]},!m||y)},21289(t,e,n){"use strict";var r=n(99466),i=n(51544),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},21767(t,e,n){"use strict";var r=n(91652),i=n(29507).find,o=n(68423),a="find",s=!0;a in[]&&Array(1)[a](function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},22559(t,e,n){t.exports=function(t,e,n){"use strict";const r=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",i=".sticky-top",o="padding-right",a="margin-right";class s{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,o,e=>e+t),this._setElementAttributes(r,o,e=>e+t),this._setElementAttributes(i,a,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,o),this._resetElementAttributes(r,o),this._resetElementAttributes(i,a)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(i))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&t.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=e=>{const r=t.getDataAttribute(e,n);null!==r?(t.removeDataAttribute(e,n),e.style.setProperty(n,r)):e.style.removeProperty(n)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(t,r){if(n.isElement(t))r(t);else for(const n of e.find(t,this._element))r(n)}}return s}(n(17575),n(82613),n(35429))},22621(t){"use strict";var e=TypeError;t.exports=function(t){if("string"==typeof t)return t;throw new e("Argument is not a string")}},22935(t,e,n){"use strict";var r=n(83328).PROPER,i=n(82554),o=n(59637),a=n(48085),s=n(50265),c=n(60120),l="toString",u=RegExp.prototype,h=u[l],f=s(function(){return"/a/b"!==h.call({source:"a",flags:"b"})}),d=r&&h.name!==l;(f||d)&&i(u,l,function(){var t=o(this);return"/"+a(t.source)+"/"+a(c(t))},{unsafe:!0})},22962(t,e,n){"use strict";var r=n(11269);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},23442(t,e,n){"use strict";var r=n(88402),i=n(70639),o=n(59637),a=n(74185),s=n(50051),c=n(2896),l=n(8367),u=n(36903),h=n(77481),f=n(71905),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var m,y,g,b,_,w,S,E=n&&n.that,x=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),O=r(e,E),C=function(t){return m&&f(m,"normal"),new p(!0,t)},P=function(t){return x?(o(t),k?O(t[0],t[1],C):O(t[0],t[1])):k?O(t,C):O(t)};if(T)m=t.iterator;else if(A)m=t;else{if(!(y=h(t)))throw new d(a(t)+" is not iterable");if(s(y)){for(g=0,b=c(t);b>g;g++)if((_=P(t[g]))&&l(v,_))return _;return new p(!1)}m=u(t,y)}for(w=T?t.next:m.next;!(S=i(w,m)).done;){try{_=P(S.value)}catch(t){f(m,"throw",t)}if("object"==typeof _&&_&&l(v,_))return _}return new p(!1)}},23517(t,e,n){"use strict";var r=n(91652),i=n(36613),o=n(57632),a=n(50265),s=n(20177),c=n(91787),l=n(79235),u=n(24924),h=n(82554),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=l(this,s("Promise")),n=c(t);return this.then(n?function(n){return u(e,t()).then(function(){return n})}:t,n?function(n){return u(e,t()).then(function(){throw n})}:t)}}),!i&&c(o)){var d=s("Promise").prototype.finally;f.finally!==d&&h(f,"finally",d,{unsafe:!0})}},23632(t,e,n){"use strict";var r=n(40257),i=TypeError;t.exports=function(t){if("Uint8Array"===r(t))return t;throw new i("Argument is not an Uint8Array")}},23903(t,e,n){"use strict";var r=n(51544);t.exports=function(t){return r(t)||null===t}},24142(t,e,n){"use strict";var r=n(59637),i=n(70236),o=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},24664(t,e,n){"use strict";var r=n(91652),i=n(55970),o=n(64607),a=n(51544),s=n(48880),c=n(2896),l=n(57103),u=n(44366),h=n(58993),f=n(87987),d=n(87874),p=f("slice"),v=h("species"),m=Array,y=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,h,f=l(this),p=c(f),g=s(t,p),b=s(void 0===e?p:e,p);if(i(f)&&(n=f.constructor,(o(n)&&(n===m||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return d(f,g,b);for(r=new(void 0===n?m:n)(y(b-g,0)),h=0;g<b;g++,h++)g in f&&u(r,h,f[g]);return r.length=h,r}})},24924(t,e,n){"use strict";var r=n(59637),i=n(51544),o=n(75477);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},25112(t,e,n){"use strict";var r=n(91652),i=n(12106),o=n(99673),a=n(57103),s=n(69312),c=i([].join);r({target:"Array",proto:!0,forced:o!==Object||!s("join",",")},{join:function(t){return c(a(this),void 0===t?",":t)}})},26199(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(79224),a=n(59637),s=n(58985),c=n(71044),l=n(73605),u=n(36613),h=n(71905),f=n(28798),d=n(45059),p=!u&&!f("filter",function(){}),v=!u&&!p&&d("filter",TypeError),m=u||p||v,y=c(function(){for(var t,e,n=this.iterator,r=this.predicate,o=this.next;;){if(t=a(i(o,n)),this.done=!!t.done)return;if(e=t.value,l(n,r,[e,this.counter++],!0))return e}});r({target:"Iterator",proto:!0,real:!0,forced:m},{filter:function(t){a(this);try{o(t)}catch(t){h(this,"throw",t)}return v?i(v,this,t):new y(s(this),{predicate:t})}})},26312(t,e,n){"use strict";var r=n(91652),i=n(82081),o=n(79224),a=n(72139),s=n(2896),c=n(71591);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=s(n);return o(t),(e=c(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},26521(t,e,n){"use strict";var r=n(51544),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},27002(t,e,n){"use strict";var r=n(20177),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},o=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var n=r("Set");try{(new n)[t](i(0));try{return(new n)[t](i(-1)),!1}catch(r){if(!e)return!0;try{return(new n)[t](o(-1/0)),!1}catch(r){return e(new n([1,2])[t](o(1/0)))}}}catch(t){return!1}}},27068(t,e,n){"use strict";var r=n(74185),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},27329(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(92714),a=n(13664),s=n(37007),c=n(58400),l=n(73556),u=n(48085),h=n(59637),f=n(51544),d=n(50286),p=n(52946),v=n(60120),m=n(54996),y=n(82554),g=n(50265),b=n(58993),_=n(79235),w=n(70275),S=n(87772),E=n(19043),x=n(36613),T=b("matchAll"),A="RegExp String",k=A+" Iterator",O=E.set,C=E.getterFor(k),P=RegExp.prototype,I=TypeError,M=o("".indexOf),R=o("".matchAll),L=!!R&&!g(function(){R("a",/./)}),j=a(function(t,e,n,r){O(this,{type:k,regexp:t,string:e,global:n,unicode:r,done:!1})},A,function(){var t=C(this);if(t.done)return s(void 0,!0);var e=t.regexp,n=t.string,r=S(e,n);return null===r?(t.done=!0,s(void 0,!0)):t.global?(""===u(r[0])&&(e.lastIndex=w(n,l(e.lastIndex),t.unicode)),s(r,!1)):(t.done=!0,s(r,!1))}),D=function(t){var e,n,r,i=h(this),o=u(t),a=_(i,RegExp),s=u(v(i));return e=new a(a===RegExp?i.source:i,s),n=!!~M(s,"g"),r=!!~M(s,"u"),e.lastIndex=l(i.lastIndex),new j(e,o,n,r)};r({target:"String",proto:!0,forced:L},{matchAll:function(t){var e,n,r,o,a=c(this);if(f(t)){if(p(t)&&(e=u(c(v(t))),!~M(e,"g")))throw new I("`.matchAll` does not allow non-global regexes");if(L)return R(a,t);if(void 0===(r=m(t,T))&&x&&"RegExp"===d(t)&&(r=D),r)return i(r,t,a)}else if(L)return R(a,t);return n=u(a),o=new RegExp(t,"g"),x?i(D,o,n):o[T](n)}}),x||T in P||y(P,T,D)},27565(t,e,n){"use strict";var r=n(59637);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},27649(t,e,n){"use strict";var r,i,o=n(70639),a=n(12106),s=n(48085),c=n(27565),l=n(1179),u=n(57495),h=n(72330),f=n(19043).get,d=n(90717),p=n(82416),v=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,g=a("".charAt),b=a("".indexOf),_=a("".replace),w=a("".slice),S=(i=/b*/g,o(m,r=/a/,"a"),o(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),E=l.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(S||x||E||d||p)&&(y=function(t){var e,n,r,i,a,l,u,d=this,p=f(d),T=s(t),A=p.raw;if(A)return A.lastIndex=d.lastIndex,e=o(y,A,T),d.lastIndex=A.lastIndex,e;var k=p.groups,O=E&&d.sticky,C=o(c,d),P=d.source,I=0,M=T;if(O&&(C=_(C,"y",""),-1===b(C,"g")&&(C+="g"),M=w(T,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==g(T,d.lastIndex-1))&&(P="(?: "+P+")",M=" "+M,I++),n=new RegExp("^(?:"+P+")",C)),x&&(n=new RegExp("^"+P+"$(?!\\s)",C)),S&&(r=d.lastIndex),i=o(m,O?n:d,M),O?i?(i.input=w(i.input,I),i[0]=w(i[0],I),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:S&&i&&(d.lastIndex=d.global?i.index+i[0].length:r),x&&i&&i.length>1&&o(v,i[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)}),i&&k)for(i.groups=l=h(null),a=0;a<k.length;a++)l[(u=k[a])[0]]=i[u[1]];return i}),t.exports=y},28314(t,e,n){"use strict";var r=n(50265),i=n(58993),o=n(3806),a=n(36613),s=i("iterator");t.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach(function(t,n){e.delete("b"),r+=n+t}),n.delete("a",2),n.delete("b",void 0),a&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!e.size&&(a||!o)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host})},28507(t,e,n){"use strict";var r=n(84098),i=n(93534),o=n(84485),a=n(31821),s=n(61716),c=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,h=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),f=h&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();u("with",{with:function(t,e){var n=c(this),i=a(t),u=o(n)?s(e):+e;return r(n,l(n),i,u)}}.with,!h||f)},28545(t,e,n){"use strict";var r=n(91652),i=n(20177),o=n(459),a=n(50265),s=n(72330),c=n(61994),l=n(20011).f,u=n(82554),h=n(95160),f=n(11467),d=n(15093),p=n(59637),v=n(20366),m=n(85361),y=n(50340),g=n(56687),b=n(19043),_=n(3806),w=n(36613),S="DOMException",E="DATA_CLONE_ERR",x=i("Error"),T=i(S)||function(){try{(new(i("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===E&&25===t.code)return t.constructor}}(),A=T&&T.prototype,k=x.prototype,O=b.set,C=b.getterFor(S),P="stack"in new x(S),I=function(t){return f(y,t)&&y[t].m?y[t].c:0},M=function(){d(this,R);var t=arguments.length,e=m(t<1?void 0:arguments[0]),n=m(t<2?void 0:arguments[1],"Error"),r=I(n);if(O(this,{type:S,name:n,message:e,code:r}),_||(this.name=n,this.message=e,this.code=r),P){var i=new x(e);i.name=S,l(this,"stack",c(1,g(i.stack,1)))}},R=M.prototype=s(k),L=function(t){return{enumerable:!0,configurable:!0,get:t}},j=function(t){return L(function(){return C(this)[t]})};_&&(h(R,"code",j("code")),h(R,"message",j("message")),h(R,"name",j("name"))),l(R,"constructor",c(1,M));var D=a(function(){return!(new T instanceof x)}),N=D||a(function(){return k.toString!==v||"2: 1"!==String(new T(1,2))}),B=D||a(function(){return 25!==new T(1,"DataCloneError").code}),F=D||25!==T[E]||25!==A[E],U=w?N||B||F:D;r({global:!0,constructor:!0,forced:U},{DOMException:U?M:T});var z=i(S),H=z.prototype;for(var G in N&&(w||T===z)&&u(H,"toString",v),B&&_&&T===z&&h(H,"code",L(function(){return I(p(this).name)})),y)if(f(y,G)){var q=y[G],Y=q.s,V=c(6,q.c);f(z,Y)||l(z,Y,V),f(H,Y)||l(H,Y,V)}},28651(t,e,n){var r;t.exports=(r=n(19959),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var l=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],h=n[6],f=n[7],d=0;d<64;d++){if(d<16)l[d]=0|t[e+d];else{var p=l[d-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=l[d-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[d]=v+l[d-7]+y+l[d-16]}var g=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&h)+c[d]+l[d];f=h,h=u,u=s,s=a+_|0,a=o,o=i,i=r,r=_+(b+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),r.SHA256)},28798(t){"use strict";t.exports=function(t,e){var n="function"==typeof Iterator&&Iterator.prototype[t];if(n)try{n.call({next:null},e).next()}catch(t){return!0}}},28922(t,e,n){t.exports=function(t,e,n){"use strict";const r="focustrap",i=".bs.focustrap",o=`focusin${i}`,a=`keydown.tab${i}`,s="Tab",c="forward",l="backward",u={autofocus:!0,trapElement:null},h={autofocus:"boolean",trapElement:"element"};class f extends n{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return u}static get DefaultType(){return h}static get NAME(){return r}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),t.off(document,i),t.on(document,o,t=>this._handleFocusin(t)),t.on(document,a,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,t.off(document,i))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=e.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===l?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===s&&(this._lastTabNavDirection=t.shiftKey?l:c)}}return f}(n(67922),n(82613),n(5415))},29193(t,e,n){"use strict";var r=n(3806),i=n(55970),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},29455(t,e,n){"use strict";var r=n(91652),i=n(20177),o=n(49675),a=n(88692),s=n(30806),c=n(59637),l=n(51544),u=n(72330),h=n(50265),f=i("Reflect","construct"),d=Object.prototype,p=[].push,v=h(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),m=!h(function(){f(function(){})}),y=v||m;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),c(e);var n=arguments.length<3?t:s(arguments[2]);if(m&&!v)return f(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,h=u(l(i)?i:d),y=o(t,h,e);return l(y)?y:h}})},29507(t,e,n){"use strict";var r=n(88402),i=n(12106),o=n(99673),a=n(72139),s=n(2896),c=n(71591),l=i([].push),u=function(t){var e=1===t,n=2===t,i=3===t,u=4===t,h=6===t,f=7===t,d=5===t||h;return function(p,v,m,y){for(var g,b,_=a(p),w=o(_),S=s(w),E=r(v,m),x=0,T=y||c,A=e?T(p,S):n||f?T(p,0):void 0;S>x;x++)if((d||x in w)&&(b=E(g=w[x],x,_),t))if(e)A[x]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:l(A,g)}else switch(t){case 4:return!1;case 7:l(A,g)}return h?-1:i||u?u:A}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},30806(t,e,n){"use strict";var r=n(64607),i=n(74185),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},31024(t,e,n){"use strict";var r=n(52870),i=n(43524),o=n(67191),a=n(16235);t.exports=function(t){var e=r(this),n=a(t);return!(i(e)>n.size)&&!1!==o(e,function(t){if(!n.includes(t))return!1},!0)}},31181(t,e,n){"use strict";var r=n(50265),i=n(61994);t.exports=!r(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)})},31809(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(70639),a=n(3806),s=n(80763),c=n(93534),l=n(31872),u=n(15093),h=n(61994),f=n(3693),d=n(26521),p=n(73556),v=n(45814),m=n(34483),y=n(53561),g=n(52519),b=n(11467),_=n(40257),w=n(51544),S=n(21087),E=n(72330),x=n(8367),T=n(40017),A=n(52438).f,k=n(67301),O=n(29507).forEach,C=n(6419),P=n(95160),I=n(20011),M=n(56065),R=n(51712),L=n(19043),j=n(10957),D=L.get,N=L.set,B=L.enforce,F=I.f,U=M.f,z=i.RangeError,H=l.ArrayBuffer,G=H.prototype,q=l.DataView,Y=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_TAG,W=c.TypedArray,$=c.TypedArrayPrototype,K=c.isTypedArray,Z="BYTES_PER_ELEMENT",X="Wrong length",J=function(t,e){P(t,e,{configurable:!0,get:function(){return D(this)[e]}})},Q=function(t){var e;return x(G,t)||"ArrayBuffer"===(e=_(t))||"SharedArrayBuffer"===e},tt=function(t,e){return K(t)&&!S(e)&&e in t&&d(+e)&&e>=0},et=function(t,e){return e=g(e),tt(t,e)?h(2,t[e]):U(t,e)},nt=function(t,e,n){return e=g(e),!(tt(t,e)&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?F(t,e,n):(t[e]=n.value,t)};a?(Y||(M.f=et,I.f=nt,J($,"buffer"),J($,"byteOffset"),J($,"byteLength"),J($,"length")),r({target:"Object",stat:!0,forced:!Y},{getOwnPropertyDescriptor:et,defineProperty:nt}),t.exports=function(t,e,n){var a=t.match(/\d+/)[0]/8,c=t+(n?"Clamped":"")+"Array",l="get"+t,h="set"+t,d=i[c],g=d,b=g&&g.prototype,_={},S=function(t,e){F(t,e,{get:function(){return function(t,e){var n=D(t);return n.view[l](e*a+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=D(t);i.view[h](e*a+i.byteOffset,n?y(r):r,!0)}(this,e,t)},enumerable:!0})};Y?s&&(g=e(function(t,e,n,r){return u(t,b),j(w(e)?Q(e)?void 0!==r?new d(e,m(n,a),r):void 0!==n?new d(e,m(n,a)):new d(e):K(e)?R(g,e):o(k,g,e):new d(v(e)),t,g)}),T&&T(g,W),O(A(d),function(t){t in g||f(g,t,d[t])}),g.prototype=b):(g=e(function(t,e,n,r){u(t,b);var i,s,c,l=0,h=0;if(w(e)){if(!Q(e))return K(e)?R(g,e):o(k,g,e);i=e,h=m(n,a);var f=e.byteLength;if(void 0===r){if(f%a)throw new z(X);if((s=f-h)<0)throw new z(X)}else if((s=p(r)*a)+h>f)throw new z(X);c=s/a}else c=v(e),i=new H(s=c*a);for(N(t,{buffer:i,byteOffset:h,byteLength:s,length:c,view:new q(i)});l<c;)S(t,l++)}),T&&T(g,W),b=g.prototype=E($)),b.constructor!==g&&f(b,"constructor",g),B(b).TypedArrayConstructor=g,V&&f(b,V,c);var x=g!==d;_[c]=g,r({global:!0,constructor:!0,forced:x,sham:!Y},_),Z in g||f(g,Z,a),Z in b||f(b,Z,a),C(c)}):t.exports=function(){}},31821(t,e,n){"use strict";var r=n(88871);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},31872(t,e,n){"use strict";var r=n(99466),i=n(12106),o=n(3806),a=n(95057),s=n(83328),c=n(3693),l=n(95160),u=n(32073),h=n(50265),f=n(15093),d=n(31821),p=n(73556),v=n(45814),m=n(15075),y=n(63728),g=n(3421),b=n(40017),_=n(13295),w=n(87874),S=n(10957),E=n(35670),x=n(62005),T=n(19043),A=s.PROPER,k=s.CONFIGURABLE,O="ArrayBuffer",C="DataView",P="prototype",I="Wrong index",M=T.getterFor(O),R=T.getterFor(C),L=T.set,j=r[O],D=j,N=D&&D[P],B=r[C],F=B&&B[P],U=Object.prototype,z=r.Array,H=r.RangeError,G=i(_),q=i([].reverse),Y=y.pack,V=y.unpack,W=function(t){return[255&t]},$=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Z=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return Y(m(t),23,4)},J=function(t){return Y(t,52,8)},Q=function(t,e,n){l(t[P],e,{configurable:!0,get:function(){return n(this)[e]}})},tt=function(t,e,n,r){var i=R(t),o=v(n),a=!!r;if(o+e>i.byteLength)throw new H(I);var s=i.bytes,c=o+i.byteOffset,l=w(s,c,c+e);return a?l:q(l)},et=function(t,e,n,r,i,o){var a=R(t),s=v(n),c=r(+i),l=!!o;if(s+e>a.byteLength)throw new H(I);for(var u=a.bytes,h=s+a.byteOffset,f=0;f<e;f++)u[h+f]=c[l?f:e-f-1]};if(a){var nt=A&&j.name!==O;h(function(){j(1)})&&h(function(){new j(-1)})&&!h(function(){return new j,new j(1.5),new j(NaN),1!==j.length||nt&&!k})?nt&&k&&c(j,"name",O):((D=function(t){return f(this,N),S(new j(v(t)),this,D)})[P]=N,N.constructor=D,E(D,j)),b&&g(F)!==U&&b(F,U);var rt=new B(new D(2)),it=i(F.setInt8);rt.setInt8(0,2147483648),rt.setInt8(1,2147483649),!rt.getInt8(0)&&rt.getInt8(1)||u(F,{setInt8:function(t,e){it(this,t,e<<24>>24)},setUint8:function(t,e){it(this,t,e<<24>>24)}},{unsafe:!0})}else N=(D=function(t){f(this,N);var e=v(t);L(this,{type:O,bytes:G(z(e),0),byteLength:e}),o||(this.byteLength=e,this.detached=!1)})[P],F=(B=function(t,e,n){f(this,F),f(t,N);var r=M(t),i=r.byteLength,a=d(e);if(a<0||a>i)throw new H("Wrong offset");if(a+(n=void 0===n?i-a:p(n))>i)throw new H("Wrong length");L(this,{type:C,buffer:t,byteLength:n,byteOffset:a,bytes:r.bytes}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=a)})[P],o&&(Q(D,"byteLength",M),Q(B,"buffer",R),Q(B,"byteLength",R),Q(B,"byteOffset",R)),u(F,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return Z(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return Z(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return V(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return V(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){et(this,1,t,W,e)},setUint8:function(t,e){et(this,1,t,W,e)},setInt16:function(t,e){et(this,2,t,$,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){et(this,2,t,$,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){et(this,4,t,X,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){et(this,8,t,J,e,arguments.length>2&&arguments[2])}});x(D,O),x(B,C),t.exports={ArrayBuffer:D,DataView:B}},31956(t,e,n){"use strict";var r=n(83328).PROPER,i=n(50265),o=n(42046);t.exports=function(t){return i(function(){return!!o[t]()||""!==""[t]()||r&&o[t].name!==t})}},32022(t){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e+"+/",r=e+"-_",i=function(t){for(var e={},n=0;n<64;n++)e[t.charAt(n)]=n;return e};t.exports={i2c:n,c2i:i(n),i2cUrl:r,c2iUrl:i(r)}},32035(t,e,n){"use strict";var r=n(91652),i=n(75373),o=n(50265),a=n(42891),s=n(72139);r({target:"Object",stat:!0,forced:!i||o(function(){a.f(1)})},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},32073(t,e,n){"use strict";var r=n(82554);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},32336(t,e,n){"use strict";var r=n(12106),i=n(58400),o=n(48085),a=n(42046),s=r("".replace),c=RegExp("^["+a+"]+"),l=RegExp("(^|[^"+a+"])["+a+"]+$"),u=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,l,"$1")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},32649(t,e,n){"use strict";var r,i,o,a,s,c=n(99466),l=n(44475),u=n(88402),h=n(66543).set,f=n(38147),d=n(22962),p=n(69039),v=n(9342),m=n(88423),y=c.MutationObserver||c.WebKitMutationObserver,g=c.document,b=c.process,_=c.Promise,w=l("queueMicrotask");if(!w){var S=new f,E=function(){var t,e;for(m&&(t=b.domain)&&t.exit();e=S.get();)try{e()}catch(t){throw S.head&&r(),t}t&&t.enter()};d||m||v||!y||!g?!p&&_&&_.resolve?((a=_.resolve(void 0)).constructor=_,s=u(a.then,a),r=function(){s(E)}):m?r=function(){b.nextTick(E)}:(h=u(h,c),r=function(){h(E)}):(i=!0,o=g.createTextNode(""),new y(E).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),w=function(t){S.head||r(),S.add(t)}}t.exports=w},33108(t,e,n){"use strict";var r=n(79224),i=n(72139),o=n(99673),a=n(2896),s=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,n,l,u){var h=i(e),f=o(h),d=a(h);if(r(n),0===d&&l<2)throw new s(c);var p=t?d-1:0,v=t?-1:1;if(l<2)for(;;){if(p in f){u=f[p],p+=v;break}if(p+=v,t?p<0:d<=p)throw new s(c)}for(;t?p>=0:d>p;p+=v)p in f&&(u=n(u,f[p],p,h));return u}};t.exports={left:l(!1),right:l(!0)}},34117(t,e,n){"use strict";var r=n(91652),i=n(50265),o=n(72139),a=n(3421),s=n(96785);r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},34483(t,e,n){"use strict";var r=n(9828),i=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw new i("Wrong offset");return n}},34658(t,e,n){"use strict";n(26199)},34975(t,e,n){"use strict";var r=n(72139),i=n(48880),o=n(2896),a=n(27068),s=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),c=o(n),l=i(t,c),u=i(e,c),h=arguments.length>2?arguments[2]:void 0,f=s((void 0===h?c:i(h,c))-u,c-l),d=1;for(u<l&&l<u+f&&(d=-1,u+=f-1,l+=f-1);f-- >0;)u in n?n[l]=n[u]:a(n,l),l+=d,u+=d;return n}},35024(t,e,n){"use strict";var r=n(91652),i=n(72139),o=n(48880),a=n(31821),s=n(2896),c=n(29193),l=n(90675),u=n(71591),h=n(44366),f=n(27068),d=n(87987)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,d,m,y,g,b=i(this),_=s(b),w=o(t,_),S=arguments.length;for(0===S?n=r=0:1===S?(n=0,r=_-w):(n=S-2,r=v(p(a(e),0),_-w)),l(_+n-r),d=u(b,r),m=0;m<r;m++)(y=w+m)in b&&h(d,m,b[y]);if(d.length=r,n<r){for(m=w;m<_-r;m++)g=m+n,(y=m+r)in b?b[g]=b[y]:f(b,g);for(m=_;m>_-r+n;m--)f(b,m-1)}else if(n>r)for(m=_-r;m>w;m--)g=m+n-1,(y=m+r-1)in b?b[g]=b[y]:f(b,g);for(m=0;m<n;m++)b[m+w]=arguments[m+2];return c(b,_-r+n),d}})},35231(t,e,n){"use strict";var r=n(91652),i=n(75477);r({target:"Promise",stat:!0,forced:n(73486).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},35266(t,e,n){"use strict";var r=n(70639),i=n(12106),o=n(92318),a=n(59637),s=n(51544),c=n(58400),l=n(79235),u=n(70275),h=n(73556),f=n(48085),d=n(54996),p=n(87772),v=n(1179),m=n(50265),y=v.UNSUPPORTED_Y,g=Math.min,b=i([].push),_=i("".slice),w=!m(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),S="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",function(t,e,n){var i="0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:r(e,this,t,n)}:e;return[function(e,n){var o=c(this),a=s(e)?d(e,t):void 0;return a?r(a,e,o,n):r(i,f(o),e,n)},function(t,r){var o=a(this),s=f(t);if(!S){var c=n(i,o,s,r,i!==e);if(c.done)return c.value}var d=l(o,RegExp),v=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(y?"g":"y"),w=new d(y?"^(?:"+o.source+")":o,m),E=void 0===r?4294967295:r>>>0;if(0===E)return[];if(0===s.length)return null===p(w,s)?[s]:[];for(var x=0,T=0,A=[];T<s.length;){w.lastIndex=y?0:T;var k,O=p(w,y?_(s,T):s);if(null===O||(k=g(h(w.lastIndex+(y?T:0)),s.length))===x)T=u(s,T,v);else{if(b(A,_(s,x,T)),A.length===E)return A;for(var C=1;C<=O.length-1;C++)if(b(A,O[C]),A.length===E)return A;T=x=k}}return b(A,_(s,x)),A}]},S||!w,y)},35429(t,e){!function(t){"use strict";const e=1e6,n=1e3,r="transitionend",i=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),o=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),a=t=>{do{t+=Math.floor(Math.random()*e)}while(document.getElementById(t));return t},s=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(r);return i||o?(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*n):0},c=t=>{t.dispatchEvent(new Event(r))},l=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),u=t=>l(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(i(t)):null,h=t=>{if(!l(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},f=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),d=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?d(t.parentNode):null},p=()=>{},v=t=>{t.offsetHeight},m=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],g=t=>{"loading"===document.readyState?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of y)t()}),y.push(t)):t()},b=()=>"rtl"===document.documentElement.dir,_=t=>{g(()=>{const e=m();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},w=(t,e=[],n=t)=>"function"==typeof t?t.call(...e):n,S=(t,e,n=!0)=>{if(!n)return void w(t);const i=5,o=s(e)+i;let a=!1;const l=({target:n})=>{n===e&&(a=!0,e.removeEventListener(r,l),w(t))};e.addEventListener(r,l),setTimeout(()=>{a||c(e)},o)},E=(t,e,n,r)=>{const i=t.length;let o=t.indexOf(e);return-1===o?!n&&r?t[i-1]:t[0]:(o+=n?1:-1,r&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])};t.defineJQueryPlugin=_,t.execute=w,t.executeAfterTransition=S,t.findShadowRoot=d,t.getElement=u,t.getNextActiveElement=E,t.getTransitionDurationFromElement=s,t.getUID=a,t.getjQuery=m,t.isDisabled=f,t.isElement=l,t.isRTL=b,t.isVisible=h,t.noop=p,t.onDOMContentLoaded=g,t.parseSelector=i,t.reflow=v,t.toType=o,t.triggerTransitionEnd=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e)},35498(t,e,n){"use strict";var r=n(50265),i=n(91787),o=/#|\.prototype\./,a=function(t,e){var n=c[s(t)];return n===u||n!==l&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},35670(t,e,n){"use strict";var r=n(11467),i=n(89049),o=n(56065),a=n(20011);t.exports=function(t,e,n){for(var s=i(e),c=a.f,l=o.f,u=0;u<s.length;u++){var h=s[u];r(t,h)||n&&r(n,h)||c(t,h,l(e,h))}}},36208(t,e,n){"use strict";var r=n(51544),i=n(19043).get;t.exports=function(t){if(!r(t))return!1;var e=i(t);return!!e&&"RawJSON"===e.type}},36613(t){"use strict";t.exports=!1},36903(t,e,n){"use strict";var r=n(70639),i=n(79224),o=n(59637),a=n(74185),s=n(77481),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw new c(a(t)+" is not iterable")}},37007(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},37734(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(12106),a=n(35498),s=n(82554),c=n(92649),l=n(23442),u=n(15093),h=n(91787),f=n(21039),d=n(51544),p=n(50265),v=n(8210),m=n(62005),y=n(10957);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),_=g?"set":"add",w=i[t],S=w&&w.prototype,E=w,x={},T=function(t){var e=o(S[t]);s(S,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!d(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!h(w)||!(b||S.forEach&&!p(function(){(new w).entries().next()}))))E=n.getConstructor(e,t,g,_),c.enable();else if(a(t,!0)){var A=new E,k=A[_](b?{}:-0,1)!==A,O=p(function(){A.has(1)}),C=v(function(t){new w(t)}),P=!b&&p(function(){for(var t=new w,e=5;e--;)t[_](e,e);return!t.has(-0)});C||((E=e(function(t,e){u(t,S);var n=y(new w,t,E);return f(e)||l(e,n[_],{that:n,AS_ENTRIES:g}),n})).prototype=S,S.constructor=E),(O||P)&&(T("delete"),T("has"),g&&T("get")),(P||k)&&T(_),b&&S.clear&&delete S.clear}return x[t]=E,r({global:!0,constructor:!0,forced:E!==w},x),m(E,t),b||n.setStrong(E,t,g),E}},38147(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},38263(t,e,n){"use strict";var r=n(36613),i=n(99466),o=n(20015),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.47.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})},38517(t,e,n){"use strict";var r=n(11269);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},38717(t,e,n){"use strict";var r=n(52946),i=TypeError;t.exports=function(t){if(r(t))throw new i("The method doesn't accept regular expressions");return t}},39413(t,e,n){"use strict";n(37734)("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},n(6828))},39710(t,e,n){"use strict";var r=n(91652),i=n(36613),o=n(3806),a=n(99466),s=n(52285),c=n(12106),l=n(35498),u=n(11467),h=n(10957),f=n(8367),d=n(21087),p=n(2995),v=n(50265),m=n(52438).f,y=n(56065).f,g=n(20011).f,b=n(2702),_=n(32336).trim,w="Number",S=a[w],E=s[w],x=S.prototype,T=a.TypeError,A=c("".slice),k=c("".charCodeAt),O=function(t){var e,n,r,i,o,a,s,c,l=p(t,"number");if(d(l))throw new T("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=_(l),43===(e=k(l,0))||45===e){if(88===(n=k(l,2))||120===n)return NaN}else if(48===e){switch(k(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=A(l,2)).length,s=0;s<a;s++)if((c=k(o,s))<48||c>i)return NaN;return parseInt(o,r)}return+l},C=l(w,!S(" 0o1")||!S("0b1")||S("+0x1")),P=function(t){var e,n=arguments.length<1?0:S(function(t){var e=p(t,"number");return"bigint"==typeof e?e:O(e)}(t));return f(x,e=this)&&v(function(){b(e)})?h(Object(n),this,P):n};P.prototype=x,C&&!i&&(x.constructor=P),r({global:!0,constructor:!0,wrap:!0,forced:C},{Number:P});var I=function(t,e){for(var n,r=o?m(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)u(e,n=r[i])&&!u(t,n)&&g(t,n,y(e,n))};i&&E&&I(s[w],E),(C||i)&&I(s[w],S)},39828(t,e,n){"use strict";n(55773)},39942(t,e,n){"use strict";var r=n(49675),i=n(70639),o=n(12106),a=n(92318),s=n(50265),c=n(59637),l=n(91787),u=n(51544),h=n(31821),f=n(73556),d=n(48085),p=n(58400),v=n(70275),m=n(54996),y=n(98244),g=n(60120),b=n(87772),_=n(58993)("replace"),w=Math.max,S=Math.min,E=o([].concat),x=o([].push),T=o("".indexOf),A=o("".slice),k=function(t){return void 0===t?t:String(t)},O="$0"==="a".replace(/./,"$0"),C=!!/./[_]&&""===/./[_]("a","$0");a("replace",function(t,e,n){var o=C?"$":"$0";return[function(t,n){var r=p(this),o=u(t)?m(t,_):void 0;return o?i(o,t,r,n):i(e,d(r),t,n)},function(t,i){var a=c(this),s=d(t);if("string"==typeof i&&-1===T(i,o)&&-1===T(i,"$<")){var u=n(e,a,s,i);if(u.done)return u.value}var p=l(i);p||(i=d(i));var m,_=d(g(a)),O=-1!==T(_,"g");O&&(m=-1!==T(_,"u"),a.lastIndex=0);for(var C,P=[];null!==(C=b(a,s))&&(x(P,C),O);){""===d(C[0])&&(a.lastIndex=v(s,f(a.lastIndex),m))}for(var I="",M=0,R=0;R<P.length;R++){for(var L,j=d((C=P[R])[0]),D=w(S(h(C.index),s.length),0),N=[],B=1;B<C.length;B++)x(N,k(C[B]));var F=C.groups;if(p){var U=E([j],N,D,s);void 0!==F&&x(U,F),L=d(r(i,void 0,U))}else L=y(j,s,D,N,F,i);D>=M&&(I+=A(s,M,D)+L,M=D+j.length)}return I+A(s,M)}]},!!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!O||C)},40017(t,e,n){"use strict";var r=n(71784),i=n(51544),o=n(58400),a=n(77068);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),a(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},40257(t,e,n){"use strict";var r=n(67074),i=n(91787),o=n(50286),a=n(58993)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},40374(t,e,n){"use strict";var r=n(91652),i=n(96421);r({global:!0,forced:parseInt!==i},{parseInt:i})},40423(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(79224),a=n(59637),s=n(58985),c=n(71044),l=n(73605),u=n(71905),h=n(28798),f=n(45059),d=n(36613),p=!d&&!h("map",function(){}),v=!d&&!p&&f("map",TypeError),m=d||p||v,y=c(function(){var t=this.iterator,e=a(i(this.next,t));if(!(this.done=!!e.done))return l(t,this.mapper,[e.value,this.counter++],!0)});r({target:"Iterator",proto:!0,real:!0,forced:m},{map:function(t){a(this);try{o(t)}catch(t){u(this,"throw",t)}return v?i(v,this,t):new y(s(this),{mapper:t})}})},40543(t,e,n){"use strict";var r=n(91652),i=n(11483);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("isDisjointFrom",function(t){return!t})},{isDisjointFrom:i})},40706(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},41178(t,e,n){"use strict";var r=n(7185).charAt,i=n(48085),o=n(19043),a=n(49166),s=n(37007),c="String Iterator",l=o.set,u=o.getterFor(c);a(String,"String",function(t){l(this,{type:c,string:i(t),index:0})},function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))})},41209(t,e,n){"use strict";var r=n(91652),i=n(49659).includes,o=n(50265),a=n(68423);r({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},41552(t){"use strict";var e=4503599627370496;t.exports=function(t){return t+e-e}},42046(t){"use strict";t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},42358(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(12106),a=n(23632),s=n(77839),c=o(1.1.toString),l=i.Uint8Array,u=!l||!l.prototype.toHex||!function(){try{return"ffffffffffffffff"===new l([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();l&&r({target:"Uint8Array",proto:!0,forced:u},{toHex:function(){a(this),s(this.buffer);for(var t="",e=0,n=this.length;e<n;e++){var r=c(this[e],16);t+=1===r.length?"0"+r:r}return t}})},42427(t,e,n){"use strict";var r=n(20177);t.exports=r("document","documentElement")},42811(t,e,n){"use strict";var r,i,o,a=n(50265),s=n(91787),c=n(51544),l=n(72330),u=n(3421),h=n(82554),f=n(58993),d=n(36613),p=f("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):v=!0),!c(r)||a(function(){var t={};return r[p].call(t)!==t})?r={}:d&&(r=l(r)),s(r[p])||h(r,p,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},42891(t,e){"use strict";e.f=Object.getOwnPropertySymbols},43368(t,e,n){"use strict";n(92482),n(11763);var r=n(91652),i=n(99466),o=n(44475),a=n(20177),s=n(70639),c=n(12106),l=n(3806),u=n(28314),h=n(82554),f=n(95160),d=n(32073),p=n(62005),v=n(13664),m=n(19043),y=n(15093),g=n(91787),b=n(11467),_=n(88402),w=n(40257),S=n(59637),E=n(51544),x=n(48085),T=n(72330),A=n(61994),k=n(36903),O=n(77481),C=n(37007),P=n(40706),I=n(58993),M=n(12442),R=I("iterator"),L="URLSearchParams",j=L+"Iterator",D=m.set,N=m.getterFor(L),B=m.getterFor(j),F=o("fetch"),U=o("Request"),z=o("Headers"),H=U&&U.prototype,G=z&&z.prototype,q=i.TypeError,Y=i.encodeURIComponent,V=String.fromCharCode,W=a("String","fromCodePoint"),$=parseInt,K=c("".charAt),Z=c([].join),X=c([].push),J=c("".replace),Q=c([].shift),tt=c([].splice),et=c("".split),nt=c("".slice),rt=c(/./.exec),it=/\+/g,ot=/^[0-9a-f]+$/i,at=function(t,e){var n=nt(t,e,e+2);return rt(ot,n)?$(n,16):NaN},st=function(t){for(var e=0,n=128;n>0&&0!==(t&n);n>>=1)e++;return e},ct=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},lt=function(t){for(var e=(t=J(t,it," ")).length,n="",r=0;r<e;){var i=K(t,r);if("%"===i){if("%"===K(t,r+1)||r+3>e){n+="%",r++;continue}var o=at(t,r+1);if(o!=o){n+=i,r++;continue}r+=2;var a=st(o);if(0===a)i=V(o);else{if(1===a||a>4){n+="",r++;continue}for(var s=[o],c=1;c<a&&!(++r+3>e||"%"!==K(t,r));){var l=at(t,r+1);if(l!=l){r+=3;break}if(l>191||l<128)break;X(s,l),r+=2,c++}if(s.length!==a){n+="";continue}var u=ct(s);null===u?n+="":i=W(u)}}n+=i,r++}return n},ut=/[!'()~]|%20/g,ht={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ft=function(t){return ht[t]},dt=function(t){return J(Y(t),ut,ft)},pt=v(function(t,e){D(this,{type:j,target:N(t).entries,index:0,kind:e})},L,function(){var t=B(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,C(void 0,!0);var r=e[n];switch(t.kind){case"keys":return C(r.key,!1);case"values":return C(r.value,!1)}return C([r.key,r.value],!1)},!0),vt=function(t){this.entries=[],this.url=null,void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?nt(t,1):t:x(t)))};vt.prototype={type:L,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,c,l=this.entries,u=O(t);if(u)for(n=(e=k(t,u)).next;!(r=s(n,e)).done;){if(o=(i=k(S(r.value))).next,(a=s(o,i)).done||(c=s(o,i)).done||!s(o,i).done)throw new q("Expected sequence with length 2");X(l,{key:x(a.value),value:x(c.value)})}else for(var h in t)b(t,h)&&X(l,{key:h,value:x(t[h])})},parseQuery:function(t){if(t)for(var e,n,r=this.entries,i=et(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(n=et(e,"="),X(r,{key:lt(Q(n)),value:lt(Z(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],X(n,dt(t.key)+"="+dt(t.value));return Z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var mt=function(){y(this,yt);var t=D(this,new vt(arguments.length>0?arguments[0]:void 0));l||(this.size=t.entries.length)},yt=mt.prototype;if(d(yt,{append:function(t,e){var n=N(this);P(arguments.length,2),X(n.entries,{key:x(t),value:x(e)}),l||this.size++,n.updateURL()},delete:function(t){for(var e=N(this),n=P(arguments.length,1),r=e.entries,i=x(t),o=n<2?void 0:arguments[1],a=void 0===o?o:x(o),s=0;s<r.length;){var c=r[s];if(c.key!==i||void 0!==a&&c.value!==a)s++;else if(tt(r,s,1),void 0!==a)break}l||(this.size=r.length),e.updateURL()},get:function(t){var e=N(this).entries;P(arguments.length,1);for(var n=x(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){var e=N(this).entries;P(arguments.length,1);for(var n=x(t),r=[],i=0;i<e.length;i++)e[i].key===n&&X(r,e[i].value);return r},has:function(t){for(var e=N(this).entries,n=P(arguments.length,1),r=x(t),i=n<2?void 0:arguments[1],o=void 0===i?i:x(i),a=0;a<e.length;){var s=e[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(t,e){var n=N(this);P(arguments.length,1);for(var r,i=n.entries,o=!1,a=x(t),s=x(e),c=0;c<i.length;c++)(r=i[c]).key===a&&(o?tt(i,c--,1):(o=!0,r.value=s));o||X(i,{key:a,value:s}),l||(this.size=i.length),n.updateURL()},sort:function(){var t=N(this);M(t.entries,function(t,e){return t.key>e.key?1:-1}),t.updateURL()},forEach:function(t){for(var e,n=N(this).entries,r=_(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new pt(this,"keys")},values:function(){return new pt(this,"values")},entries:function(){return new pt(this,"entries")}},{enumerable:!0}),h(yt,R,yt.entries,{name:"entries"}),h(yt,"toString",function(){return N(this).serialize()},{enumerable:!0}),l&&f(yt,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),p(mt,L),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:mt}),!u&&g(z)){var gt=c(G.has),bt=c(G.set),_t=function(t){if(E(t)){var e,n=t.body;if(w(n)===L)return e=t.headers?new z(t.headers):new z,gt(e,"content-type")||bt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(t,{body:A(0,x(n)),headers:A(0,e)})}return t};if(g(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return F(t,arguments.length>1?_t(arguments[1]):{})}}),g(U)){var wt=function(t){return y(this,H),new U(t,arguments.length>1?_t(arguments[1]):{})};H.constructor=wt,wt.prototype=H,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:wt})}}t.exports={URLSearchParams:mt,getState:N}},43524(t,e,n){"use strict";var r=n(71784),i=n(98960);t.exports=r(i.proto,"size","get")||function(t){return t.size}},43970(t,e,n){"use strict";var r=n(12106),i=n(11467),o=SyntaxError,a=parseInt,s=String.fromCharCode,c=r("".charAt),l=r("".slice),u=r(/./.exec),h={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},f=/^[\da-f]{4}$/i,d=/^[\u0000-\u001F]$/;t.exports=function(t,e){for(var n=!0,r="";e<t.length;){var p=c(t,e);if("\\"===p){var v=l(t,e,e+2);if(i(h,v))r+=h[v],e+=2;else{if("\\u"!==v)throw new o('Unknown escape sequence: "'+v+'"');var m=l(t,e+=2,e+4);if(!u(f,m))throw new o("Bad Unicode escape at: "+e);r+=s(a(m,16)),e+=4}}else{if('"'===p){n=!1,e++;break}if(u(d,p))throw new o("Bad control character in string literal at: "+e);r+=p,e++}}if(n)throw new o("Unterminated string at: "+e);return{value:r,end:e}}},43986(t,e,n){"use strict";var r=n(99466),i=n(12106),o=n(71784),a=n(45814),s=n(77839),c=n(12100),l=n(5713),u=n(5726),h=r.structuredClone,f=r.ArrayBuffer,d=r.DataView,p=Math.min,v=f.prototype,m=d.prototype,y=i(v.slice),g=o(v,"resizable","get"),b=o(v,"maxByteLength","get"),_=i(m.getInt8),w=i(m.setInt8);t.exports=(u||l)&&function(t,e,n){var r,i=c(t),o=void 0===e?i:a(e),v=!g||!g(t);if(s(t),u&&(t=h(t,{transfer:[t]}),i===o&&(n||v)))return t;if(i>=o&&(!n||v))r=y(t,0,o);else{var m=n&&!v&&b?{maxByteLength:b(t)}:void 0;r=new f(o,m);for(var S=new d(t),E=new d(r),x=p(o,i),T=0;T<x;T++)w(E,T,_(S,T))}return u||l(t),r}},44259(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(20177),a=n(12106),s=n(70639),c=n(50265),l=n(48085),u=n(40706),h=n(32022).c2i,f=/[^\d+/a-z]/i,d=/[\t\n\f\r ]+/g,p=/[=]{1,2}$/,v=o("atob"),m=String.fromCharCode,y=a("".charAt),g=a("".replace),b=a(f.exec),_=!!v&&!c(function(){return"hi"!==v("aGk=")}),w=_&&c(function(){return""!==v(" ")}),S=_&&!c(function(){v("a")}),E=_&&!c(function(){v()}),x=_&&1!==v.length;r({global:!0,bind:!0,enumerable:!0,forced:!_||w||S||E||x},{atob:function(t){if(u(arguments.length,1),_&&!w&&!S)return s(v,i,t);var e,n,r,a=g(l(t),d,""),c="",E=0,x=0;if(a.length%4==0&&(a=g(a,p,"")),(e=a.length)%4==1||b(f,a))throw new(o("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;E<e;)n=y(a,E++),r=x%4?64*r+h[n]:h[n],x++%4&&(c+=m(255&r>>(-2*x&6)));return c}})},44366(t,e,n){"use strict";var r=n(3806),i=n(20011),o=n(61994);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},44475(t,e,n){"use strict";var r=n(99466),i=n(3806),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return r[t];var e=o(r,t);return e&&e.value}},44760(t,e,n){"use strict";var r=n(91652),i=n(32336).trim;r({target:"String",proto:!0,forced:n(31956)("trim")},{trim:function(){return i(this)}})},45059(t,e,n){"use strict";var r=n(99466);t.exports=function(t,e){var n=r.Iterator,i=n&&n.prototype,o=i&&i[t],a=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(t){t instanceof e||(a=!1)}if(!a)return o}},45502(t,e,n){"use strict";n(91041)},45814(t,e,n){"use strict";var r=n(31821),i=n(73556),o=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw new o("Wrong length or index");return n}},48018(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(92261),a=n(23632),s=i.Uint8Array,c=!s||!s.prototype.setFromBase64||!function(){var t=new s([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{return void t.setFromBase64("a")}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();s&&r({target:"Uint8Array",proto:!0,forced:c},{setFromBase64:function(t){a(this);var e=o(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}})},48085(t,e,n){"use strict";var r=n(40257),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},48580(t,e,n){"use strict";var r=n(91652),i=n(49470);r({target:"Array",stat:!0,forced:!n(8210)(function(t){Array.from(t)})},{from:i})},48880(t,e,n){"use strict";var r=n(31821),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},49072(t,e,n){"use strict";var r=n(70639),i=n(59637),o=n(58985),a=n(77481);t.exports=function(t,e){e&&"string"==typeof t||i(t);var n=a(t);return o(i(void 0!==n?r(n,t):t))}},49130(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(51544),a=n(59637),s=n(19741),c=n(56065),l=n(3421);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,u,h=arguments.length<3?e:arguments[2];return a(e)===h?e[n]:(r=c.f(e,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,h):o(u=l(e))?t(u,n,h):void 0}})},49166(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(36613),a=n(83328),s=n(91787),c=n(13664),l=n(3421),u=n(40017),h=n(62005),f=n(3693),d=n(82554),p=n(58993),v=n(59671),m=n(42811),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),S="keys",E="values",x="entries",T=function(){return this};t.exports=function(t,e,n,a,p,m,A){c(n,e,a);var k,O,C,P=function(t){if(t===p&&j)return j;if(!_&&t&&t in R)return R[t];switch(t){case S:case E:case x:return function(){return new n(this,t)}}return function(){return new n(this)}},I=e+" Iterator",M=!1,R=t.prototype,L=R[w]||R["@@iterator"]||p&&R[p],j=!_&&L||P(p),D="Array"===e&&R.entries||L;if(D&&(k=l(D.call(new t)))!==Object.prototype&&k.next&&(o||l(k)===b||(u?u(k,b):s(k[w])||d(k,w,T)),h(k,I,!0,!0),o&&(v[I]=T)),y&&p===E&&L&&L.name!==E&&(!o&&g?f(R,"name",E):(M=!0,j=function(){return i(L,this)})),p)if(O={values:P(E),keys:m?j:P(S),entries:P(x)},A)for(C in O)(_||M||!(C in R))&&d(R,C,O[C]);else r({target:e,proto:!0,forced:_||M},O);return o&&!A||R[w]===j||d(R,w,j,{name:p}),v[e]=j,O}},49172(t,e,n){"use strict";var r=n(82554),i=n(12106),o=n(48085),a=n(40706),s=URLSearchParams,c=s.prototype,l=i(c.getAll),u=i(c.has),h=new s("a=1");!h.has("a",2)&&h.has("a",void 0)||r(c,"has",function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=l(this,t);a(e,1);for(var i=o(n),s=0;s<r.length;)if(r[s++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})},49470(t,e,n){"use strict";var r=n(88402),i=n(70639),o=n(72139),a=n(73605),s=n(50051),c=n(64607),l=n(2896),u=n(44366),h=n(36903),f=n(77481),d=Array;t.exports=function(t){var e=o(t),n=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v;m&&(v=r(v,p>2?arguments[2]:void 0));var y,g,b,_,w,S,E=f(e),x=0;if(!E||this===d&&s(E))for(y=l(e),g=n?new this(y):d(y);y>x;x++)S=m?v(e[x],x):e[x],u(g,x,S);else for(g=n?new this:[],w=(_=h(e,E)).next;!(b=i(w,_)).done;x++)S=m?a(_,v,[b.value,x],!0):b.value,u(g,x,S);return g.length=x,g}},49659(t,e,n){"use strict";var r=n(57103),i=n(48880),o=n(2896),a=function(t){return function(e,n,a){var s=r(e),c=o(s);if(0===c)return!t&&-1;var l,u=i(a,c);if(t&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},49675(t,e,n){"use strict";var r=n(58354),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},50033(t,e,n){"use strict";var r=n(65026),i=n(93534),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",function(){return r(o(this),s(this))})},50051(t,e,n){"use strict";var r=n(58993),i=n(59671),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},50250(t,e,n){"use strict";var r=n(93534),i=n(49659).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},50265(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},50286(t,e,n){"use strict";var r=n(12106),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},50340(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},50477(){},51469(t,e,n){"use strict";var r=n(50265);t.exports=!r(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t})},51544(t,e,n){"use strict";var r=n(91787);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},51708(t,e,n){"use strict";var r=n(52870),i=n(98960),o=n(94632),a=n(16235),s=n(97313),c=i.add,l=i.has,u=i.remove;t.exports=function(t){var e=r(this),n=a(t).getIterator(),i=o(e);return s(n,function(t){l(e,t)?u(i,t):c(i,t)}),i}},51712(t,e,n){"use strict";var r=n(2896);t.exports=function(t,e,n){for(var i=0,o=arguments.length>2?n:r(e),a=new t(o);o>i;)a[i]=e[i++];return a}},51806(t,e,n){"use strict";var r=n(93534),i=n(33108).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)})},51954(t,e,n){"use strict";var r=n(93534).exportTypedArrayMethod,i=n(50265),o=n(99466),a=n(12106),s=o.Uint8Array,c=s&&s.prototype||{},l=[].toString,u=a([].join);i(function(){l.call({})})&&(l=function(){return u(this)});var h=c.toString!==l;r("toString",l,h)},52247(t,e,n){"use strict";var r=n(91652),i=n(92714),o=n(50265),a=n(31872),s=n(59637),c=n(48880),l=n(73556),u=a.ArrayBuffer,h=a.DataView,f=h.prototype,d=i(u.prototype.slice),p=i(f.getUint8),v=i(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(t,e){if(d&&void 0===e)return d(s(this),t);for(var n=s(this).byteLength,r=c(t,n),i=c(void 0===e?n:e,n),o=new u(l(i-r)),a=new h(this),f=new h(o),m=0;r<i;)v(f,m++,p(a,r++));return o}})},52285(t,e,n){"use strict";var r=n(99466);t.exports=r},52438(t,e,n){"use strict";var r=n(83622),i=n(20229).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},52519(t,e,n){"use strict";var r=n(2995),i=n(21087);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},52598(t,e,n){"use strict";var r=n(91652),i=n(50265),o=n(3008);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||i(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:o})},52865(t,e,n){"use strict";var r=n(99466),i=n(50265),o=n(12106),a=n(93534),s=n(92482),c=n(58993)("iterator"),l=r.Uint8Array,u=o(s.values),h=o(s.keys),f=o(s.entries),d=a.aTypedArray,p=a.exportTypedArrayMethod,v=l&&l.prototype,m=!i(function(){v[c].call([1])}),y=!!v&&v.values&&v[c]===v.values&&"values"===v.values.name,g=function(){return u(d(this))};p("entries",function(){return f(d(this))},m),p("keys",function(){return h(d(this))},m),p("values",g,m||!y,{name:"values"}),p(c,g,m||!y,{name:"values"})},52870(t,e,n){"use strict";var r=n(98960).has;t.exports=function(t){return r(t),t}},52946(t,e,n){"use strict";var r=n(51544),i=n(50286),o=n(58993)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},53047(t,e,n){"use strict";n(39413)},53561(t){"use strict";var e=Math.round;t.exports=function(t){var n=e(t);return n<0?0:n>255?255:255&n}},53986(t,e,n){"use strict";var r=n(50265),i=n(51544),o=n(50286),a=n(82222),s=Object.isExtensible,c=r(function(){s(1)});t.exports=c||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==o(t))&&(!s||s(t)))}:s},54029(t,e,n){"use strict";var r=n(91652),i=n(27649);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},54367(t,e,n){"use strict";var r=n(3806),i=n(12106),o=n(95160),a=URLSearchParams.prototype,s=i(a.forEach);r&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return s(this,function(){t++}),t},configurable:!0,enumerable:!0})},54996(t,e,n){"use strict";var r=n(79224),i=n(21039);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},55319(t,e,n){"use strict";n(31809)("Uint8",function(t){return function(e,n,r){return t(this,e,n,r)}})},55773(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(79224),a=n(59637),s=n(58985),c=n(49072),l=n(71044),u=n(71905),h=n(36613),f=n(28798),d=n(45059),p=!h&&!f("flatMap",function(){}),v=!h&&!p&&d("flatMap",TypeError),m=h||p||v,y=l(function(){for(var t,e,n=this.iterator,r=this.mapper;;){if(e=this.inner)try{if(!(t=a(i(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){u(n,"throw",t)}if(t=a(i(this.next,n)),this.done=!!t.done)return;try{this.inner=c(r(t.value,this.counter++),!1)}catch(t){u(n,"throw",t)}}});r({target:"Iterator",proto:!0,real:!0,forced:m},{flatMap:function(t){a(this);try{o(t)}catch(t){u(this,"throw",t)}return v?i(v,this,t):new y(s(this),{mapper:t,inner:null})}})},55970(t,e,n){"use strict";var r=n(50286);t.exports=Array.isArray||function(t){return"Array"===r(t)}},56012(t,e,n){"use strict";var r=n(91652),i=n(99483).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},56065(t,e,n){"use strict";var r=n(3806),i=n(70639),o=n(77739),a=n(61994),s=n(57103),c=n(52519),l=n(11467),u=n(83719),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=s(t),e=c(e),u)try{return h(t,e)}catch(t){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},56419(t,e,n){"use strict";n(76228)},56442(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(23442),a=n(79224),s=n(59637),c=n(58985),l=n(71905),u=n(45059)("find",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),n=0;return o(e,function(e,r){if(t(e,n++))return r(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},56687(t,e,n){"use strict";var r=n(12106),i=Error,o=r("".replace),a=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,s,"");return t}},57103(t,e,n){"use strict";var r=n(99673),i=n(58400);t.exports=function(t){return r(i(t))}},57178(t,e,n){"use strict";var r=n(83622),i=n(20229);t.exports=Object.keys||function(t){return r(t,i)}},57199(t,e,n){"use strict";var r=n(71905);t.exports=function(t,e,n){for(var i=t.length-1;i>=0;i--)if(void 0!==t[i])try{n=r(t[i].iterator,e,n)}catch(t){e="throw",n=t}if("throw"===e)throw n;return n}},57495(t,e,n){"use strict";var r=n(38263);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},57632(t,e,n){"use strict";var r=n(99466);t.exports=r.Promise},58190(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(23442),a=n(79224),s=n(59637),c=n(58985),l=n(71905),u=n(45059)("every",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),n=0;return!o(e,function(e,r){if(!t(e,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},58354(t,e,n){"use strict";var r=n(50265);t.exports=!r(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},58400(t,e,n){"use strict";var r=n(21039),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},58985(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},58993(t,e,n){"use strict";var r=n(99466),i=n(57495),o=n(11467),a=n(62122),s=n(75373),c=n(99134),l=r.Symbol,u=i("wks"),h=c?l.for||l:l&&l.withoutSetter||a;t.exports=function(t){return o(u,t)||(u[t]=s&&o(l,t)?l[t]:h("Symbol."+t)),u[t]}},59179(t,e,n){"use strict";var r,i=n(91652),o=n(92714),a=n(56065).f,s=n(73556),c=n(48085),l=n(38717),u=n(58400),h=n(1178),f=n(36613),d=o("".slice),p=Math.min,v=h("endsWith");i({target:"String",proto:!0,forced:!!(f||v||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!v},{endsWith:function(t){var e=c(u(this));l(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:p(s(n),r),o=c(t);return d(e,i-o.length,i)===o}})},59637(t,e,n){"use strict";var r=n(51544),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},59671(t){"use strict";t.exports={}},60120(t,e,n){"use strict";var r=n(70639),i=n(11467),o=n(8367),a=n(1987),s=n(27565),c=RegExp.prototype;t.exports=a.correct?function(t){return t.flags}:function(t){return a.correct||!o(c,t)||i(t,"flags")?t.flags:r(s,t)}},60331(t,e,n){"use strict";var r=n(91652),i=n(23442),o=n(79224),a=n(59637),s=n(58985),c=n(71905),l=n(45059),u=n(49675),h=n(50265),f=TypeError,d=h(function(){[].keys().reduce(function(){},void 0)}),p=!d&&l("reduce",f);r({target:"Iterator",proto:!0,real:!0,forced:d||p},{reduce:function(t){a(this);try{o(t)}catch(t){c(this,"throw",t)}var e=arguments.length<2,n=e?void 0:arguments[1];if(p)return u(p,this,e?[t]:[t,n]);var r=s(this),l=0;if(i(r,function(r){e?(e=!1,n=r):n=t(n,r,l),l++},{IS_RECORD:!0}),e)throw new f("Reduce of empty iterator with no initial value");return n}})},60441(t,e,n){"use strict";n(6755),n(9348),n(84150),n(80360),n(32035)},60942(t,e,n){"use strict";var r=n(99466),i=n(8554),o=n(76318),a=n(3209),s=n(3693),c=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var l in i)i[l]&&c(r[l]&&r[l].prototype);c(o)},61031(t,e,n){"use strict";var r=n(99466),i=n(92714),o=n(50265),a=n(79224),s=n(12442),c=n(93534),l=n(6687),u=n(1173),h=n(62381),f=n(73197),d=c.aTypedArray,p=c.exportTypedArrayMethod,v=r.Uint16Array,m=v&&i(v.prototype.sort),y=!(!m||o(function(){m(new v(2),null)})&&o(function(){m(new v(2),{})})),g=!!m&&!o(function(){if(h)return h<74;if(l)return l<67;if(u)return!0;if(f)return f<602;var t,e,n=new v(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(m(n,function(t,e){return(t/4|0)-(e/4|0)}),t=0;t<516;t++)if(n[t]!==r[t])return!0});p("sort",function(t){return void 0!==t&&a(t),g?m(this,t):s(d(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))},!g||y)},61563(t,e,n){t.exports=function(t,e,n){"use strict";const r="backdrop",i="fade",o="show",a=`mousedown.bs.${r}`,s={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},c={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class l extends e{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return s}static get DefaultType(){return c}static get NAME(){return r}show(t){if(!this._config.isVisible)return void n.execute(t);this._append();const e=this._getElement();this._config.isAnimated&&n.reflow(e),e.classList.add(o),this._emulateAnimation(()=>{n.execute(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove(o),this._emulateAnimation(()=>{this.dispose(),n.execute(t)})):n.execute(t)}dispose(){this._isAppended&&(t.off(this._element,a),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(i),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=n.getElement(t.rootElement),t}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),t.on(e,a,()=>{n.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){n.executeAfterTransition(t,this._getElement(),this._config.isAnimated)}}return l}(n(67922),n(5415),n(35429))},61716(t,e,n){"use strict";var r=n(2995),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},61805(t,e,n){t.exports=function(t,e,n,r){"use strict";const i="collapse",o=".bs.collapse",a=`show${o}`,s=`shown${o}`,c=`hide${o}`,l=`hidden${o}`,u=`click${o}.data-api`,h="show",f="collapse",d="collapsing",p="collapsed",v=`:scope .${f} .${f}`,m="collapse-horizontal",y="width",g="height",b=".collapse.show, .collapse.collapsing",_='[data-bs-toggle="collapse"]',w={parent:null,toggle:!0},S={parent:"(null|element)",toggle:"boolean"};class E extends t{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const r=n.find(_);for(const t of r){const e=n.getSelectorFromElement(t),r=n.find(e).filter(t=>t===this._element);null!==e&&r.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return w}static get DefaultType(){return S}static get NAME(){return i}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(b).filter(t=>t!==this._element).map(t=>E.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(e.trigger(this._element,a).defaultPrevented)return;for(const e of t)e.hide();const n=this._getDimension();this._element.classList.remove(f),this._element.classList.add(d),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(d),this._element.classList.add(f,h),this._element.style[n]="",e.trigger(this._element,s)},i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(e.trigger(this._element,c).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,r.reflow(this._element),this._element.classList.add(d),this._element.classList.remove(f,h);for(const t of this._triggerArray){const e=n.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(d),this._element.classList.add(f),e.trigger(this._element,l)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(h)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=r.getElement(t.parent),t}_getDimension(){return this._element.classList.contains(m)?y:g}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(_);for(const e of t){const t=n.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=n.find(v,this._config.parent);return n.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle(p,!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const n=E.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}}return e.on(document,u,_,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of n.getMultipleElementsFromSelector(this))E.getOrCreateInstance(t,{toggle:!1}).toggle()}),r.defineJQueryPlugin(E),E}(n(16545),n(67922),n(82613),n(35429))},61855(t,e,n){"use strict";var r=n(91652),i=n(3806),o=n(9399).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},61994(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},62005(t,e,n){"use strict";var r=n(20011).f,i=n(11467),o=n(58993)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},62030(t,e,n){"use strict";var r=n(52870),i=n(98960).add,o=n(94632),a=n(16235),s=n(97313);t.exports=function(t){var e=r(this),n=a(t).getIterator(),c=o(e);return s(n,function(t){i(c,t)}),c}},62085(t,e,n){"use strict";var r=n(93534),i=n(11381).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},62122(t,e,n){"use strict";var r=n(12106),i=0,o=Math.random(),a=r(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},62381(t,e,n){"use strict";var r,i,o=n(99466),a=n(11269),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},62729(t,e,n){"use strict";var r=n(91652),i=n(50265),o=n(57103),a=n(56065).f,s=n(3806);r({target:"Object",stat:!0,forced:!s||i(function(){a(1)}),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},63033(t,e,n){"use strict";n(42358)},63692(t,e,n){"use strict";var r=n(91652),i=n(62030),o=n(79645);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("union")||!o("union")},{union:i})},63728(t){"use strict";var e=Array,n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(t,s,c){var l,u,h,f=e(c),d=8*c-s-1,p=(1<<d)-1,v=p>>1,m=23===s?r(2,-24)-r(2,-77):0,y=t<0||0===t&&1/t<0?1:0,g=0;for((t=n(t))!=t||t===1/0?(u=t!=t?1:0,l=p):(l=i(o(t)/a),t*(h=r(2,-l))<1&&(l--,h*=2),(t+=l+v>=1?m/h:m*r(2,1-v))*h>=2&&(l++,h/=2),l+v>=p?(u=0,l=p):l+v>=1?(u=(t*h-1)*r(2,s),l+=v):(u=t*r(2,v-1)*r(2,s),l=0));s>=8;)f[g++]=255&u,u/=256,s-=8;for(l=l<<s|u,d+=s;d>0;)f[g++]=255&l,l/=256,d-=8;return f[g-1]|=128*y,f},unpack:function(t,e){var n,i=t.length,o=8*i-e-1,a=(1<<o)-1,s=a>>1,c=o-7,l=i-1,u=t[l--],h=127&u;for(u>>=7;c>0;)h=256*h+t[l--],c-=8;for(n=h&(1<<-c)-1,h>>=-c,c+=e;c>0;)n=256*n+t[l--],c-=8;if(0===h)h=1-s;else{if(h===a)return n?NaN:u?-1/0:1/0;n+=r(2,e),h-=s}return(u?-1:1)*n*r(2,h-e)}}},63754(t,e,n){"use strict";n(20172)},63938(t,e,n){"use strict";var r=n(99466),i=n(50265),o=n(12106),a=n(48085),s=n(32336).trim,c=n(42046),l=o("".charAt),u=r.parseFloat,h=r.Symbol,f=h&&h.iterator,d=1/u(c+"-0")!=-1/0||f&&!i(function(){u(Object(f))});t.exports=d?function(t){var e=s(a(t)),n=u(e);return 0===n&&"-"===l(e,0)?-0:n}:u},63945(t,e,n){"use strict";n(82579)},64607(t,e,n){"use strict";var r=n(12106),i=n(50265),o=n(91787),a=n(40257),s=n(20177),c=n(78996),l=function(){},u=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),d=!h.test(l),p=function(t){if(!o(t))return!1;try{return u(l,[],t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(h,c(t))}catch(t){return!0}};v.sham=!0,t.exports=!u||i(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?v:p},64745(t,e,n){"use strict";var r=n(93534),i=n(29507).filter,o=n(9654),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(t){var e=i(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)})},65026(t,e,n){"use strict";var r=n(2896);t.exports=function(t,e){for(var n=r(t),i=new e(n),o=0;o<n;o++)i[o]=t[n-o-1];return i}},65174(t,e,n){"use strict";var r=n(52870),i=n(98960),o=n(94632),a=n(43524),s=n(16235),c=n(67191),l=n(97313),u=i.has,h=i.remove;t.exports=function(t){var e=r(this),n=s(t),i=o(e);return a(e)<=n.size?c(e,function(t){n.includes(t)&&h(i,t)}):l(n.getIterator(),function(t){u(i,t)&&h(i,t)}),i}},65596(t,e,n){var r;t.exports=(r=n(19959),function(){var t=r,e=t.lib.WordArray;function n(t,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2|r[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return n(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},65963(t,e,n){"use strict";var r=n(12106),i=n(73556),o=n(48085),a=n(13843),s=n(58400),c=r(a),l=r("".slice),u=Math.ceil,h=function(t){return function(e,n,r){var a,h,f=o(s(e)),d=i(n),p=f.length,v=void 0===r?" ":o(r);return d<=p||""===v?f:((h=c(v,u((a=d-p)/v.length))).length>a&&(h=l(h,0,a)),t?f+h:h+f)}};t.exports={start:h(!1),end:h(!0)}},66543(t,e,n){"use strict";var r,i,o,a,s=n(99466),c=n(49675),l=n(88402),u=n(91787),h=n(11467),f=n(50265),d=n(42427),p=n(87874),v=n(21289),m=n(40706),y=n(22962),g=n(88423),b=s.setImmediate,_=s.clearImmediate,w=s.process,S=s.Dispatch,E=s.Function,x=s.MessageChannel,T=s.String,A=0,k={},O="onreadystatechange";f(function(){r=s.location});var C=function(t){if(h(k,t)){var e=k[t];delete k[t],e()}},P=function(t){return function(){C(t)}},I=function(t){C(t.data)},M=function(t){s.postMessage(T(t),r.protocol+"//"+r.host)};b&&_||(b=function(t){m(arguments.length,1);var e=u(t)?t:E(t),n=p(arguments,1);return k[++A]=function(){c(e,void 0,n)},i(A),A},_=function(t){delete k[t]},g?i=function(t){w.nextTick(P(t))}:S&&S.now?i=function(t){S.now(P(t))}:x&&!y?(a=(o=new x).port2,o.port1.onmessage=I,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(M)?(i=M,s.addEventListener("message",I,!1)):i=O in v("script")?function(t){d.appendChild(v("script"))[O]=function(){d.removeChild(this),C(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:b,clear:_}},66754(t,e,n){"use strict";var r=n(91652),i=n(72139),o=n(57178);r({target:"Object",stat:!0,forced:n(50265)(function(){o(1)})},{keys:function(t){return o(i(t))}})},67013(t,e,n){"use strict";var r=n(67074),i=n(40257);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},67074(t,e,n){"use strict";var r={};r[n(58993)("toStringTag")]="z",t.exports="[object z]"===String(r)},67191(t,e,n){"use strict";var r=n(12106),i=n(97313),o=n(98960),a=o.Set,s=o.proto,c=r(s.forEach),l=r(s.keys),u=l(new a).next;t.exports=function(t,e,n){return n?i({iterator:l(t),next:u},e):c(t,e)}},67301(t,e,n){"use strict";var r=n(88402),i=n(70639),o=n(30806),a=n(72139),s=n(2896),c=n(36903),l=n(77481),u=n(50051),h=n(84485),f=n(93534).aTypedArrayConstructor,d=n(61716);t.exports=function(t){var e,n,p,v,m,y,g,b,_=o(this),w=a(t),S=arguments.length,E=S>1?arguments[1]:void 0,x=void 0!==E,T=l(w);if(T&&!u(T))for(b=(g=c(w,T)).next,w=[];!(y=i(b,g)).done;)w.push(y.value);for(x&&S>2&&(E=r(E,arguments[2])),n=s(w),p=new(f(_))(n),v=h(p),e=0;n>e;e++)m=x?E(w[e],e):w[e],p[e]=v?d(m):+m;return p}},67640(t,e,n){"use strict";var r=n(3806),i=n(50265);t.exports=r&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},67773(t,e,n){t.exports=function(t,e,n,r,i,o,a,s){"use strict";const c="modal",l=".bs.modal",u="Escape",h=`hide${l}`,f=`hidePrevented${l}`,d=`hidden${l}`,p=`show${l}`,v=`shown${l}`,m=`resize${l}`,y=`click.dismiss${l}`,g=`mousedown.dismiss${l}`,b=`keydown.dismiss${l}`,_=`click${l}.data-api`,w="modal-open",S="fade",E="show",x="modal-static",T=".modal.show",A=".modal-dialog",k=".modal-body",O='[data-bs-toggle="modal"]',C={backdrop:!0,focus:!0,keyboard:!0},P={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class I extends t{constructor(t,e){super(t,e),this._dialog=n.findOne(A,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new s,this._addEventListeners()}static get Default(){return C}static get DefaultType(){return P}static get NAME(){return c}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||e.trigger(this._element,p,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(w),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(e.trigger(this._element,h).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(E),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){e.off(window,l),e.off(this._dialog,l),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new r({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=n.findOne(k,this._dialog);r&&(r.scrollTop=0),a.reflow(this._element),this._element.classList.add(E);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,e.trigger(this._element,v,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){e.on(this._element,b,t=>{t.key===u&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),e.on(window,m,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),e.on(this._element,g,t=>{e.one(this._element,y,e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(w),this._resetAdjustments(),this._scrollBar.reset(),e.trigger(this._element,d)})}_isAnimated(){return this._element.classList.contains(S)}_triggerBackdropTransition(){if(e.trigger(this._element,f).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(x)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(x),this._queueCallback(()=>{this._element.classList.remove(x),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const t=a.isRTL()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!n&&t){const t=a.isRTL()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const n=I.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}})}}return e.on(document,_,O,function(t){const r=n.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),e.one(r,p,t=>{t.defaultPrevented||e.one(r,d,()=>{a.isVisible(this)&&this.focus()})});const i=n.findOne(T);i&&I.getInstance(i).hide(),I.getOrCreateInstance(r).toggle(this)}),i.enableDismissTrigger(I),a.defineJQueryPlugin(I),I}(n(16545),n(67922),n(82613),n(61563),n(68546),n(28922),n(35429),n(22559))},67902(t,e,n){"use strict";var r=n(91652),i=n(43986);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},67922(t,e,n){t.exports=function(t){"use strict";const e=/[^.]*(?=\..*)\.|.*/,n=/\..*/,r=/::\d+$/,i={};let o=1;const a={mouseenter:"mouseover",mouseleave:"mouseout"},s=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(t,e){return e&&`${e}::${o++}`||t.uidEvent||o++}function l(t){const e=c(t);return t.uidEvent=e,i[e]=i[e]||{},i[e]}function u(t,e){return function n(r){return b(r,{delegateTarget:t}),n.oneOff&&g.off(t,r.type,e),e.apply(t,[r])}}function h(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return b(i,{delegateTarget:a}),r.oneOff&&g.off(t,i.type,e,n),n.apply(a,[i])}}function f(t,e,n=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===n)}function d(t,e,n){const r="string"==typeof e,i=r?n:e||n;let o=y(t);return s.has(o)||(o=t),[r,i,o]}function p(t,n,r,i,o){if("string"!=typeof n||!t)return;let[s,p,v]=d(n,r,i);if(n in a){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};p=t(p)}const m=l(t),y=m[v]||(m[v]={}),g=f(y,p,s?r:null);if(g)return void(g.oneOff=g.oneOff&&o);const b=c(p,n.replace(e,"")),_=s?h(t,r,p):u(t,p);_.delegationSelector=s?r:null,_.callable=p,_.oneOff=o,_.uidEvent=b,y[b]=_,t.addEventListener(v,_,s)}function v(t,e,n,r,i){const o=f(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function m(t,e,n,r){const i=e[n]||{};for(const[o,a]of Object.entries(i))o.includes(r)&&v(t,e,n,a.callable,a.delegationSelector)}function y(t){return t=t.replace(n,""),a[t]||t}const g={on(t,e,n,r){p(t,e,n,r,!1)},one(t,e,n,r){p(t,e,n,r,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[o,a,s]=d(e,n,i),c=s!==e,u=l(t),h=u[s]||{},f=e.startsWith(".");if(void 0===a){if(f)for(const n of Object.keys(u))m(t,u,n,e.slice(1));for(const[n,i]of Object.entries(h)){const o=n.replace(r,"");c&&!e.includes(o)||v(t,u,s,i.callable,i.delegationSelector)}}else{if(!Object.keys(h).length)return;v(t,u,s,a,o?n:null)}},trigger(e,n,r){if("string"!=typeof n||!e)return null;const i=t.getjQuery();let o=null,a=!0,s=!0,c=!1;n!==y(n)&&i&&(o=i.Event(n,r),i(e).trigger(o),a=!o.isPropagationStopped(),s=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const l=b(new Event(n,{bubbles:a,cancelable:!0}),r);return c&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function b(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>r})}return t}return g}(n(35429))},67930(t,e,n){"use strict";n(60331)},68423(t,e,n){"use strict";var r=n(58993),i=n(72330),o=n(20011).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},68452(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(12106),a=n(94626),s=n(23632),c=n(77839),l=n(32022),u=n(91678),h=l.i2c,f=l.i2cUrl,d=o("".charAt),p=i.Uint8Array,v=!p||!p.prototype.toBase64||!function(){try{(new p).toBase64(null)}catch(t){return!0}}();p&&r({target:"Uint8Array",proto:!0,forced:v},{toBase64:function(){var t=s(this),e=arguments.length?a(arguments[0]):void 0,n="base64"===u(e)?h:f,r=!!e&&!!e.omitPadding;c(this.buffer);for(var i,o="",l=0,p=t.length,v=function(t){return d(n,i>>6*t&63)};l+2<p;l+=3)i=(t[l]<<16)+(t[l+1]<<8)+t[l+2],o+=v(3)+v(2)+v(1)+v(0);return l+2===p?(i=(t[l]<<16)+(t[l+1]<<8),o+=v(3)+v(2)+v(1)+(r?"":"=")):l+1===p&&(i=t[l]<<16,o+=v(3)+v(2)+(r?"":"==")),o}})},68546(t,e,n){!function(t,e,n,r){"use strict";const i=(t,i="hide")=>{const o=`click.dismiss${t.EVENT_KEY}`,a=t.NAME;e.on(document,o,`[data-bs-dismiss="${a}"]`,function(e){if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),r.isDisabled(this))return;const o=n.getElementFromSelector(this)||this.closest(`.${a}`);t.getOrCreateInstance(o)[i]()})};t.enableDismissTrigger=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e,n(67922),n(82613),n(35429))},68707(t,e,n){"use strict";n(56442)},69039(t,e,n){"use strict";var r=n(11269);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},69209(t,e,n){"use strict";var r=n(3806),i=n(95160),o=n(1987),a=n(27565);r&&!o.correct&&(i(RegExp.prototype,"flags",{configurable:!0,get:a}),o.correct=!0)},69259(t,e,n){"use strict";n(60441),n(7709),n(29),n(3438),n(18234),n(92482),n(90930),n(39710),n(18899),n(4573),n(41178),n(45502),n(93815),n(60942),n(16415);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}const a=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),document.querySelectorAll(this._selectors.btn)&&document.querySelectorAll(this._selectors.btn).forEach(function(t){t.addEventListener("focus",e._onBtnClick.bind(e)),t.addEventListener("active",e._onBtnClick.bind(e))}),document.querySelector(this._selectors.themeLight).addEventListener("click",this._onLightTheme.bind(this)),document.querySelector(this._selectors.themeDark).addEventListener("click",this._onDarkTheme.bind(this)),this._setColorScheme()},e=[{key:"_selectors",get:function(){return{btn:".js-btn-custom",themeLight:".js-theme-light",themeDark:".js-theme-dark"}}},{key:"_onBtnClick",value:function(t){setTimeout(function(){t.target.blur()},250)}},{key:"_setColorScheme",value:function(){var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";null===localStorage.getItem("theme")?"dark"===t?document.querySelector(this._selectors.themeDark).click():document.querySelector(this._selectors.themeLight).click():"dark"===localStorage.getItem("theme")?document.querySelector(this._selectors.themeDark).click():document.querySelector(this._selectors.themeLight).click()}},{key:"_onLightTheme",value:function(t){t.currentTarget.classList.contains("active")||(document.querySelector(this._selectors.themeLight).classList.add("active"),document.querySelector(this._selectors.themeDark).classList.remove("active"),this._setTheme("light"))}},{key:"_onDarkTheme",value:function(t){t.currentTarget.classList.contains("active")||(document.querySelector(this._selectors.themeLight).classList.remove("active"),document.querySelector(this._selectors.themeDark).classList.add("active"),this._setTheme("dark"))}},{key:"_setTheme",value:function(t){document.documentElement.dataset.theme=t,localStorage.setItem("theme",t)}}],e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();n(41209),n(34117),n(82425),n(14204),n(93217);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return l(u,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),u}var a={};function s(){}function u(){}function h(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(l(e={},r,function(){return this}),e),d=h.prototype=s.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=h,l(d,"constructor",h),l(h,"constructor",u),u.displayName="GeneratorFunction",l(h,i,"GeneratorFunction"),l(d),l(d,i,"Generator"),l(d,r,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m:p}})()}function l(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}l=function(t,e,n,r){function o(e,n){l(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},l(t,e,n,r)}function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=null,n=[{key:"remove",value:(r=c().m(function t(){var e,n;return c().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll(".endora-panel")&&document.querySelectorAll(".endora-panel").forEach(function(t){return t.remove()}),(e=document.querySelectorAll("style"))&&e.forEach(function(t){t.textContent.includes(".endora-panel")&&t.remove()}),setTimeout(function(){for(var t,e=document.createNodeIterator(document.head,NodeFilter.SHOW_COMMENT);t=e.nextNode();)if(t.nodeValue.includes("injected banner")){t.remove();break}for(var n,r=document.createNodeIterator(document.body,NodeFilter.SHOW_COMMENT);n=r.nextNode();)if(n.nodeValue.includes("end banner")){n.remove();break}},100),(n=document.querySelectorAll(".temp"))&&n.forEach(function(t){t.remove()});case 1:return t.a(2)}},t)}),i=function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function a(t){u(o,n,i,a,s,"next",t)}function s(t){u(o,n,i,a,s,"throw",t)}a(void 0)})},function(){return i.apply(this,arguments)})}],e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,i}();const p=d;var v;window._3f8rc0x586eet346||(window._3f8rc0x586eet346=!0,window.started_at=new Date,v=function(){p.remove().catch(function(t){return t}),new a},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){v()}):v())},69312(t,e,n){"use strict";var r=n(50265);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){return 1},1)})}},69790(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(62005);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},70236(t,e,n){"use strict";var r=n(70639),i=n(91787),o=n(51544),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},70275(t,e,n){"use strict";var r=n(7185).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},70639(t,e,n){"use strict";var r=n(58354),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},70960(t,e,n){"use strict";var r=n(91652),i=n(12106),o=n(79224),a=n(72139),s=n(2896),c=n(27068),l=n(48085),u=n(50265),h=n(12442),f=n(69312),d=n(6687),p=n(1173),v=n(62381),m=n(73197),y=[],g=i(y.sort),b=i(y.push),_=u(function(){y.sort(void 0)}),w=u(function(){y.sort(null)}),S=f("sort"),E=!u(function(){if(v)return v<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:e+r,v:n})}for(y.sort(function(t,e){return e.v-t.v}),r=0;r<y.length;r++)e=y[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});r({target:"Array",proto:!0,forced:_||!w||!S||!E},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(E)return void 0===t?g(e):g(e,t);var n,r,i=[],u=s(e);for(r=0;r<u;r++)r in e&&b(i,e[r]);for(h(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:l(e)>l(n)?1:-1}}(t)),n=s(i),r=0;r<n;)e[r]=i[r++];for(;r<u;)c(e,r++);return e}})},71044(t,e,n){"use strict";var r=n(70639),i=n(72330),o=n(3693),a=n(32073),s=n(58993),c=n(19043),l=n(54996),u=n(42811).IteratorPrototype,h=n(37007),f=n(71905),d=n(57199),p=s("toStringTag"),v="IteratorHelper",m="WrapForValidIterator",y="normal",g="throw",b=c.set,_=function(t){var e=c.getterFor(t?m:v);return a(i(u),{next:function(){var n=e(this);if(t)return n.nextHandler();if(n.done)return h(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:h(r,n.done)}catch(t){throw n.done=!0,t}},return:function(){var n=e(this),i=n.iterator;if(n.done=!0,t){var o=l(i,"return");return o?r(o,i):h(void 0,!0)}if(n.inner)try{f(n.inner.iterator,y)}catch(t){return f(i,g,t)}if(n.openIters)try{d(n.openIters,y)}catch(t){return f(i,g,t)}return i&&f(i,y),h(void 0,!0)}})},w=_(!0),S=_(!1);o(S,p,"Iterator Helper"),t.exports=function(t,e,n){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=e?m:v,i.returnHandlerResult=!!n,i.nextHandler=t,i.counter=0,i.done=!1,b(this,i)};return r.prototype=e?w:S,r}},71591(t,e,n){"use strict";var r=n(13623);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},71784(t,e,n){"use strict";var r=n(12106),i=n(79224);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},71905(t,e,n){"use strict";var r=n(70639),i=n(59637),o=n(54996);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},71925(t,e,n){"use strict";var r=n(93534),i=n(49659).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},71930(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(23442),a=n(79224),s=n(59637),c=n(58985),l=n(71905),u=n(45059)("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:u},{forEach:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),n=0;o(e,function(e){t(e,n++)},{IS_RECORD:!0})}})},72009(t,e,n){"use strict";var r=n(91652),i=n(36613),o=n(73486).CONSTRUCTOR,a=n(57632),s=n(20177),c=n(91787),l=n(82554),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(a)){var h=s("Promise").prototype.catch;u.catch!==h&&l(u,"catch",h,{unsafe:!0})}},72026(t,e,n){"use strict";var r=n(91652),i=n(43986);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},72139(t,e,n){"use strict";var r=n(58400),i=Object;t.exports=function(t){return i(r(t))}},72233(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(79224),a=n(75477),s=n(80481),c=n(23442);r({target:"Promise",stat:!0,forced:n(73823)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,l=n.reject,u=s(function(){var n=o(e.resolve),a=[],s=0,u=1;c(t,function(t){var o=s++,c=!1;u++,i(n,e,t).then(function(t){c||(c=!0,a[o]=t,--u||r(a))},l)}),--u||r(a)});return u.error&&l(u.value),n.promise}})},72330(t,e,n){"use strict";var r,i=n(59637),o=n(9399),a=n(20229),s=n(10067),c=n(42427),l=n(21289),u=n(4513),h="prototype",f="script",d=u("IE_PROTO"),p=function(){},v=function(t){return"<"+f+">"+t+"</"+f+">"},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;y="undefined"!=typeof document?document.domain&&r?m(r):(e=l("iframe"),n="java"+f+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):m(r);for(var i=a.length;i--;)delete y[h][a[i]];return y()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[h]=i(t),n=new p,p[h]=null,n[d]=t):n=y(),void 0===e?n:o.f(n,e)}},72777(t,e,n){"use strict";n(68452)},72862(t,e,n){"use strict";var r,i=n(91652),o=n(92714),a=n(56065).f,s=n(73556),c=n(48085),l=n(38717),u=n(58400),h=n(1178),f=n(36613),d=o("".slice),p=Math.min,v=h("startsWith");i({target:"String",proto:!0,forced:!!(f||v||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!v},{startsWith:function(t){var e=c(u(this));l(t);var n=s(p(arguments.length>1?arguments[1]:void 0,e.length)),r=c(t);return d(e,n,n+r.length)===r}})},73197(t,e,n){"use strict";var r=n(11269).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},73486(t,e,n){"use strict";var r=n(99466),i=n(57632),o=n(91787),a=n(35498),s=n(78996),c=n(58993),l=n(74713),u=n(36613),h=n(62381),f=i&&i.prototype,d=c("species"),p=!1,v=o(r.PromiseRejectionEvent),m=a("Promise",function(){var t=s(i),e=t!==String(i);if(!e&&66===h)return!0;if(u&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(t)){var n=new i(function(t){t(1)}),r=function(t){t(function(){},function(){})};if((n.constructor={})[d]=r,!(p=n.then(function(){})instanceof r))return!0}return!(e||"BROWSER"!==l&&"DENO"!==l||v)});t.exports={CONSTRUCTOR:m,REJECTION_EVENT:v,SUBCLASSING:p}},73556(t,e,n){"use strict";var r=n(31821),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},73605(t,e,n){"use strict";var r=n(59637),i=n(71905);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},73823(t,e,n){"use strict";var r=n(57632),i=n(8210),o=n(73486).CONSTRUCTOR;t.exports=o||!i(function(t){r.all(t).then(void 0,function(){})})},74017(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(23442),a=n(79224),s=n(59637),c=n(58985),l=n(71905),u=n(45059)("some",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:u},{some:function(t){s(this);try{a(t)}catch(t){l(this,"throw",t)}if(u)return i(u,this,t);var e=c(this),n=0;return o(e,function(e,r){if(t(e,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},74185(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},74220(t,e,n){"use strict";var r=n(93534),i=n(29507).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},74713(t,e,n){"use strict";var r=n(99466),i=n(11269),o=n(50286),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},74940(t){"use strict";t.exports=i,t.exports.isMobile=i,t.exports.default=i;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|redmi|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,r=/android|ipad|playbook|silk/i;function i(t){t||(t={});let i=t.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;let o=e.test(i)&&!n.test(i)||!!t.tablet&&r.test(i);return!o&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(o=!0),o}},75373(t,e,n){"use strict";var r=n(62381),i=n(50265),o=n(99466).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})},75477(t,e,n){"use strict";var r=n(79224),i=TypeError,o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw new i("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},75496(t,e,n){"use strict";var r=n(91652),i=n(50265),o=n(55970),a=n(51544),s=n(72139),c=n(2896),l=n(90675),u=n(44366),h=n(71591),f=n(87987),d=n(58993),p=n(62381),v=d("isConcatSpreadable"),m=p>=51||!i(function(){var t=[];return t[v]=!1,t.concat()[0]!==t}),y=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!m||!f("concat")},{concat:function(t){var e,n,r,i,o,a=s(this),f=h(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(y(o=-1===e?a:arguments[e]))for(i=c(o),l(d+i),n=0;n<i;n++,d++)n in o&&u(f,d,o[n]);else l(d+1),u(f,d++,o);return f.length=d,f}})},76228(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(22621),a=n(23632),s=n(77839),c=n(83757);i.Uint8Array&&r({target:"Uint8Array",proto:!0},{setFromHex:function(t){a(this),o(t),s(this.buffer);var e=c(t,this).read;return{read:e,written:e/2}}})},76318(t,e,n){"use strict";var r=n(21289)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},77042(t,e,n){"use strict";var r=n(75373);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},77068(t,e,n){"use strict";var r=n(23903),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},77164(t,e,n){var r;t.exports=(r=n(19959),r.enc.Utf8)},77186(t,e,n){"use strict";var r=n(51544),i=n(3693);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},77332(t,e,n){"use strict";var r=n(91652),i=n(99483).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},77481(t,e,n){"use strict";var r=n(40257),i=n(54996),o=n(21039),a=n(59671),s=n(58993)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[r(t)]}},77739(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},77839(t,e,n){"use strict";var r=n(91436),i=TypeError;t.exports=function(t){if(r(t))throw new i("ArrayBuffer is detached");return t}},78996(t,e,n){"use strict";var r=n(12106),i=n(91787),o=n(38263),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},79224(t,e,n){"use strict";var r=n(91787),i=n(74185),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},79235(t,e,n){"use strict";var r=n(59637),i=n(30806),o=n(21039),a=n(58993)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||o(n=r(s)[a])?e:i(n)}},79645(t){"use strict";t.exports=function(t){try{var e=new Set,n={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[t](n);return 1===r.size&&4===r.values().next().value}catch(t){return!1}}},80360(t,e,n){"use strict";var r=n(91652),i=n(20177),o=n(49675),a=n(70639),s=n(12106),c=n(50265),l=n(55970),u=n(91787),h=n(36208),f=n(21087),d=n(50286),p=n(48085),v=n(87874),m=n(43970),y=n(62122),g=n(75373),b=n(51469),_=String,w=i("JSON","stringify"),S=s(/./.exec),E=s("".charAt),x=s("".charCodeAt),T=s("".replace),A=s("".slice),k=s([].push),O=s(1.1.toString),C=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,M=y(),R=M.length,L=!g||c(function(){var t=i("Symbol")("stringify detection");return"[null]"!==w([t])||"{}"!==w({a:t})||"{}"!==w(Object(t))}),j=c(function(){return'"\\udf06\\ud834"'!==w("\udf06\ud834")||'"\\udead"'!==w("\udead")}),D=L?function(t,e){var n=v(arguments),r=B(e);if(u(r)||void 0!==t&&!f(t))return n[1]=function(t,e){if(u(r)&&(e=a(r,this,_(t),e)),!f(e))return e},o(w,null,n)}:w,N=function(t,e,n){var r=E(n,e-1),i=E(n,e+1);return S(P,t)&&!S(I,i)||S(I,t)&&!S(P,r)?"\\u"+O(x(t,0),16):t},B=function(t){if(u(t))return t;if(l(t)){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];"string"==typeof i?k(n,i):"number"!=typeof i&&"Number"!==d(i)&&"String"!==d(i)||k(n,p(i))}var o=n.length,a=!0;return function(t,e){if(a)return a=!1,e;if(l(this))return e;for(var r=0;r<o;r++)if(n[r]===t)return e}}};w&&r({target:"JSON",stat:!0,arity:3,forced:L||j||!b},{stringify:function(t,e,n){var r=B(e),i=[],o=D(t,function(t,e){var n=u(r)?a(r,this,_(t),e):e;return!b&&h(n)?M+(k(i,n.rawJSON)-1):n},n);if("string"!=typeof o)return o;if(j&&(o=T(o,C,N)),b)return o;for(var s="",c=o.length,l=0;l<c;l++){var f=E(o,l);if('"'===f){var d=m(o,++l).end-1,p=A(o,l,d);s+=A(p,0,R)===M?i[A(p,R)]:'"'+p+'"',l=d}else s+=f}return s}})},80481(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},80763(t,e,n){"use strict";var r=n(99466),i=n(50265),o=n(8210),a=n(93534).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!i(function(){c(1)})||!i(function(){new c(-1)})||!o(function(t){new c,new c(null),new c(1.5),new c(t)},!0)||i(function(){return 1!==new c(new s(2),1,void 0).length})},80794(t,e,n){"use strict";var r=n(91652),i=n(70639);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},81320(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(12106),a=n(58400),s=n(91787),c=n(51544),l=n(52946),u=n(48085),h=n(54996),f=n(60120),d=n(98244),p=n(58993),v=n(36613),m=p("replace"),y=TypeError,g=o("".indexOf),b=o("".replace),_=o("".slice),w=Math.max;r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,o,p,S,E,x,T,A,k,O=a(this),C=0,P="";if(c(t)){if((n=l(t))&&(r=u(a(f(t))),!~g(r,"g")))throw new y("`.replaceAll` does not allow non-global regexes");if(o=h(t,m))return i(o,t,O,e);if(v&&n)return b(u(O),t,e)}for(p=u(O),S=u(t),(E=s(e))||(e=u(e)),x=S.length,T=w(1,x),A=g(p,S);-1!==A;)k=E?u(e(S,A,p)):d(S,p,A,[],void 0,e),P+=_(p,C,A)+k,C=A+x,A=A+T>p.length?-1:g(p,S,A+T);return C<p.length&&(P+=_(p,C)),P}})},82081(t,e,n){"use strict";var r=n(55970),i=n(2896),o=n(90675),a=n(88402),s=function(t,e,n,c,l,u,h,f){for(var d,p,v=l,m=0,y=!!h&&a(h,f);m<c;)m in n&&(d=y?y(n[m],m,e):n[m],u>0&&r(d)?(p=i(d),v=s(t,e,d,p,v,u-1)-1):(o(v+1),t[v]=d),v++),m++;return v};t.exports=s},82222(t,e,n){"use strict";var r=n(50265);t.exports=r(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},82370(t,e,n){"use strict";var r=n(91652),i=n(51708),o=n(79645);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("symmetricDifference")||!o("symmetricDifference")},{symmetricDifference:i})},82393(t,e,n){"use strict";var r=n(12106),i=n(50265),o=n(91787),a=n(11467),s=n(3806),c=n(83328).CONFIGURABLE,l=n(78996),u=n(19043),h=u.enforce,f=u.get,d=String,p=Object.defineProperty,v=r("".slice),m=r("".replace),y=r([].join),g=s&&!i(function(){return 8!==p(function(){},"length",{value:8}).length}),b=String(String).split("String"),_=t.exports=function(t,e,n){"Symbol("===v(d(e),0,7)&&(e="["+m(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),g&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=h(t);return a(r,"source")||(r.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=_(function(){return o(this)&&f(this).source||l(this)},"toString")},82416(t,e,n){"use strict";var r=n(50265),i=n(99466).RegExp;t.exports=r(function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},82425(t,e,n){"use strict";n(91652)({target:"Object",stat:!0},{setPrototypeOf:n(40017)})},82554(t,e,n){"use strict";var r=n(91787),i=n(20011),o=n(82393),a=n(20015);t.exports=function(t,e,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:e;if(r(n)&&o(n,l,s),s.global)c?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},82579(t,e,n){"use strict";n(37734)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},n(6828))},82613(t,e,n){t.exports=function(t){"use strict";const e=e=>{let n=e.getAttribute("data-bs-target");if(!n||"#"===n){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),n=t&&"#"!==t?t.trim():null}return n?n.split(",").map(e=>t.parseSelector(e)).join(","):null},n={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(n,e).filter(e=>!t.isDisabled(e)&&t.isVisible(e))},getSelectorFromElement(t){const r=e(t);return r&&n.findOne(r)?r:null},getElementFromSelector(t){const r=e(t);return r?n.findOne(r):null},getMultipleElementsFromSelector(t){const r=e(t);return r?n.find(r):[]}};return n}(n(35429))},82648(t,e,n){"use strict";var r=n(91652),i=n(29507).map;r({target:"Array",proto:!0,forced:!n(87987)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},83328(t,e,n){"use strict";var r=n(3806),i=n(11467),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},83622(t,e,n){"use strict";var r=n(12106),i=n(11467),o=n(57103),a=n(49659).indexOf,s=n(10067),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&c(u,n);for(;e.length>l;)i(r,n=e[l++])&&(~a(u,n)||c(u,n));return u}},83719(t,e,n){"use strict";var r=n(3806),i=n(50265),o=n(21289);t.exports=!r&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},83757(t,e,n){"use strict";var r=n(99466),i=n(12106),o=r.Uint8Array,a=r.SyntaxError,s=r.parseInt,c=Math.min,l=/[^\da-f]/i,u=i(l.exec),h=i("".slice);t.exports=function(t,e){var n=t.length;if(n%2!=0)throw new a("String should be an even number of characters");for(var r=e?c(e.length,n/2):n/2,i=e||new o(r),f=0,d=0;d<r;){var p=h(t,f,f+=2);if(u(l,p))throw new a("String should only contain hex characters");i[d++]=s(p,16)}return{bytes:i,read:f}}},83885(t,e,n){"use strict";var r=n(93534),i=n(33108).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)})},84098(t,e,n){"use strict";var r=n(2896),i=n(31821),o=RangeError;t.exports=function(t,e,n,a){var s=r(t),c=i(n),l=c<0?s+c:c;if(l>=s||l<0)throw new o("Incorrect index");for(var u=new e(s),h=0;h<s;h++)u[h]=h===l?a:t[h];return u}},84150(t,e,n){"use strict";var r=n(91652),i=n(11467),o=n(21087),a=n(74185),s=n(57495),c=n(77042),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(l,t))return l[t]}})},84485(t,e,n){"use strict";var r=n(40257);t.exports=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}},85361(t,e,n){"use strict";var r=n(48085);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},85653(t,e,n){"use strict";var r=n(93534),i=n(29507).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},85688(t,e,n){"use strict";var r=n(12106),i=n(93534),o=r(n(34975)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(t,e){return o(a(this),t,e,arguments.length>2?arguments[2]:void 0)})},86032(t,e,n){"use strict";var r=n(70639),i=n(92318),o=n(59637),a=n(51544),s=n(58400),c=n(13820),l=n(48085),u=n(54996),h=n(87772);i("search",function(t,e,n){return[function(e){var n=s(this),i=a(e)?u(e,t):void 0;return i?r(i,e,n):new RegExp(e)[t](l(n))},function(t){var r=o(this),i=l(t),a=n(e,r,i);if(a.done)return a.value;var s=r.lastIndex;c(s,0)||(r.lastIndex=0);var u=h(r,i);return c(r.lastIndex,s)||(r.lastIndex=s),null===u?-1:u.index}]})},86736(t,e,n){"use strict";n(74017)},87659(t,e,n){"use strict";n(68423)("flatMap")},87723(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},87772(t,e,n){"use strict";var r=n(70639),i=n(59637),o=n(91787),a=n(50286),s=n(27649),c=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var l=r(n,t,e);return null!==l&&i(l),l}if("RegExp"===a(t))return r(s,t,e);throw new c("RegExp#exec called on incompatible receiver")}},87874(t,e,n){"use strict";var r=n(12106);t.exports=r([].slice)},87987(t,e,n){"use strict";var r=n(50265),i=n(58993),o=n(62381),a=i("species");t.exports=function(t){return o>=51||!r(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},88402(t,e,n){"use strict";var r=n(92714),i=n(79224),o=n(58354),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},88423(t,e,n){"use strict";var r=n(74713);t.exports="NODE"===r},88692(t,e,n){"use strict";var r=n(12106),i=n(79224),o=n(51544),a=n(11467),s=n(87874),c=n(58354),l=Function,u=r([].concat),h=r([].join),f={};t.exports=c?l.bind:function(t){var e=i(this),n=e.prototype,r=s(arguments,1),c=function(){var n=u(r,s(arguments));return this instanceof c?function(t,e,n){if(!a(f,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";f[e]=l("C,a","return new C("+h(r,",")+")")}return f[e](t,n)}(e,n.length,n):e.apply(t,n)};return o(n)&&(c.prototype=n),c}},88798(t,e,n){"use strict";n(43368)},88871(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},89049(t,e,n){"use strict";var r=n(20177),i=n(12106),o=n(52438),a=n(42891),s=n(59637),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?c(e,n(t)):e}},89585(t,e,n){"use strict";var r=n(3693),i=n(56687),o=n(31181),a=Error.captureStackTrace;t.exports=function(t,e,n,s){o&&(a?a(t,e):r(t,"stack",i(n,s)))}},90009(t,e,n){"use strict";var r=n(52870),i=n(98960).has,o=n(43524),a=n(16235),s=n(97313),c=n(71905);t.exports=function(t){var e=r(this),n=a(t);if(o(e)<n.size)return!1;var l=n.getIterator();return!1!==s(l,function(t){if(!i(e,t))return c(l,"normal",!1)})}},90608(t,e,n){"use strict";var r=n(70639),i=n(20177),o=n(58993),a=n(82554);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,function(t){return r(n,this)},{arity:1})}},90675(t){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},90717(t,e,n){"use strict";var r=n(50265),i=n(99466).RegExp;t.exports=r(function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})},90760(t,e,n){"use strict";var r=n(91652),i=n(65174),o=n(50265);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("difference",function(t){return 0===t.size})||o(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var n=t++>1;return e.has(1)&&e.clear(),{done:n,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size})},{difference:i})},90930(t,e,n){"use strict";var r=n(11467),i=n(82554),o=n(24142),a=n(58993)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},90972(t,e,n){"use strict";var r=n(93534),i=n(73556),o=n(48880),a=r.aTypedArray,s=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("subarray",function(t,e){var n=a(this),r=n.length,c=o(t,r);return new(s(n))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-c))})},91041(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(15093),a=n(59637),s=n(91787),c=n(3421),l=n(95160),u=n(44366),h=n(50265),f=n(11467),d=n(58993),p=n(42811).IteratorPrototype,v=n(3806),m=n(36613),y="constructor",g="Iterator",b=d("toStringTag"),_=TypeError,w=i[g],S=m||!s(w)||w.prototype!==p||!h(function(){w({})}),E=function(){if(o(this,p),c(this)===p)throw new _("Abstract class Iterator not directly constructable")},x=function(t,e){v?l(p,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===p)throw new _("You can't redefine this property");f(this,t)?this[t]=e:u(this,t,e)}}):p[t]=e};f(p,b)||x(b,g),!S&&f(p,y)&&p[y]!==Object||x(y,E),E.prototype=p,r({global:!0,constructor:!0,forced:S},{Iterator:E})},91227(t,e,n){"use strict";var r=n(70639),i=n(12106),o=n(92318),a=n(59637),s=n(51544),c=n(73556),l=n(48085),u=n(58400),h=n(54996),f=n(70275),d=n(60120),p=n(87772),v=i("".indexOf);o("match",function(t,e,n){return[function(e){var n=u(this),i=s(e)?h(e,t):void 0;return i?r(i,e,n):new RegExp(e)[t](l(n))},function(t){var r=a(this),i=l(t),o=n(e,r,i);if(o.done)return o.value;var s=l(d(r));if(-1===v(s,"g"))return p(r,i);var u=-1!==v(s,"u");r.lastIndex=0;for(var h,m=[],y=0;null!==(h=p(r,i));){var g=l(h[0]);m[y]=g,""===g&&(r.lastIndex=f(i,c(r.lastIndex),u)),y++}return 0===y?null:m}]})},91436(t,e,n){"use strict";var r=n(99466),i=n(95057),o=n(12100),a=r.DataView;t.exports=function(t){if(!i||0!==o(t))return!1;try{return new a(t),!1}catch(t){return!0}}},91652(t,e,n){"use strict";var r=n(99466),i=n(56065).f,o=n(3693),a=n(82554),s=n(20015),c=n(35670),l=n(35498);t.exports=function(t,e){var n,u,h,f,d,p=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[p]||s(p,{}):r[p]&&r[p].prototype)for(u in e){if(f=e[u],h=t.dontCallGetSet?(d=i(n,u))&&d.value:n[u],!l(v?u:p+(m?".":"#")+u,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(n,u,f,t)}}},91678(t){"use strict";var e=TypeError;t.exports=function(t){var n=t&&t.alphabet;if(void 0===n||"base64"===n||"base64url"===n)return n||"base64";throw new e("Incorrect `alphabet` option")}},91787(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},92261(t,e,n){"use strict";var r=n(99466),i=n(12106),o=n(94626),a=n(22621),s=n(11467),c=n(32022),l=n(91678),u=n(77839),h=c.c2i,f=c.c2iUrl,d=r.SyntaxError,p=r.TypeError,v=i("".charAt),m=function(t,e){for(var n=t.length;e<n;e++){var r=v(t,e);if(" "!==r&&"\t"!==r&&"\n"!==r&&"\f"!==r&&"\r"!==r)break}return e},y=function(t,e,n){var r=t.length;r<4&&(t+=2===r?"AA":"A");var i=(e[v(t,0)]<<18)+(e[v(t,1)]<<12)+(e[v(t,2)]<<6)+e[v(t,3)],o=[i>>16&255,i>>8&255,255&i];if(2===r){if(n&&0!==o[1])throw new d("Extra bits");return[o[0]]}if(3===r){if(n&&0!==o[2])throw new d("Extra bits");return[o[0],o[1]]}return o},g=function(t,e,n){for(var r=e.length,i=0;i<r;i++)t[n+i]=e[i];return n+r};t.exports=function(t,e,n,r){a(t),o(e);var i="base64"===l(e)?h:f,c=e?e.lastChunkHandling:void 0;if(void 0===c&&(c="loose"),"loose"!==c&&"strict"!==c&&"stop-before-partial"!==c)throw new p("Incorrect `lastChunkHandling` option");n&&u(n.buffer);var b=t.length,_=n||[],w=0,S=0,E="",x=0;if(r)for(;;){if((x=m(t,x))===b){if(E.length>0){if("stop-before-partial"===c)break;if("loose"!==c)throw new d("Missing padding");if(1===E.length)throw new d("Malformed padding: exactly one additional character");w=g(_,y(E,i,!1),w)}S=b;break}var T=v(t,x);if(++x,"="===T){if(E.length<2)throw new d("Padding is too early");if(x=m(t,x),2===E.length){if(x===b){if("stop-before-partial"===c)break;throw new d("Malformed padding: only one =")}"="===v(t,x)&&(++x,x=m(t,x))}if(x<b)throw new d("Unexpected character after padding");w=g(_,y(E,i,"strict"===c),w),S=b;break}if(!s(i,T))throw new d("Unexpected character");var A=r-w;if(1===A&&2===E.length||2===A&&3===E.length)break;if(4===(E+=T).length&&(w=g(_,y(E,i,!1),w),E="",S=x,w===r))break}return{bytes:_,read:S,written:w}}},92318(t,e,n){"use strict";n(54029);var r=n(70639),i=n(82554),o=n(27649),a=n(50265),s=n(58993),c=n(3693),l=s("species"),u=RegExp.prototype;t.exports=function(t,e,n,h){var f=s(t),d=!a(function(){var e={};return e[f]=function(){return 7},7!==""[t](e)}),p=d&&!a(function(){var e=!1,n=/a/;if("split"===t){var r={};r[l]=function(){return n},(n={constructor:r,flags:""})[f]=/./[f]}return n.exec=function(){return e=!0,null},n[f](""),!e});if(!d||!p||n){var v=/./[f],m=e(f,""[t],function(t,e,n,i,a){var s=e.exec;return s===o||s===u.exec?d&&!a?{done:!0,value:r(v,e,n,i)}:{done:!0,value:r(t,n,e,i)}:{done:!1}});i(String.prototype,t,m[0]),i(u,f,m[1])}h&&c(u[f],"sham",!0)}},92342(t,e,n){"use strict";var r=n(91652),i=n(29507).findIndex,o=n(68423),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},92431(t,e,n){"use strict";var r=n(20177),i=n(11467),o=n(3693),a=n(8367),s=n(40017),c=n(35670),l=n(12686),u=n(10957),h=n(85361),f=n(77186),d=n(89585),p=n(3806),v=n(36613);t.exports=function(t,e,n,m){var y="stackTraceLimit",g=m?2:1,b=t.split("."),_=b[b.length-1],w=r.apply(null,b);if(w){var S=w.prototype;if(!v&&i(S,"cause")&&delete S.cause,!n)return w;var E=r("Error"),x=e(function(t,e){var n=h(m?e:t,void 0),r=m?new w(t):new w;return void 0!==n&&o(r,"message",n),d(r,x,r.stack,2),this&&a(S,this)&&u(r,this,x),arguments.length>g&&f(r,arguments[g]),r});if(x.prototype=S,"Error"!==_?s?s(x,E):c(x,E,{name:!0}):p&&y in w&&(l(x,w,y),l(x,w,"prepareStackTrace")),c(x,w),!v)try{S.name!==_&&o(S,"name",_),S.constructor=x}catch(t){}return x}}},92482(t,e,n){"use strict";var r=n(57103),i=n(68423),o=n(59671),a=n(19043),s=n(20011).f,c=n(49166),l=n(37007),u=n(36613),h=n(3806),f="Array Iterator",d=a.set,p=a.getterFor(f);t.exports=c(Array,"Array",function(t,e){d(this,{type:f,target:r(t),index:0,kind:e})},function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,l(void 0,!0);switch(t.kind){case"keys":return l(n,!1);case"values":return l(e[n],!1)}return l([n,e[n]],!1)},"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&h&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(t){}},92649(t,e,n){"use strict";var r=n(91652),i=n(12106),o=n(10067),a=n(51544),s=n(11467),c=n(20011).f,l=n(52438),u=n(3476),h=n(53986),f=n(62122),d=n(3938),p=!1,v=f("meta"),m=0,y=function(t){c(t,v,{value:{objectID:"O"+m++,weakData:{}}})},g=t.exports={enable:function(){g.enable=function(){},p=!0;var t=l.f,e=i([].splice),n={};n[v]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!h(t))return"F";if(!e)return"E";y(t)}return t[v].objectID},getWeakData:function(t,e){if(!s(t,v)){if(!h(t))return!0;if(!e)return!1;y(t)}return t[v].weakData},onFreeze:function(t){return d&&p&&h(t)&&!s(t,v)&&y(t),t}};o[v]=!0},92714(t,e,n){"use strict";var r=n(50286),i=n(12106);t.exports=function(t){if("Function"===r(t))return i(t)}},93217(t,e,n){"use strict";var r=n(91652),i=n(12106),o=n(38717),a=n(58400),s=n(48085),c=n(1178),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},93534(t,e,n){"use strict";var r,i,o,a=n(95057),s=n(3806),c=n(99466),l=n(91787),u=n(51544),h=n(11467),f=n(40257),d=n(74185),p=n(3693),v=n(82554),m=n(95160),y=n(8367),g=n(3421),b=n(40017),_=n(58993),w=n(62122),S=n(19043),E=S.enforce,x=S.get,T=c.Int8Array,A=T&&T.prototype,k=c.Uint8ClampedArray,O=k&&k.prototype,C=T&&g(T),P=A&&g(A),I=Object.prototype,M=c.TypeError,R=_("toStringTag"),L=w("TYPED_ARRAY_TAG"),j="TypedArrayConstructor",D=a&&!!b&&"Opera"!==f(c.opera),N=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},U=function(t){var e=g(t);if(u(e)){var n=x(e);return n&&h(n,j)?n[j]:U(e)}},z=function(t){if(!u(t))return!1;var e=f(t);return h(B,e)||h(F,e)};for(r in B)(o=(i=c[r])&&i.prototype)?E(o)[j]=i:D=!1;for(r in F)(o=(i=c[r])&&i.prototype)&&(E(o)[j]=i);if((!D||!l(C)||C===Function.prototype)&&(C=function(){throw new M("Incorrect invocation")},D))for(r in B)c[r]&&b(c[r],C);if((!D||!P||P===I)&&(P=C.prototype,D))for(r in B)c[r]&&b(c[r].prototype,P);if(D&&g(O)!==P&&b(O,P),s&&!h(P,R))for(r in N=!0,m(P,R,{configurable:!0,get:function(){return u(this)?this[L]:void 0}}),B)c[r]&&p(c[r],L,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:N&&L,aTypedArray:function(t){if(z(t))return t;throw new M("Target is not a typed array")},aTypedArrayConstructor:function(t){if(l(t)&&(!b||y(C,t)))return t;throw new M(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(s){if(n)for(var i in B){var o=c[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(n){try{o.prototype[t]=e}catch(t){}}}P[t]&&!n||v(P,t,n?e:D&&A[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(s){if(b){if(n)for(r in B)if((i=c[r])&&h(i,t))try{delete i[t]}catch(t){}if(C[t]&&!n)return;try{return v(C,t,n?e:D&&C[t]||e)}catch(t){}}for(r in B)!(i=c[r])||i[t]&&!n||v(i,t,e)}},getTypedArrayConstructor:U,isView:function(t){if(!u(t))return!1;var e=f(t);return"DataView"===e||h(B,e)||h(F,e)},isTypedArray:z,TypedArray:C,TypedArrayPrototype:P}},93815(t,e,n){"use strict";n(71930)},94121(t,e,n){"use strict";var r=n(93534),i=n(50265),o=n(87874),a=r.aTypedArray,s=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("slice",function(t,e){for(var n=o(a(this),t,e),r=s(this),i=0,c=n.length,l=new r(c);c>i;)l[i]=n[i++];return l},i(function(){new Int8Array(1).slice()}))},94562(t,e,n){"use strict";var r,i,o,a,s=n(91652),c=n(36613),l=n(88423),u=n(99466),h=n(52285),f=n(70639),d=n(82554),p=n(40017),v=n(62005),m=n(6419),y=n(79224),g=n(91787),b=n(51544),_=n(15093),w=n(79235),S=n(66543).set,E=n(32649),x=n(87723),T=n(80481),A=n(38147),k=n(19043),O=n(57632),C=n(73486),P=n(75477),I="Promise",M=C.CONSTRUCTOR,R=C.REJECTION_EVENT,L=C.SUBCLASSING,j=k.getterFor(I),D=k.set,N=O&&O.prototype,B=O,F=N,U=u.TypeError,z=u.document,H=u.process,G=P.f,q=G,Y=!!(z&&z.createEvent&&u.dispatchEvent),V="unhandledrejection",W=function(t){var e;return!(!b(t)||!g(e=t.then))&&e},$=function(t,e){var n,r,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(a||(2===e.rejection&&Q(e),e.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===t.promise?l(new U("Promise-chain cycle")):(r=W(n))?f(r,n,c,l):c(n)):l(o)}catch(t){u&&!i&&u.exit(),l(t)}},K=function(t,e){t.notified||(t.notified=!0,E(function(){for(var n,r=t.reactions;n=r.get();)$(n,t);t.notified=!1,e&&!t.rejection&&X(t)}))},Z=function(t,e,n){var r,i;Y?((r=z.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!R&&(i=u["on"+t])?i(r):t===V&&x("Unhandled promise rejection",n)},X=function(t){f(S,u,function(){var e,n=t.facade,r=t.value;if(J(t)&&(e=T(function(){l?H.emit("unhandledRejection",r,n):Z(V,n,r)}),t.rejection=l||J(t)?2:1,e.error))throw e.value})},J=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){f(S,u,function(){var e=t.facade;l?H.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)})},tt=function(t,e,n){return function(r){t(e,r,n)}},et=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},nt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new U("Promise can't be resolved itself");var r=W(e);r?E(function(){var n={done:!1};try{f(r,e,tt(nt,n,t),tt(et,n,t))}catch(e){et(n,e,t)}}):(t.value=e,t.state=1,K(t,!1))}catch(e){et({done:!1},e,t)}}};if(M&&(F=(B=function(t){_(this,F),y(t),f(r,this);var e=j(this);try{t(tt(nt,e),tt(et,e))}catch(t){et(e,t)}}).prototype,(r=function(t){D(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:null})}).prototype=d(F,"then",function(t,e){var n=j(this),r=G(w(this,B));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=l?H.domain:void 0,0===n.state?n.reactions.add(r):E(function(){$(r,n)}),r.promise}),i=function(){var t=new r,e=j(t);this.promise=t,this.resolve=tt(nt,e),this.reject=tt(et,e)},P.f=G=function(t){return t===B||t===o?new i(t):q(t)},!c&&g(O)&&N!==Object.prototype)){a=N.then,L||d(N,"then",function(t,e){var n=this;return new B(function(t,e){f(a,n,t,e)}).then(t,e)},{unsafe:!0});try{delete N.constructor}catch(t){}p&&p(N,F)}s({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:B}),o=h.Promise,v(B,I,!1,!0),m(I)},94626(t,e,n){"use strict";var r=n(51544),i=String,o=TypeError;t.exports=function(t){if(void 0===t||r(t))return t;throw new o(i(t)+" is not an object or undefined")}},94628(t,e,n){"use strict";var r=n(93534),i=n(29507).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},94632(t,e,n){"use strict";var r=n(98960),i=n(67191),o=r.Set,a=r.add;t.exports=function(t){var e=new o;return i(t,function(t){a(e,t)}),e}},95013(t,e,n){"use strict";n(58190)},95057(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},95160(t,e,n){"use strict";var r=n(82393),i=n(20011);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},95492(t){"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},96261(t,e,n){"use strict";var r=n(93534),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",function(){for(var t,e=this,n=i(e).length,r=a(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e})},96270(t,e,n){"use strict";var r=n(93534),i=n(49675),o=n(11317),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(t){var e=arguments.length;return i(o,a(this),e>1?[t,arguments[1]]:[t])})},96301(t,e,n){"use strict";var r=n(91652),i=n(13295),o=n(68423);r({target:"Array",proto:!0},{fill:i}),o("fill")},96421(t,e,n){"use strict";var r=n(99466),i=n(50265),o=n(12106),a=n(48085),s=n(32336).trim,c=n(42046),l=r.parseInt,u=r.Symbol,h=u&&u.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==l(c+"08")||22!==l(c+"0x16")||h&&!i(function(){l(Object(h))});t.exports=p?function(t,e){var n=s(a(t));return l(n,e>>>0||(d(f,n)?16:10))}:l},96785(t,e,n){"use strict";var r=n(50265);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},96873(t,e,n){"use strict";var r=n(91652),i=n(99466),o=n(20177),a=n(61994),s=n(20011).f,c=n(11467),l=n(15093),u=n(10957),h=n(85361),f=n(50340),d=n(56687),p=n(3806),v=n(36613),m="DOMException",y=o("Error"),g=o(m),b=function(){l(this,_);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),r=new g(e,n),i=new y(e);return i.name=m,s(r,"stack",a(1,d(i.stack,1))),u(r,this,b),r},_=b.prototype=g.prototype,w="stack"in new y(m),S="stack"in new g(1,2),E=g&&p&&Object.getOwnPropertyDescriptor(i,m),x=!(!E||E.writable&&E.configurable),T=w&&!x&&!S;r({global:!0,constructor:!0,forced:v||T},{DOMException:T?b:g});var A=o(m),k=A.prototype;if(k.constructor!==A)for(var O in v||s(k,"constructor",a(1,A)),f)if(c(f,O)){var C=f[O],P=C.s;c(A,P)||s(A,P,a(6,C.c))}},97217(t,e,n){"use strict";var r=n(91652),i=n(70639),o=n(79224),a=n(75477),s=n(80481),c=n(23442);r({target:"Promise",stat:!0,forced:n(73823)},{race:function(t){var e=this,n=a.f(e),r=n.reject,l=s(function(){var a=o(e.resolve);c(t,function(t){i(a,e,t).then(n.resolve,r)})});return l.error&&r(l.value),n.promise}})},97313(t,e,n){"use strict";var r=n(70639);t.exports=function(t,e,n){for(var i,o,a=n?t:t.iterator,s=t.next;!(i=r(s,a)).done;)if(void 0!==(o=e(i.value)))return o}},97694(t,e,n){var r;t.exports=(r=n(19959),r.enc.Hex)},97949(t,e,n){"use strict";var r=n(91652),i=n(90009);r({target:"Set",proto:!0,real:!0,forced:!n(27002)("isSupersetOf",function(t){return!t})},{isSupersetOf:i})},98115(t,e,n){"use strict";n(48018)},98244(t,e,n){"use strict";var r=n(12106),i=n(72139),o=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,h,f){var d=n+t.length,p=r.length,v=u;return void 0!==h&&(h=i(h),v=l),s(f,v,function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":l=h[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>p){var f=o(u/10);return 0===f?i:f<=p?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}l=r[u-1]}return void 0===l?"":l})}},98444(t,e,n){"use strict";var r=n(91652),i=n(72139),o=n(2896),a=n(29193),s=n(90675);r({target:"Array",proto:!0,arity:1,forced:n(50265)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),n=o(e),r=arguments.length;s(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return a(e,n),n}})},98960(t,e,n){"use strict";var r=n(12106),i=Set.prototype;t.exports={Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},99134(t,e,n){"use strict";var r=n(75373);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},99466(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},99483(t,e,n){"use strict";var r=n(3806),i=n(50265),o=n(12106),a=n(3421),s=n(57178),c=n(57103),l=o(n(77739).f),u=o([].push),h=r&&i(function(){var t=Object.create(null);return t[2]=2,!l(t,2)}),f=function(t){return function(e){for(var n,i=c(e),o=s(i),f=h&&null===a(i),d=o.length,p=0,v=[];d>p;)n=o[p++],r&&!(f?n in i:l(i,n))||u(v,t?[n,i[n]]:i[n]);return v}};t.exports={entries:f(!0),values:f(!1)}},99673(t,e,n){"use strict";var r=n(12106),i=n(50265),o=n(50286),a=Object,s=r("".split);t.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(t){return"String"===o(t)?s(t,""):a(t)}:a}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";n(69259),n(60441),n(7709),n(29),n(3438),n(18234),n(75496),n(9902),n(48580),n(41209),n(92482),n(82648),n(98444),n(15942),n(24664),n(90930),n(16676),n(80360),n(39710),n(61855),n(18899),n(56012),n(62729),n(4748),n(34117),n(66754),n(82425),n(4573),n(40374),n(14204),n(23517),n(54029),n(12048),n(22935),n(63945),n(90760),n(52598),n(40543),n(19830),n(97949),n(82370),n(63692),n(93217),n(41178),n(39942),n(44760),n(45502),n(34658),n(93815),n(2492),n(67930),n(60942),n(16415),n(63754),n(80794),n(88798),n(4713),n(49172),n(54367),n(17309),n(52247),n(6227),n(72026),n(67902),n(55319),n(20730),n(85688),n(74220),n(4446),n(64745),n(94628),n(85653),n(62085),n(4888),n(2580),n(50250),n(71925),n(52865),n(10259),n(96270),n(12277),n(83885),n(51806),n(96261),n(21187),n(94121),n(16859),n(61031),n(90972),n(14743),n(50033),n(1478),n(51954),n(28507),n(98115),n(56419),n(72777),n(63033),n(44259),n(28545),n(96873),n(14853);var t=n(28651),e=n.n(t),r=n(97694),i=n.n(r),o=n(65596),a=n.n(o),s=n(77164),c=n.n(s);function l(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}class u{type;data;constructor(t,e){this.type=t,this.data=e}}class h extends Error{constructor(t){super(t);const e=Object.create(h.prototype);Object.setPrototypeOf(this,e),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:h.name})}}const f=4294967295;function d(t,e){return 4294967296*t.getInt32(e)+t.getUint32(e+4)}function p({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=17179869183){if(0===e&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const n=t/4294967296,r=4294967295&t,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,e<<2|3&n),o.setUint32(4,r),i}}{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),function(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}(r,4,t),n}}const v={type:-1,encode:function(t){if(t instanceof Date){return p(function(t){const e=t.getTime(),n=Math.floor(e/1e3),r=1e6*(e-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(t))}return null},decode:function(t){const e=function(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0);return{sec:4294967296*(3&t)+e.getUint32(4),nsec:t>>>2}}case 12:return{sec:d(e,4),nsec:e.getUint32(0)};default:throw new h(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}(t);return new Date(1e3*e.sec+e.nsec/1e6)}};class m{static defaultCodec=new m;__brand;builtInEncoders=[];builtInDecoders=[];encoders=[];decoders=[];constructor(){this.register(v)}register({type:t,encode:e,decode:n}){if(t>=0)this.encoders[t]=e,this.decoders[t]=n;else{const r=-1-t;this.builtInEncoders[r]=e,this.builtInDecoders[r]=n}}tryToEncode(t,e){for(let n=0;n<this.builtInEncoders.length;n++){const r=this.builtInEncoders[n];if(null!=r){const i=r(t,e);if(null!=i){return new u(-1-n,i)}}}for(let n=0;n<this.encoders.length;n++){const r=this.encoders[n];if(null!=r){const i=r(t,e);if(null!=i){return new u(n,i)}}}return t instanceof u?t:null}decode(t,e,n){const r=e<0?this.builtInDecoders[-1-e]:this.decoders[e];return r?r(t,e,n):new u(e,t)}}new TextEncoder;function y(t,e,n){let r=e;const i=r+n,o=[];let a="";for(;r<i;){const e=t[r++];if(128&e)if(192==(224&e)){const n=63&t[r++];o.push((31&e)<<6|n)}else if(224==(240&e)){const n=63&t[r++],i=63&t[r++];o.push((31&e)<<12|n<<6|i)}else if(240==(248&e)){let n=(7&e)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++];n>65535&&(n-=65536,o.push(n>>>10&1023|55296),n=56320|1023&n),o.push(n)}else o.push(e);else o.push(e);o.length>=4096&&(a+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(a+=String.fromCharCode(...o)),a}const g=new TextDecoder;function b(t,e,n){return n>200?function(t,e,n){const r=t.subarray(e,e+n);return g.decode(r)}(t,e,n):y(t,e,n)}function _(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):function(t){return t instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer}(t)?new Uint8Array(t):Uint8Array.from(t)}const w="array",S="map_key",E="map_value",x=t=>{if("string"==typeof t||"number"==typeof t)return t;throw new h("The type of key must be string or number but "+typeof t)};class T{stack=[];stackHeadPosition=-1;get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const e=this.getUninitializedStateFromPool();e.type=w,e.position=0,e.size=t,e.array=new Array(t)}pushMapState(t){const e=this.getUninitializedStateFromPool();e.type=S,e.readCount=0,e.size=t,e.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===w){const e=t;e.size=0,e.array=void 0,e.position=0,e.type=void 0}if(t.type===S||t.type===E){const e=t;e.size=0,e.map=void 0,e.readCount=0,e.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const A=new DataView(new ArrayBuffer(0)),k=new Uint8Array(A.buffer);try{A.getInt8(0)}catch(Kr){if(!(Kr instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const O=new RangeError("Insufficient data"),C=new class{hit=0;miss=0;caches;maxKeyLength;maxLengthPerKey;constructor(t=16,e=16){this.maxKeyLength=t,this.maxLengthPerKey=e,this.caches=[];for(let t=0;t<this.maxKeyLength;t++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,e,n){const r=this.caches[n-1];t:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==t[e+i])continue t;return i.str}return null}store(t,e){const n=this.caches[t.length-1],r={bytes:t,str:e};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(t,e,n){const r=this.find(t,e,n);if(null!=r)return this.hit++,r;this.miss++;const i=y(t,e,n),o=Uint8Array.prototype.slice.call(t,e,e+n);return this.store(o,i),i}};class P{extensionCodec;context;useBigInt64;rawStrings;maxStrLength;maxBinLength;maxArrayLength;maxMapLength;maxExtLength;keyDecoder;mapKeyConverter;totalPos=0;pos=0;view=A;bytes=k;headByte=-1;stack=new T;entered=!1;constructor(t){this.extensionCodec=t?.extensionCodec??m.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??f,this.maxBinLength=t?.maxBinLength??f,this.maxArrayLength=t?.maxArrayLength??f,this.maxMapLength=t?.maxMapLength??f,this.maxExtLength=t?.maxExtLength??f,this.keyDecoder=void 0!==t?.keyDecoder?t.keyDecoder:C,this.mapKeyConverter=t?.mapKeyConverter??x}clone(){return new P({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(t){const e=_(t);this.bytes=e,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.pos=0}appendBuffer(t){if(-1!==this.headByte||this.hasRemaining(1)){const e=this.bytes.subarray(this.pos),n=_(t),r=new Uint8Array(e.length+n.length);r.set(e),r.set(n,e.length),this.setBuffer(r)}else this.setBuffer(t)}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:e,pos:n}=this;return new RangeError(`Extra ${e.byteLength-n} of ${e.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered){return this.clone().decode(t)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const e=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return e}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){const e=this.clone();return void(yield*e.decodeMulti(t))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered){return this.clone().decodeAsync(t)}try{this.entered=!0;let e,n=!1;for await(const r of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(r);try{e=this.doDecodeSync(),n=!0}catch(t){if(!(t instanceof RangeError))throw t}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return e}const{headByte:r,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${l(r)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,e){if(this.entered){const n=this.clone();return void(yield*n.decodeMultiAsync(t,e))}try{this.entered=!0;let n=e,r=-1;for await(const i of t){if(e&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--r;);}catch(t){if(!(t instanceof RangeError))throw t}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){const t=this.readHeadByte();let e;if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){const n=t-128;if(0!==n){this.pushMapState(n),this.complete();continue t}e={}}else if(t<160){const n=t-144;if(0!==n){this.pushArrayState(n),this.complete();continue t}e=[]}else{const n=t-160;e=this.decodeString(n,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){const t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){const t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){const t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){const t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue t}e=[]}else if(221===t){const t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue t}e=[]}else if(222===t){const t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue t}e={}}else if(223===t){const t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue t}e={}}else if(196===t){const t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){const t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){const t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){const t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){const t=this.lookU16();e=this.decodeExtension(t,2)}else{if(201!==t)throw new h(`Unrecognized type byte: ${l(t)}`);{const t=this.lookU32();e=this.decodeExtension(t,4)}}this.complete();const n=this.stack;for(;n.length>0;){const t=n.top();if(t.type===w){if(t.array[t.position]=e,t.position++,t.position!==t.size)continue t;e=t.array,n.release(t)}else{if(t.type===S){if("__proto__"===e)throw new h("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=E;continue t}if(t.map[t.key]=e,t.readCount++,t.readCount!==t.size){t.key=null,t.type=S;continue t}e=t.map,n.release(t)}}return e}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:if(t<160)return t-144;throw new h(`Unrecognized array type byte: ${l(t)}`)}}pushMapState(t){if(t>this.maxMapLength)throw new h(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new h(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,e){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,e):this.decodeBinary(t,e)}decodeUtf8String(t,e){if(t>this.maxStrLength)throw new h(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+e+t)throw O;const n=this.pos+e;let r;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?this.keyDecoder.decode(this.bytes,n,t):b(this.bytes,n,t),this.pos+=e+t,r}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===S}return!1}decodeBinary(t,e){if(t>this.maxBinLength)throw new h(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+e))throw O;const n=this.pos+e,r=this.bytes.subarray(n,n+t);return this.pos+=e+t,r}decodeExtension(t,e){if(t>this.maxExtLength)throw new h(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+e),r=this.decodeBinary(t,e+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=function(t,e){return 4294967296*t.getUint32(e)+t.getUint32(e+4)}(this.view,this.pos);return this.pos+=8,t}readI64(){const t=d(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}}function I(t){let e=t.length;for(;--e>=0;)t[e]=0}const M=256,R=286,L=30,j=15,D=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),N=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U=new Array(576);I(U);const z=new Array(60);I(z);const H=new Array(512);I(H);const G=new Array(256);I(G);const q=new Array(29);I(q);const Y=new Array(L);function V(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let W,$,K;function Z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}I(Y);const X=t=>t<256?H[t]:H[256+(t>>>7)],J=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Q=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,J(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},tt=(t,e,n)=>{Q(t,n[2*e],n[2*e+1])},et=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},nt=(t,e,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=j;i++)a=a+n[i-1]<<1,r[i]=a;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=et(r[e]++,e))}},rt=t=>{let e;for(e=0;e<R;e++)t.dyn_ltree[2*e]=0;for(e=0;e<L;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},it=t=>{t.bi_valid>8?J(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ot=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},at=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&ot(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!ot(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},st=(t,e,n)=>{let r,i,o,a,s=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+s++],r+=(255&t.pending_buf[t.sym_buf+s++])<<8,i=t.pending_buf[t.sym_buf+s++],0===r?tt(t,i,e):(o=G[i],tt(t,o+M+1,e),a=D[o],0!==a&&(i-=q[o],Q(t,i,a)),r--,o=X(r),tt(t,o,n),a=N[o],0!==a&&(r-=Y[o],Q(t,r,a)))}while(s<t.sym_next);tt(t,256,e)},ct=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let a,s,c,l=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):n[2*a+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[2*c+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)at(t,n,a);c=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],at(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,n[2*c]=n[2*a]+n[2*s],t.depth[c]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,n[2*a+1]=n[2*s+1]=c,t.heap[1]=c++,at(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,c=e.stat_desc.max_length;let l,u,h,f,d,p,v=0;for(f=0;f<=j;f++)t.bl_count[f]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)u=t.heap[l],f=n[2*n[2*u+1]+1]+1,f>c&&(f=c,v++),n[2*u+1]=f,u>r||(t.bl_count[f]++,d=0,u>=s&&(d=a[u-s]),p=n[2*u],t.opt_len+=p*(f+d),o&&(t.static_len+=p*(i[2*u+1]+d)));if(0!==v){do{for(f=c-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(f=c;0!==f;f--)for(u=t.bl_count[f];0!==u;)h=t.heap[--l],h>r||(n[2*h+1]!==f&&(t.opt_len+=(f-n[2*h+1])*n[2*h],n[2*h+1]=f),u--)}})(t,e),nt(n,l,t.bl_count)},lt=(t,e,n)=>{let r,i,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<c&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))},ut=(t,e,n)=>{let r,i,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<l)do{tt(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(tt(t,i,t.bl_tree),s--),tt(t,16,t.bl_tree),Q(t,s-3,2)):s<=10?(tt(t,17,t.bl_tree),Q(t,s-3,3)):(tt(t,18,t.bl_tree),Q(t,s-11,7));s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4)}};let ht=!1;const ft=(t,e,n,r)=>{Q(t,0+(r?1:0),3),it(t),J(t,n),J(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var dt=(t,e,n,r)=>{let i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<M;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ct(t,t.l_desc),ct(t,t.d_desc),a=(t=>{let e;for(lt(t,t.dyn_ltree,t.l_desc.max_code),lt(t,t.dyn_dtree,t.d_desc.max_code),ct(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*F[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?ft(t,e,n,r):4===t.strategy||o===i?(Q(t,2+(r?1:0),3),st(t,U,z)):(Q(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(Q(t,e-257,5),Q(t,n-1,5),Q(t,r-4,4),i=0;i<r;i++)Q(t,t.bl_tree[2*F[i]+1],3);ut(t,t.dyn_ltree,e-1),ut(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),st(t,t.dyn_ltree,t.dyn_dtree)),rt(t),r&&it(t)},pt={_tr_init:t=>{ht||((()=>{let t,e,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(q[r]=n,t=0;t<1<<D[r];t++)G[n++]=r;for(G[n-1]=r,i=0,r=0;r<16;r++)for(Y[r]=i,t=0;t<1<<N[r];t++)H[i++]=r;for(i>>=7;r<L;r++)for(Y[r]=i<<7,t=0;t<1<<N[r]-7;t++)H[256+i++]=r;for(e=0;e<=j;e++)o[e]=0;for(t=0;t<=143;)U[2*t+1]=8,t++,o[8]++;for(;t<=255;)U[2*t+1]=9,t++,o[9]++;for(;t<=279;)U[2*t+1]=7,t++,o[7]++;for(;t<=287;)U[2*t+1]=8,t++,o[8]++;for(nt(U,287,o),t=0;t<L;t++)z[2*t+1]=5,z[2*t]=et(t,5);W=new V(U,D,257,R,j),$=new V(z,N,0,L,j),K=new V(new Array(0),B,0,19,7)})(),ht=!0),t.l_desc=new Z(t.dyn_ltree,W),t.d_desc=new Z(t.dyn_dtree,$),t.bl_desc=new Z(t.bl_tree,K),t.bi_buf=0,t.bi_valid=0,rt(t)},_tr_stored_block:ft,_tr_flush_block:dt,_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(G[n]+M+1)]++,t.dyn_dtree[2*X(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{Q(t,2,3),tt(t,256,U),(t=>{16===t.bi_valid?(J(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var vt=(t,e,n,r)=>{let i=65535&t,o=t>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16};const mt=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var yt=(t,e,n,r)=>{const i=mt,o=r+n;t^=-1;for(let n=r;n<o;n++)t=t>>>8^i[255&(t^e[n])];return-1^t},gt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_t,_tr_stored_block:wt,_tr_flush_block:St,_tr_tally:Et,_tr_align:xt}=pt,{Z_NO_FLUSH:Tt,Z_PARTIAL_FLUSH:At,Z_FULL_FLUSH:kt,Z_FINISH:Ot,Z_BLOCK:Ct,Z_OK:Pt,Z_STREAM_END:It,Z_STREAM_ERROR:Mt,Z_DATA_ERROR:Rt,Z_BUF_ERROR:Lt,Z_DEFAULT_COMPRESSION:jt,Z_FILTERED:Dt,Z_HUFFMAN_ONLY:Nt,Z_RLE:Bt,Z_FIXED:Ft,Z_DEFAULT_STRATEGY:Ut,Z_UNKNOWN:zt,Z_DEFLATED:Ht}=bt,Gt=258,qt=262,Yt=42,Vt=113,Wt=666,$t=(t,e)=>(t.msg=gt[e],e),Kt=t=>2*t-(t>4?9:0),Zt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Xt=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let Jt=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Qt=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},te=(t,e)=>{St(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Qt(t.strm)},ee=(t,e)=>{t.pending_buf[t.pending++]=e},ne=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},re=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=vt(t.adler,e,i,n):2===t.state.wrap&&(t.adler=yt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},ie=(t,e)=>{let n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match;const c=t.strstart>t.w_size-qt?t.strstart-(t.w_size-qt):0,l=t.window,u=t.w_mask,h=t.prev,f=t.strstart+Gt;let d=l[o+a-1],p=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,l[n+a]===p&&l[n+a-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=Gt-(f-o),o=f-Gt,r>a){if(t.match_start=e,a=r,r>=s)break;d=l[o+a-1],p=l[o+a]}}}while((e=h[e&u])>c&&0!==--i);return a<=t.lookahead?a:t.lookahead},oe=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-qt)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Xt(t),r+=e),0===t.strm.avail_in)break;if(n=re(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Jt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Jt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<qt&&0!==t.strm.avail_in)},ae=(t,e)=>{let n,r,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,s=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&e!==Ot||e===Tt||n!==r+t.strm.avail_in))break;a=e===Ot&&n===r+t.strm.avail_in?1:0,wt(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Qt(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(re(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===a);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==Tt&&e!==Ot&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(re(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=o||(r||e===Ot)&&e!==Tt&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=e===Ot&&0===t.strm.avail_in&&n===r?1:0,wt(t,t.block_start,n,a),t.block_start+=n,Qt(t.strm)),a?3:1)},se=(t,e)=>{let n,r;for(;;){if(t.lookahead<qt){if(oe(t),t.lookahead<qt&&e===Tt)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-qt&&(t.match_length=ie(t,n)),t.match_length>=3)if(r=Et(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+1]);else r=Et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2},ce=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<qt){if(oe(t),t.lookahead<qt&&e===Tt)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-qt&&(t.match_length=ie(t,n),t.match_length<=5&&(t.strategy===Dt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=Et(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(te(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Et(t,0,t.window[t.strstart-1]),r&&te(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Et(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2};function le(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const ue=[new le(0,0,0,0,ae),new le(4,4,8,4,se),new le(4,5,16,8,se),new le(4,6,32,32,se),new le(4,4,16,16,ce),new le(8,16,32,32,ce),new le(8,16,128,128,ce),new le(8,32,128,256,ce),new le(32,128,258,1024,ce),new le(32,258,258,4096,ce)];function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ht,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Zt(this.dyn_ltree),Zt(this.dyn_dtree),Zt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Zt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Zt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const fe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Yt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Vt&&e.status!==Wt?1:0},de=t=>{if(fe(t))return $t(t,Mt);t.total_in=t.total_out=0,t.data_type=zt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Yt:Vt,t.adler=2===e.wrap?0:1,e.last_flush=-2,_t(e),Pt},pe=t=>{const e=de(t);var n;return e===Pt&&((n=t.state).window_size=2*n.w_size,Zt(n.head),n.max_lazy_match=ue[n.level].max_lazy,n.good_match=ue[n.level].good_length,n.nice_match=ue[n.level].nice_length,n.max_chain_length=ue[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},ve=(t,e,n,r,i,o)=>{if(!t)return Mt;let a=1;if(e===jt&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==Ht||r<8||r>15||e<0||e>9||o<0||o>Ft||8===r&&1!==a)return $t(t,Mt);8===r&&(r=9);const s=new he;return t.state=s,s.strm=t,s.status=Yt,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=o,s.method=n,pe(t)};var me=(t,e)=>{if(fe(t)||e>Ct||e<0)return t?$t(t,Mt):Mt;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===Wt&&e!==Ot)return $t(t,0===t.avail_out?Lt:Mt);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Qt(t),0===t.avail_out)return n.last_flush=-1,Pt}else if(0===t.avail_in&&Kt(e)<=Kt(r)&&e!==Ot)return $t(t,Lt);if(n.status===Wt&&0!==t.avail_in)return $t(t,Lt);if(n.status===Yt&&0===n.wrap&&(n.status=Vt),n.status===Yt){let e=Ht+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Nt||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,ne(n,e),0!==n.strstart&&(ne(n,t.adler>>>16),ne(n,65535&t.adler)),t.adler=1,n.status=Vt,Qt(t),0!==n.pending)return n.last_flush=-1,Pt}if(57===n.status)if(t.adler=0,ee(n,31),ee(n,139),ee(n,8),n.gzhead)ee(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ee(n,255&n.gzhead.time),ee(n,n.gzhead.time>>8&255),ee(n,n.gzhead.time>>16&255),ee(n,n.gzhead.time>>24&255),ee(n,9===n.level?2:n.strategy>=Nt||n.level<2?4:0),ee(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ee(n,255&n.gzhead.extra.length),ee(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=yt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(ee(n,0),ee(n,0),ee(n,0),ee(n,0),ee(n,0),ee(n,9===n.level?2:n.strategy>=Nt||n.level<2?4:0),ee(n,3),n.status=Vt,Qt(t),0!==n.pending)return n.last_flush=-1,Pt;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=yt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=i,Qt(t),0!==n.pending)return n.last_flush=-1,Pt;e=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=yt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=yt(t.adler,n.pending_buf,n.pending-r,r)),Qt(t),0!==n.pending)return n.last_flush=-1,Pt;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ee(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=yt(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=yt(t.adler,n.pending_buf,n.pending-r,r)),Qt(t),0!==n.pending)return n.last_flush=-1,Pt;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ee(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=yt(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Qt(t),0!==n.pending))return n.last_flush=-1,Pt;ee(n,255&t.adler),ee(n,t.adler>>8&255),t.adler=0}if(n.status=Vt,Qt(t),0!==n.pending)return n.last_flush=-1,Pt}if(0!==t.avail_in||0!==n.lookahead||e!==Tt&&n.status!==Wt){let r=0===n.level?ae(n,e):n.strategy===Nt?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(oe(t),0===t.lookahead)){if(e===Tt)return 1;break}if(t.match_length=0,n=Et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===Bt?((t,e)=>{let n,r,i,o;const a=t.window;for(;;){if(t.lookahead<=Gt){if(oe(t),t.lookahead<=Gt&&e===Tt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+Gt;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=Gt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Et(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ot?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2})(n,e):ue[n.level].func(n,e);if(3!==r&&4!==r||(n.status=Wt),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),Pt;if(2===r&&(e===At?xt(n):e!==Ct&&(wt(n,0,0,!1),e===kt&&(Zt(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Qt(t),0===t.avail_out))return n.last_flush=-1,Pt}return e!==Ot?Pt:n.wrap<=0?It:(2===n.wrap?(ee(n,255&t.adler),ee(n,t.adler>>8&255),ee(n,t.adler>>16&255),ee(n,t.adler>>24&255),ee(n,255&t.total_in),ee(n,t.total_in>>8&255),ee(n,t.total_in>>16&255),ee(n,t.total_in>>24&255)):(ne(n,t.adler>>>16),ne(n,65535&t.adler)),Qt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Pt:It)},ye={deflateInit:(t,e)=>ve(t,e,Ht,15,8,Ut),deflateInit2:ve,deflateReset:pe,deflateResetKeep:de,deflateSetHeader:(t,e)=>fe(t)||2!==t.state.wrap?Mt:(t.state.gzhead=e,Pt),deflate:me,deflateEnd:t=>{if(fe(t))return Mt;const e=t.state.status;return t.state=null,e===Vt?$t(t,Rt):Pt},deflateSetDictionary:(t,e)=>{let n=e.length;if(fe(t))return Mt;const r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==Yt||r.lookahead)return Mt;if(1===i&&(t.adler=vt(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Zt(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,oe(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=Jt(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,oe(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,r.wrap=i,Pt},deflateInfo:"pako deflate (from Nodeca project)"};const ge=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var be=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)ge(n,e)&&(t[e]=n[e])}}return t},_e=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,i=t.length;e<i;e++){let i=t[e];n.set(i,r),r+=i.length}return n};let we=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){we=!1}const Se=new Uint8Array(256);for(let t=0;t<256;t++)Se[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Se[254]=Se[254]=1;var Ee=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,a=t.length,s=0;for(i=0;i<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},xe=(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){o[i++]=e;continue}let a=Se[e];if(a>4)o[i++]=65533,r+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&r<n;)e=e<<6|63&t[r++],a--;a>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&we)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(o,i)},Te=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Se[t[n]]>e?n:e};var Ae=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ke=Object.prototype.toString,{Z_NO_FLUSH:Oe,Z_SYNC_FLUSH:Ce,Z_FULL_FLUSH:Pe,Z_FINISH:Ie,Z_OK:Me,Z_STREAM_END:Re,Z_DEFAULT_COMPRESSION:Le,Z_DEFAULT_STRATEGY:je,Z_DEFLATED:De}=bt;function Ne(t){this.options=be({level:Le,method:De,chunkSize:16384,windowBits:15,memLevel:8,strategy:je},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ae,this.strm.avail_out=0;let n=ye.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Me)throw new Error(gt[n]);if(e.header&&ye.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Ee(e.dictionary):"[object ArrayBuffer]"===ke.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=ye.deflateSetDictionary(this.strm,t),n!==Me)throw new Error(gt[n]);this._dict_set=!0}}function Be(t,e){const n=new Ne(e);if(n.push(t,!0),n.err)throw n.msg||gt[n.err];return n.result}Ne.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Ie:Oe,"string"==typeof t?n.input=Ee(t):"[object ArrayBuffer]"===ke.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Ce||o===Pe)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=ye.deflate(n,o),i===Re)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ye.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Me;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Ne.prototype.onData=function(t){this.chunks.push(t)},Ne.prototype.onEnd=function(t){t===Me&&(this.result=_e(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Fe={Deflate:Ne,deflate:Be,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Be(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Be(t,e)},constants:bt};const Ue=16209;var ze=function(t,e){let n,r,i,o,a,s,c,l,u,h,f,d,p,v,m,y,g,b,_,w,S,E,x,T;const A=t.state;n=t.next_in,x=t.input,r=n+(t.avail_in-5),i=t.next_out,T=t.output,o=i-(e-t.avail_out),a=i+(t.avail_out-257),s=A.dmax,c=A.wsize,l=A.whave,u=A.wnext,h=A.window,f=A.hold,d=A.bits,p=A.lencode,v=A.distcode,m=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;t:do{d<15&&(f+=x[n++]<<d,d+=8,f+=x[n++]<<d,d+=8),g=p[f&m];e:for(;;){if(b=g>>>24,f>>>=b,d-=b,b=g>>>16&255,0===b)T[i++]=65535&g;else{if(!(16&b)){if(64&b){if(32&b){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=Ue;break t}g=p[(65535&g)+(f&(1<<b)-1)];continue e}for(_=65535&g,b&=15,b&&(d<b&&(f+=x[n++]<<d,d+=8),_+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=x[n++]<<d,d+=8,f+=x[n++]<<d,d+=8),g=v[f&y];;){if(b=g>>>24,f>>>=b,d-=b,b=g>>>16&255,16&b){if(w=65535&g,b&=15,d<b&&(f+=x[n++]<<d,d+=8,d<b&&(f+=x[n++]<<d,d+=8)),w+=f&(1<<b)-1,w>s){t.msg="invalid distance too far back",A.mode=Ue;break t}if(f>>>=b,d-=b,b=i-o,w>b){if(b=w-b,b>l&&A.sane){t.msg="invalid distance too far back",A.mode=Ue;break t}if(S=0,E=h,0===u){if(S+=c-b,b<_){_-=b;do{T[i++]=h[S++]}while(--b);S=i-w,E=T}}else if(u<b){if(S+=c+u-b,b-=u,b<_){_-=b;do{T[i++]=h[S++]}while(--b);if(S=0,u<_){b=u,_-=b;do{T[i++]=h[S++]}while(--b);S=i-w,E=T}}}else if(S+=u-b,b<_){_-=b;do{T[i++]=h[S++]}while(--b);S=i-w,E=T}for(;_>2;)T[i++]=E[S++],T[i++]=E[S++],T[i++]=E[S++],_-=3;_&&(T[i++]=E[S++],_>1&&(T[i++]=E[S++]))}else{S=i-w;do{T[i++]=T[S++],T[i++]=T[S++],T[i++]=T[S++],_-=3}while(_>2);_&&(T[i++]=T[S++],_>1&&(T[i++]=T[S++]))}break}if(64&b){t.msg="invalid distance code",A.mode=Ue;break t}g=v[(65535&g)+(f&(1<<b)-1)]}}break}}while(n<r&&i<a);_=d>>3,n-=_,d-=_<<3,f&=(1<<d)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<a?a-i+257:257-(i-a),A.hold=f,A.bits=d};const He=15,Ge=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ye=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var We=(t,e,n,r,i,o,a,s)=>{const c=s.bits;let l,u,h,f,d,p,v=0,m=0,y=0,g=0,b=0,_=0,w=0,S=0,E=0,x=0,T=null;const A=new Uint16Array(16),k=new Uint16Array(16);let O,C,P,I=null;for(v=0;v<=He;v++)A[v]=0;for(m=0;m<r;m++)A[e[n+m]]++;for(b=c,g=He;g>=1&&0===A[g];g--);if(b>g&&(b=g),0===g)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(y=1;y<g&&0===A[y];y++);for(b<y&&(b=y),S=1,v=1;v<=He;v++)if(S<<=1,S-=A[v],S<0)return-1;if(S>0&&(0===t||1!==g))return-1;for(k[1]=0,v=1;v<He;v++)k[v+1]=k[v]+A[v];for(m=0;m<r;m++)0!==e[n+m]&&(a[k[e[n+m]]++]=m);if(0===t?(T=I=a,p=20):1===t?(T=Ge,I=qe,p=257):(T=Ye,I=Ve,p=0),x=0,m=0,v=y,d=o,_=b,w=0,h=-1,E=1<<b,f=E-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){O=v-w,a[m]+1<p?(C=0,P=a[m]):a[m]>=p?(C=I[a[m]-p],P=T[a[m]-p]):(C=96,P=0),l=1<<v-w,u=1<<_,y=u;do{u-=l,i[d+(x>>w)+u]=O<<24|C<<16|P}while(0!==u);for(l=1<<v-1;x&l;)l>>=1;if(0!==l?(x&=l-1,x+=l):x=0,m++,0===--A[v]){if(v===g)break;v=e[n+a[m]]}if(v>b&&(x&f)!==h){for(0===w&&(w=b),d+=y,_=v-w,S=1<<_;_+w<g&&(S-=A[_+w],!(S<=0));)_++,S<<=1;if(E+=1<<_,1===t&&E>852||2===t&&E>592)return 1;h=x&f,i[h]=b<<24|_<<16|d-o}}return 0!==x&&(i[d+x]=v-w<<24|64<<16),s.bits=b,0};const{Z_FINISH:$e,Z_BLOCK:Ke,Z_TREES:Ze,Z_OK:Xe,Z_STREAM_END:Je,Z_NEED_DICT:Qe,Z_STREAM_ERROR:tn,Z_DATA_ERROR:en,Z_MEM_ERROR:nn,Z_BUF_ERROR:rn,Z_DEFLATED:on}=bt,an=16180,sn=16190,cn=16191,ln=16192,un=16194,hn=16199,fn=16200,dn=16206,pn=16209,vn=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function mn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yn=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<an||e.mode>16211?1:0},gn=t=>{if(yn(t))return tn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=an,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Xe},bn=t=>{if(yn(t))return tn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gn(t)},_n=(t,e)=>{let n;if(yn(t))return tn;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?tn:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,bn(t))},wn=(t,e)=>{if(!t)return tn;const n=new mn;t.state=n,n.strm=t,n.window=null,n.mode=an;const r=_n(t,e);return r!==Xe&&(t.state=null),r};let Sn,En,xn=!0;const Tn=t=>{if(xn){Sn=new Int32Array(512),En=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(We(1,t.lens,0,288,Sn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;We(2,t.lens,0,32,En,0,t.work,{bits:5}),xn=!1}t.lencode=Sn,t.lenbits=9,t.distcode=En,t.distbits=5},An=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var kn=(t,e)=>{let n,r,i,o,a,s,c,l,u,h,f,d,p,v,m,y,g,b,_,w,S,E,x=0;const T=new Uint8Array(4);let A,k;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yn(t)||!t.output||!t.input&&0!==t.avail_in)return tn;n=t.state,n.mode===cn&&(n.mode=ln),a=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,l=n.hold,u=n.bits,h=s,f=c,E=Xe;t:for(;;)switch(n.mode){case an:if(0===n.wrap){n.mode=ln;break}for(;u<16;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,T[0]=255&l,T[1]=l>>>8&255,n.check=yt(n.check,T,2,0),l=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=pn;break}if((15&l)!==on){t.msg="unknown compression method",n.mode=pn;break}if(l>>>=4,u-=4,S=8+(15&l),0===n.wbits&&(n.wbits=S),S>15||S>n.wbits){t.msg="invalid window size",n.mode=pn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&l?16189:cn,l=0,u=0;break;case 16181:for(;u<16;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(n.flags=l,(255&n.flags)!==on){t.msg="unknown compression method",n.mode=pn;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=pn;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(T[0]=255&l,T[1]=l>>>8&255,n.check=yt(n.check,T,2,0)),l=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(T[0]=255&l,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,n.check=yt(n.check,T,4,0)),l=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(T[0]=255&l,T[1]=l>>>8&255,n.check=yt(n.check,T,2,0)),l=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(T[0]=255&l,T[1]=l>>>8&255,n.check=yt(n.check,T,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(d=n.length,d>s&&(d=s),d&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),S)),512&n.flags&&4&n.wrap&&(n.check=yt(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break t;d=0;do{S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&d<s);if(512&n.flags&&4&n.wrap&&(n.check=yt(n.check,r,d,o)),s-=d,o+=d,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break t;d=0;do{S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&d<s);if(512&n.flags&&4&n.wrap&&(n.check=yt(n.check,r,d,o)),s-=d,o+=d,S)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(4&n.wrap&&l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=pn;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=cn;break;case 16189:for(;u<32;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}t.adler=n.check=vn(l),l=0,u=0,n.mode=sn;case sn:if(0===n.havedict)return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=u,Qe;t.adler=n.check=1,n.mode=cn;case cn:if(e===Ke||e===Ze)break t;case ln:if(n.last){l>>>=7&u,u-=7&u,n.mode=dn;break}for(;u<3;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}switch(n.last=1&l,l>>>=1,u-=1,3&l){case 0:n.mode=16193;break;case 1:if(Tn(n),n.mode=hn,e===Ze){l>>>=2,u-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=pn}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=pn;break}if(n.length=65535&l,l=0,u=0,n.mode=un,e===Ze)break t;case un:n.mode=16195;case 16195:if(d=n.length,d){if(d>s&&(d=s),d>c&&(d=c),0===d)break t;i.set(r.subarray(o,o+d),a),s-=d,o+=d,c-=d,a+=d,n.length-=d;break}n.mode=cn;break;case 16196:for(;u<14;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=pn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}n.lens[O[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},E=We(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,E){t.msg="invalid code lengths set",n.mode=pn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[l&(1<<n.lenbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=u);){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(g<16)l>>>=m,u-=m,n.lens[n.have++]=g;else{if(16===g){for(k=m+2;u<k;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(l>>>=m,u-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=pn;break}S=n.lens[n.have-1],d=3+(3&l),l>>>=2,u-=2}else if(17===g){for(k=m+3;u<k;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}l>>>=m,u-=m,S=0,d=3+(7&l),l>>>=3,u-=3}else{for(k=m+7;u<k;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}l>>>=m,u-=m,S=0,d=11+(127&l),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=pn;break}for(;d--;)n.lens[n.have++]=S}}if(n.mode===pn)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=pn;break}if(n.lenbits=9,A={bits:n.lenbits},E=We(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,E){t.msg="invalid literal/lengths set",n.mode=pn;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},E=We(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,E){t.msg="invalid distances set",n.mode=pn;break}if(n.mode=hn,e===Ze)break t;case hn:n.mode=fn;case fn:if(s>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=u,ze(t,f),a=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,l=n.hold,u=n.bits,n.mode===cn&&(n.back=-1);break}for(n.back=0;x=n.lencode[l&(1<<n.lenbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=u);){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(y&&!(240&y)){for(b=m,_=y,w=g;x=n.lencode[w+((l&(1<<b+_)-1)>>b)],m=x>>>24,y=x>>>16&255,g=65535&x,!(b+m<=u);){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=m,u-=m,n.back+=m,n.length=g,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=cn;break}if(64&y){t.msg="invalid literal/length code",n.mode=pn;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(k=n.extra;u<k;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;x=n.distcode[l&(1<<n.distbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=u);){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(!(240&y)){for(b=m,_=y,w=g;x=n.distcode[w+((l&(1<<b+_)-1)>>b)],m=x>>>24,y=x>>>16&255,g=65535&x,!(b+m<=u);){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=m,u-=m,n.back+=m,64&y){t.msg="invalid distance code",n.mode=pn;break}n.offset=g,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(k=n.extra;u<k;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=pn;break}n.mode=16204;case 16204:if(0===c)break t;if(d=f-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=pn;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),v=n.window}else v=i,p=a-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do{i[a++]=v[p++]}while(--d);0===n.length&&(n.mode=fn);break;case 16205:if(0===c)break t;i[a++]=n.length,c--,n.mode=fn;break;case dn:if(n.wrap){for(;u<32;){if(0===s)break t;s--,l|=r[o++]<<u,u+=8}if(f-=c,t.total_out+=f,n.total+=f,4&n.wrap&&f&&(t.adler=n.check=n.flags?yt(n.check,i,f,a-f):vt(n.check,i,f,a-f)),f=c,4&n.wrap&&(n.flags?l:vn(l))!==n.check){t.msg="incorrect data check",n.mode=pn;break}l=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break t;s--,l+=r[o++]<<u,u+=8}if(4&n.wrap&&l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=pn;break}l=0,u=0}n.mode=16208;case 16208:E=Je;break t;case pn:E=en;break t;case 16210:return nn;default:return tn}return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=u,(n.wsize||f!==t.avail_out&&n.mode<pn&&(n.mode<dn||e!==$e))&&An(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,4&n.wrap&&f&&(t.adler=n.check=n.flags?yt(n.check,i,f,t.next_out-f):vt(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===cn?128:0)+(n.mode===hn||n.mode===un?256:0),(0===h&&0===f||e===$e)&&E===Xe&&(E=rn),E},On={inflateReset:bn,inflateReset2:_n,inflateResetKeep:gn,inflateInit:t=>wn(t,15),inflateInit2:wn,inflate:kn,inflateEnd:t=>{if(yn(t))return tn;let e=t.state;return e.window&&(e.window=null),t.state=null,Xe},inflateGetHeader:(t,e)=>{if(yn(t))return tn;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,Xe):tn},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,o;return yn(t)?tn:(r=t.state,0!==r.wrap&&r.mode!==sn?tn:r.mode===sn&&(i=1,i=vt(i,e,n,0),i!==r.check)?en:(o=An(t,e,n,n),o?(r.mode=16210,nn):(r.havedict=1,Xe)))},inflateInfo:"pako inflate (from Nodeca project)"};var Cn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Pn=Object.prototype.toString,{Z_NO_FLUSH:In,Z_FINISH:Mn,Z_OK:Rn,Z_STREAM_END:Ln,Z_NEED_DICT:jn,Z_STREAM_ERROR:Dn,Z_DATA_ERROR:Nn,Z_MEM_ERROR:Bn}=bt;function Fn(t){this.options=be({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ae,this.strm.avail_out=0;let n=On.inflateInit2(this.strm,e.windowBits);if(n!==Rn)throw new Error(gt[n]);if(this.header=new Cn,On.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Ee(e.dictionary):"[object ArrayBuffer]"===Pn.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=On.inflateSetDictionary(this.strm,e.dictionary),n!==Rn)))throw new Error(gt[n])}function Un(t,e){const n=new Fn(e);if(n.push(t),n.err)throw n.msg||gt[n.err];return n.result}Fn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=e===~~e?e:!0===e?Mn:In,"[object ArrayBuffer]"===Pn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=On.inflate(n,a),o===jn&&i&&(o=On.inflateSetDictionary(n,i),o===Rn?o=On.inflate(n,a):o===Nn&&(o=jn));n.avail_in>0&&o===Ln&&n.state.wrap>0&&0!==t[n.next_in];)On.inflateReset(n),o=On.inflate(n,a);switch(o){case Dn:case Nn:case jn:case Bn:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===Ln))if("string"===this.options.to){let t=Te(n.output,n.next_out),e=n.next_out-t,i=xe(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Rn||0!==s){if(o===Ln)return o=On.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Fn.prototype.onData=function(t){this.chunks.push(t)},Fn.prototype.onEnd=function(t){t===Rn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_e(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var zn={Inflate:Fn,inflate:Un,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Un(t,e)},ungzip:Un,constants:bt};const{Deflate:Hn,deflate:Gn,deflateRaw:qn,gzip:Yn}=Fe,{Inflate:Vn,inflate:Wn,inflateRaw:$n,ungzip:Kn}=zn;var Zn=Wn;function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qn(r.key),r)}}function Qn(t){var e=function(t,e){if("object"!=Xn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xn(e)?e:e+""}var tr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"encryptBase64",value:function(t){return a().stringify(c().parse(t))}},{key:"decryptBase64",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=atob(t);if(!e)return n;for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i}},{key:"decryptPackerGZ",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var i=r?this.decryptBase64(t,!0):t;i=i instanceof Uint8Array?i:new Uint8Array(i);var o=Zn(i,{raw:!0});return e=o,new P(n).decode(e)}catch(t){return null}}},{key:"hash32",value:function(t){return e()(t).toString(i()).substring(0,32)}}],n&&Jn(t.prototype,n),r&&Jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();const er=tr;function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function rr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return ir(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(ir(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,ir(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,ir(h,"constructor",l),ir(l,"constructor",c),c.displayName="GeneratorFunction",ir(l,i,"GeneratorFunction"),ir(h),ir(h,i,"Generator"),ir(h,r,function(){return this}),ir(h,"toString",function(){return"[object Generator]"}),(rr=function(){return{w:o,m:f}})()}function ir(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}ir=function(t,e,n,r){function o(e,n){ir(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ir(t,e,n,r)}function or(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ar(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){or(o,r,i,a,s,"next",t)}function s(t){or(o,r,i,a,s,"throw",t)}a(void 0)})}}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lr(r.key),r)}}function cr(t,e,n){return(e=lr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lr(t){var e=function(t,e){if("object"!=nr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nr(e)?e:e+""}var ur=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=null,r=[{key:"getBoardsAndResultsSubmissions",value:(a=ar(rr().m(function e(){var n,r,i,o,a,s,c;return rr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n={},t.appDataLastModified&&(n["If-Modified-Since"]=t.appDataLastModified),r=(new er).hash32("data"),i=t.URL_PUBLIC+"/"+r,e.n=1,fetch(i,{headers:n});case 1:if(304!==(o=e.v).status){e.n=2;break}return e.a(2,{});case 2:return s=new er,e.n=3,o.arrayBuffer();case 3:if((a=s.decryptPackerGZ.call(s,e.v))&&2===a.length){e.n=4;break}return this.logError("Api.getBoardsAndResultsSubmissions: Could not fetch app data. Invalid data."),e.a(2,{});case 4:return t.appDataLastModified=o.headers.get("Last-Modified"),e.a(2,{boards:a[0],resultsSubmissions:a[1]});case 5:return e.p=5,c=e.v,this.logError("Api.getBoardsAndResultsSubmissions: ".concat(c.message)),e.a(2,{})}},e,this,[[0,5]])})),function(){return a.apply(this,arguments)})},{key:"logError",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";if(e&&!(t._errors.count>0)){t._errors.count++;var r={error:(new er).encryptBase64(e.replace(": Error: ",": "),"log_error"),severity:n};t._errors.last!==r&&t.makeRequest("log/error",r,"POST").catch(function(t){return t})}}},{key:"saveCanvas",value:(o=ar(rr().m(function e(n,r){var i;return rr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t.makeRequest("image/table",{content,hash:r},"POST");case 1:if(!(i=e.v)||null==i||!i.file){e.n=2;break}return e.a(2,i.file);case 2:return e.a(2,null);case 3:return e.p=3,e.v,e.a(2,null)}},e,null,[[0,3]])})),function(t,e){return o.apply(this,arguments)})},{key:"makeRequest",value:(i=ar(rr().m(function e(n){var r,i,o,a,s,c,l,u,h,f,d,p,v=arguments;return rr().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},i=v.length>2&&void 0!==v[2]?v[2]:"GET",o=v.length>3&&void 0!==v[3]&&v[3],a=new AbortController,s=setTimeout(function(){a.abort()},8e3),e.p=1,n=t.URL_API+"/"+n,r&&"GET"===i&&r&&(l=new URLSearchParams(r).toString(),n+="?".concat(l)),u={method:i,headers:{"Content-Type":"application/json","Request-Internal-Api":t._getHash()}},Object.keys(r).length>0&&"POST"===i&&(u.body=JSON.stringify(r)),e.n=2,fetch(n,u);case 2:if(h=e.v,clearTimeout(s),h.ok){e.n=3;break}throw new Error('Request "'.concat(n,'" failed with status: ').concat(h.status));case 3:if(!o){e.n=5;break}return d=new er,e.n=4,h.arrayBuffer();case 4:return e.a(2,d.decryptPackerGZ.call(d,e.v));case 5:return e.n=6,h.json();case 6:return f=e.v,e.a(2,null!==(c=null==f?void 0:f.data)&&void 0!==c?c:f);case 7:if(e.p=7,"AbortError"!==(p=e.v).name){e.n=8;break}throw new Error("Request timed out.");case 8:throw p;case 9:return e.p=9,clearTimeout(s),e.f(9);case 10:return e.a(2)}},e,null,[[1,7,9,10]])})),function(t){return i.apply(this,arguments)})},{key:"_getHash",value:function(){var e=t._generateUniqueId();return e=(e=(e=e.slice(0,7)+String.fromCharCode(99)+e.slice(8)).slice(0,18)+String.fromCharCode(116)+e.slice(19)).slice(0,25)+String.fromCharCode(114)+e.slice(26)}},{key:"_generateUniqueId",value:function(){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/x/g,function(t){return Math.floor(36*Math.random()).toString(36)})}}],n&&sr(e.prototype,n),r&&sr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,i,o,a}();cr(ur,"URL_API",window.location.origin+"/api/internal"),cr(ur,"URL_PUBLIC",window.location.origin+"/public/static"),cr(ur,"_errors",{count:0,last:null}),cr(ur,"appDataLastModified",null);const hr=ur;n(2857);function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pr(r.key),r)}}function pr(t){var e=function(t,e){if("object"!=fr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fr(e)?e:e+""}var vr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"fadeTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"swing",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t="string"==typeof t?document.querySelector(t):t){if(e<=0)return t.style.opacity=String(n),void(i&&i());var o=parseFloat(getComputedStyle(t).opacity)||0,a=performance.now();requestAnimationFrame(function s(c){var l=c-a,u=Math.min(l/e,1);"swing"===r&&(u=.5-Math.cos(u*Math.PI)/2),t.style.opacity=o+(n-o)*u,u<1?requestAnimationFrame(s):i&&i()})}}}],(e=null)&&dr(t.prototype,e),n&&dr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const mr=vr;function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function gr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return br(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(br(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,br(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,br(h,"constructor",l),br(l,"constructor",c),c.displayName="GeneratorFunction",br(l,i,"GeneratorFunction"),br(h),br(h,i,"Generator"),br(h,r,function(){return this}),br(h,"toString",function(){return"[object Generator]"}),(gr=function(){return{w:o,m:f}})()}function br(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}br=function(t,e,n,r){function o(e,n){br(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},br(t,e,n,r)}function _r(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function wr(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){_r(o,r,i,a,s,"next",t)}function s(t){_r(o,r,i,a,s,"throw",t)}a(void 0)})}}function Sr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Er(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ar(r.key),r)}}function Tr(t,e,n){return(e=Ar(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ar(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yr(e)?e:e+""}var kr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isJobRunning={},this._isAlertDialogRunning={},this._currentAlertDialog={};for(var e=0,n=Object.entries(this._selectors);e<n.length;e++){var r=Sr(n[e],2),i=(r[0],r[1]);this._isJobRunning[i]=!1,this._isAlertDialogRunning[i]=!1,this._currentAlertDialog[i]=(new Date).getDate()}}return e=t,n=[{key:"_selectors",get:function(){var e={};return e[t.ALERT_SCORES]=".js-scores-alert-dialog",e[t.ALERT_MATCH]=".js-match-alert-dialog",e}},{key:"show",value:function(e){var n,r,i,o,a,s,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=l&&l.selector){null!==(n=this._selectors)&&void 0!==n&&n[l.selector]||(this._isJobRunning[l.selector]=!1,this._isAlertDialogRunning[l.selector]=!1,this._currentAlertDialog[l.selector]=(new Date).getDate());var u=null!==(r=null==l?void 0:l.type)&&void 0!==r?r:t.AlertDialog.TYPE_WARNING,h=null!==(i=null==l?void 0:l.triggerType)&&void 0!==i?i:t.AlertDialog.TRIGGER_TYPE_DELAY,f=null!==(o=null==l?void 0:l.animationTime)&&void 0!==o?o:1250,d=null!==(a=null==l?void 0:l.fadeTime)&&void 0!==a?a:300,p=null!=l&&l.callback&&"function"===l.callback?l.callback:null;this._show(null!==(s=null===(c=this._selectors)||void 0===c?void 0:c[l.selector])&&void 0!==s?s:l.selector,e,u,h,f,d,p)}}},{key:"showAsync",value:(a=wr(gr().m(function t(e){var n,r=arguments;return gr().w(function(t){for(;;)if(0===t.n)return n=r.length>1&&void 0!==r[1]?r[1]:{},this.show(e,n),t.a(2,!0)},t,this)})),function(t){return a.apply(this,arguments)})},{key:"hide",value:function(e){var n,r,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&null!==(n=this._selectors)&&void 0!==n&&n[e]){var c=null!==(r=null==s?void 0:s.triggerType)&&void 0!==r?r:t.AlertDialog.TRIGGER_TYPE_DELAY,l=null!==(i=null==s?void 0:s.fadeTime)&&void 0!==i?i:300,u=null!=s&&s.callback&&"function"===s.callback?s.callback:null;this._hide(null!==(o=null===(a=this._selectors)||void 0===a?void 0:a[e])&&void 0!==o?o:e,c,l,u)}}},{key:"hideAsync",value:(o=wr(gr().m(function t(e){var n,r=arguments;return gr().w(function(t){for(;;)if(0===t.n)return n=r.length>1&&void 0!==r[1]?r[1]:{},this.hide(e,n),t.a(2,!0)},t,this)})),function(t){return o.apply(this,arguments)})},{key:"_show",value:function(t,e,n,r,i,o,a){this._runAlertDialog(t,this._getShowMethod(t,e,n,r,i,o,a),r)}},{key:"_hide",value:function(t,e,n,r){this._hideAlertDialog(t,e,n,r)}},{key:"_runAlertDialog",value:(i=wr(gr().m(function e(n,r,i){var o,a,s=this;return gr().w(function(e){for(;;)switch(e.n){case 0:if(null===(o=this._isJobRunning)||void 0===o||!o[n]){e.n=1;break}return e.a(2);case 1:if(this._isJobRunning[n]=!0,a=0,(this._isAlertDialogRunning[n]||i===t.TRIGGER_TYPE_DELAY)&&(a=500),i===t.TRIGGER_TYPE_INSTANT&&(a=0),"function"==typeof r){e.n=2;break}return e.a(2);case 2:if(0!==a){e.n=3;break}return r(),this._isJobRunning[n]=!1,e.a(2);case 3:setTimeout(function(){"function"==typeof r&&(r(),s._isJobRunning[n]=!1)},a);case 4:return e.a(2)}},e,this)})),function(t,e,n){return i.apply(this,arguments)})},{key:"_showAlertDialog",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.TRIGGER_TYPE_DELAY,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1250,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:300,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this._isAlertDialogRunning[e]=!0;var l=document.querySelectorAll(e),u=i,h=i.includes("loader"),f=(new Date).getDate();this._currentAlertDialog[e]=f,h&&(i="warning",l.forEach(function(t){t.classList.add("alert-dialog-"+u.replace("loader","loading"))})),l.forEach(function(u,d){var p=u.querySelector("span");u.classList.remove("alert-dialog-loading","alert-dialog-loading-pulse","alert-info","alert-primary","alert-secondary","alert-warning","alert-success","alert-error"),u.classList.add("alert-"+i),p.innerHTML=n,u.style.visibility="visible",mr.fadeTo(u,s,1,"swing",function(){u.classList.add("alert-dialog-loading"),h||setTimeout(function(){r._currentAlertDialog[e]===f&&(u.classList.remove("alert-dialog-loading"),u.classList.remove("alert-dialog-loading-pulse"))},a);var n=0;switch(o){case t.TRIGGER_TYPE_INSTANT:case t.TRIGGER_TYPE_DELAY:break;default:n=o,o=t.TRIGGER_TYPE_DELAY}n>0?setTimeout(function(){r._currentAlertDialog[e]===f&&(r._hideAlertDialog(e,s,c),d===l.length-1&&(r._isAlertDialogRunning[e]=!1))},n):d===l.length-1&&"function"==typeof c&&c()})})}},{key:"_hideAlertDialog",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=document.querySelectorAll(e),a=0;n===t.TRIGGER_TYPE_DELAY&&(a=500),o.forEach(function(t,e){setTimeout(function(){mr.fadeTo(t,r,0,"swing",function(){t.querySelector("span").innerHTML="&nbps;",t.style.visibility="hidden",t.classList.remove("alert-dialog-loading","alert-info","alert-primary","alert-secondary","alert-warning","alert-success","alert-error"),e===o.length-1&&"function"==typeof i&&i()})},a)})}},{key:"_getShowMethod",value:function(t,e,n,r,i,o,a){var s=this;return function(){return s._showAlertDialog(t,e,n,r,i,o,a)}}}],n&&xr(e.prototype,n),r&&xr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,i,o,a}();Tr(kr,"TYPE_INFO","info"),Tr(kr,"TYPE_WARNING","warning"),Tr(kr,"TYPE_SUCCESS","success"),Tr(kr,"TYPE_ERROR","error"),Tr(kr,"TYPE_LOADER","loader"),Tr(kr,"TYPE_LOADER_PULSE","loader-pulse"),Tr(kr,"TYPE_NONE","none"),Tr(kr,"TRIGGER_TYPE_INSTANT","instant"),Tr(kr,"TRIGGER_TYPE_DELAY","delay"),Tr(kr,"ALERT_SCORES","scores"),Tr(kr,"ALERT_MATCH","match");const Or=kr;n(96301),n(69209),n(59179),n(86736),n(26312),n(25112),n(87659),n(91227),n(9794),n(72862),n(39828),n(81320),n(95013),n(53047);function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Pr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return Ir(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(Ir(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Ir(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Ir(h,"constructor",l),Ir(l,"constructor",c),c.displayName="GeneratorFunction",Ir(l,i,"GeneratorFunction"),Ir(h),Ir(h,i,"Generator"),Ir(h,r,function(){return this}),Ir(h,"toString",function(){return"[object Generator]"}),(Pr=function(){return{w:o,m:f}})()}function Ir(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ir=function(t,e,n,r){function o(e,n){Ir(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Ir(t,e,n,r)}function Mr(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jr(r.key),r)}}function Lr(t,e,n){return(e=jr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jr(t){var e=function(t,e){if("object"!=Cr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cr(e)?e:e+""}var Dr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=null,r=[{key:"wait",value:(i=Pr().m(function e(n){return Pr().w(function(e){for(;;)switch(e.n){case 0:if(!t._destroyed.has(n)){e.n=1;break}return e.a(2,!0);case 1:if(!t._locks.has(n)){e.n=3;break}return e.n=2,t._locks.get(n).promise;case 2:e.n=1;break;case 3:return t.acquire(n),e.a(2,!0)}},e)}),o=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){Mr(o,n,r,a,s,"next",t)}function s(t){Mr(o,n,r,a,s,"throw",t)}a(void 0)})},function(t){return o.apply(this,arguments)})},{key:"acquire",value:function(e){if(!t._destroyed.has(e)){var n,r=new Promise(function(t){return n=t});t._locks.set(e,{promise:r,resolve:n})}}},{key:"release",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t._locks.get(e);r&&(r.resolve(),t._locks.delete(e)),n&&t._destroyed.set(e,1)}}],n&&Rr(e.prototype,n),r&&Rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,i,o}();Lr(Dr,"_locks",new Map),Lr(Dr,"_destroyed",new Map);const Nr=Dr;function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function Fr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||zr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=zr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zr(t,e){if(t){if("string"==typeof t)return Hr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(t,e):void 0}}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Gr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return qr(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(qr(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,qr(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,qr(h,"constructor",l),qr(l,"constructor",c),c.displayName="GeneratorFunction",qr(l,i,"GeneratorFunction"),qr(h),qr(h,i,"Generator"),qr(h,r,function(){return this}),qr(h,"toString",function(){return"[object Generator]"}),(Gr=function(){return{w:o,m:f}})()}function qr(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}qr=function(t,e,n,r){function o(e,n){qr(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},qr(t,e,n,r)}function Yr(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Vr(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){Yr(o,r,i,a,s,"next",t)}function s(t){Yr(o,r,i,a,s,"throw",t)}a(void 0)})}}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$r(r.key),r)}}function $r(t){var e=function(t,e){if("object"!=Br(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Br(e)?e:e+""}var Kr,Zr,Xr,Jr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=t.config}return e=t,n=[{key:"loadConfiguration",value:function(){window.cdnUrls&&window.assetsVersion?(t.config.cdn_urls=window.cdnUrls,t.config.cdn_enabled=[""!==t.config.cdn_urls[0],""!==t.config.cdn_urls[1]],t.config.assets_version=window.assetsVersion,window.cdnUrls=null,window.assetsVersion=null):t.config.cdn_enabled=[!1,!1]}},{key:"load",value:(h=Vr(Gr().m(function t(){var e;return Gr().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!window.flagsManifest){t.n=6;break}return t.p=1,t.n=2,this._loadFlagsSprite();case 2:t.n=4;break;case 3:t.p=3,t.v,this._config.flags_manifest=[];case 4:return t.p=4,window.flagsManifest=null,t.f(4);case 5:t.n=7;break;case 6:window.flagsManifest=null;case 7:if(!window.images){t.n=13;break}return t.p=8,e=(new er).decryptPackerGZ(window.images,!0),t.n=9,this._loadBaseImages(e);case 9:t.n=11;break;case 10:return t.p=10,t.v,t.a(2,!1);case 11:return t.p=11,window.images=null,t.f(11);case 12:t.n=14;break;case 13:window.images=null;case 14:return Nr.release("assets_loader:ready",!0),t.a(2,!0)}},t,this,[[8,10,11,12],[1,3,4,5]])})),function(){return h.apply(this,arguments)})},{key:"_loadFlagsSprite",value:(u=Vr(Gr().m(function t(){var e,n,r,i,o;return Gr().w(function(t){for(;;)switch(t.n){case 0:if(e=(new er).decryptPackerGZ(window.flagsManifest,!0),Array.isArray(e)&&e.length>0){n=Ur(e.entries());try{for(n.s();!(r=n.n()).done;)i=Fr(r.value,2),o=i[1],this._config.flags_manifest[o[0]]=[o[1],o[2]]}catch(t){n.e(t)}finally{n.f()}}return t.n=1,this._registerOneBySource("flags_sprite","flags/sprite.webp");case 1:if(t.v){t.n=2;break}throw new Error("Could not load flags sprite image");case 2:return t.a(2)}},t,this)})),function(){return u.apply(this,arguments)})},{key:"_loadBaseImages",value:(l=Vr(Gr().m(function t(e){var n,r,i,o,a,s,c,l,u,h,f;return Gr().w(function(t){for(;;)switch(t.n){case 0:n=new er,r=[],i=0,o=Object.entries(e);case 1:if(!(i<o.length)){t.n=4;break}return a=Fr(o[i],2),s=a[0],c=a[1],l=n.decryptBase64(c,!0),u=new Blob([l],{type:"image/webp"}),h=s.replace(".webp","").replaceAll("/","_"),t.n=2,this._registerBlobImage(h,u,!0);case 2:f=t.v,r.push(f);case 3:i++,t.n=1;break;case 4:return t.a(2,r.length>0&&r.every(Boolean))}},t,this)})),function(t){return l.apply(this,arguments)})},{key:"_registerImage",value:(c=Vr(Gr().m(function t(e,n){var r,i,o,a,s,c,l,u=arguments;return Gr().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:0,!(i=this._config.images)[e]||!i[e].loaded){t.n=1;break}return t.a(2,!0);case 1:if(i[e]||(i[e]={cdn:[this.cdn(this._config.assets_dir+"/"+n,1),this.cdn(this._config.assets_dir+"/"+n,2)],src:this.appendQueryString("/".concat(this._config.assets_dir,"/").concat(n)),blobUrl:null,document:null,bitmap:null,loaded:!1}),o=function(){var t=Vr(Gr().m(function t(e){var n;return Gr().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e,{cache:"force-cache"});case 1:if((n=t.v).ok||304===n.status){t.n=2;break}throw new Error("Asset not found");case 2:return t.a(2,n.blob())}},t)}));return function(e){return t.apply(this,arguments)}}(),!(r>0)||this._config.cdn_enabled[r-1]){t.n=2;break}return t.a(2,!1);case 2:return a=r>0?i[e].cdn[r-1]:i[e].src,s="",t.p=3,t.n=4,o(a);case 4:if(c=t.v,s=URL.createObjectURL(c),l=null,!("createImageBitmap"in window)){t.n=8;break}return t.p=5,t.n=6,createImageBitmap(c);case 6:l=t.v,t.n=8;break;case 7:t.p=7,t.v,l=null;case 8:return i[e].blobUrl=s,i[e].document=null,i[e].bitmap=l,i[e].loaded=!0,t.a(2,!0);case 9:return t.p=9,t.v,s&&URL.revokeObjectURL(s),r&&(this._config.cdn_errors_count[r-1]++,this._config.cdn_enabled[r-1]&&this._config.cdn_errors_count[r-1]>=this._config.cdn_errors_count_threshold[r-1]&&(this._config.cdn_enabled[r-1]=!1)),t.a(2,!1)}},t,this,[[5,7],[3,9]])})),function(t,e){return c.apply(this,arguments)})},{key:"_registerBlobImage",value:(s=Vr(Gr().m(function t(e,n){var r,i,o,a,s,c=arguments;return Gr().w(function(t){for(;;)switch(t.p=t.n){case 0:if(i=c.length>2&&void 0!==c[2]&&c[2],o=this._config.images,i||null==o||null===(r=o[e])||void 0===r||!r.loaded){t.n=1;break}return t.a(2);case 1:if(a=URL.createObjectURL(n),t.p=2,s=null,t.p=3,!("createImageBitmap"in window)){t.n=5;break}return t.n=4,createImageBitmap(n);case 4:s=t.v;case 5:t.n=7;break;case 6:t.p=6,t.v,s=null;case 7:return o[e]={src:"",blobUrl:a,document:null,bitmap:s,loaded:!0},t.a(2,!0);case 8:return t.p=8,t.v,a&&URL.revokeObjectURL(a),o[e]={src:"",blobUrl:"",document:null,bitmap:null,loaded:!1},t.a(2,!1)}},t,this,[[3,6],[2,8]])})),function(t,e){return s.apply(this,arguments)})},{key:"_createImageElement",value:(a=Vr(Gr().m(function t(e,n){var r,i,o,a,s;return Gr().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r=Di.getElements(),i=r.document.querySelector("._preload"),(o=document.createElement("img")).classList.add("canvas-image-".concat(e)),o.src=n.blobUrl,n.document=o,i.appendChild(o),!o.decode){t.n=4;break}return t.p=1,t.n=2,o.decode();case 2:return t.a(2,o);case 3:t.p=3,t.v;case 4:return t.n=5,new Promise(function(t,e){o.onload=t,o.onerror=e});case 5:return(a=document.createElement("canvas")).width=o.naturalWidth||o.width,a.height=o.naturalHeight||o.height,(s=a.getContext("2d",{alpha:!1})).drawImage(o,0,0),s.getImageData(0,0,1,1),t.a(2,o)}},t,null,[[1,3]])})),function(t,e){return a.apply(this,arguments)})},{key:"_registerOneBySource",value:(o=Vr(Gr().m(function t(e,n){var r,i,o;return Gr().w(function(t){for(;;)switch(t.n){case 0:r=0,i=[1,2,0];case 1:if(!(r<i.length)){t.n=4;break}return o=i[r],t.n=2,this._registerImage(e,n,o);case 2:if(!t.v){t.n=3;break}return t.a(2,!0);case 3:r++,t.n=1;break;case 4:return t.a(2,!1)}},t,this)})),function(t,e){return o.apply(this,arguments)})},{key:"cdn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t.replace(/^\/+/,"");var r=this._config.cdn_urls[e-1]+"/"+t;return n?this.appendQueryString(r):r}},{key:"appendQueryString",value:function(t){var e=this._config.assets_version;if(t.includes(e))return t;var n=t.includes("?")?"&":"?";return"".concat(t).concat(n,"v=").concat(e)}},{key:"appendToDOM",value:(i=Vr(Gr().m(function e(){var n,r,i,o,a;return Gr().w(function(e){for(;;)switch(e.n){case 0:n=0,r=Object.entries(t.config.images);case 1:if(!(n<r.length)){e.n=3;break}return i=Fr(r[n],2),o=i[0],a=i[1],e.n=2,this._createImageElement(o,a);case 2:n++,e.n=1;break;case 3:return e.a(2,null)}},e,this)})),function(){return i.apply(this,arguments)})}],r=[{key:"getAssetByElement",value:function(e){var n;if(null!==(n=t.config.cache.asset_to_element)&&void 0!==n&&n[e.src])return t.config.cache.asset_to_element[e.src];for(var r=0,i=Object.entries(t.config.images);r<i.length;r++){var o=Fr(i[r],2),a=(o[0],o[1]);if(a.document.src===e.src)return t.config.cache.asset_to_element[e.src]=a,a}return null}}],n&&Wr(e.prototype,n),r&&Wr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,i,o,a,s,c,l,u,h}();Kr=Jr,Xr={assets_dir:"build/images",assets_version:"1.0.0",images:{},cdn_urls:["",""],cdn_enabled:[!0,!0],cdn_errors_count:[0,0],cdn_errors_count_threshold:[1,1],flags_manifest:{},cache:{asset_to_element:{}}},(Zr=$r(Zr="config"))in Kr?Object.defineProperty(Kr,Zr,{value:Xr,enumerable:!0,configurable:!0,writable:!0}):Kr[Zr]=Xr;const Qr=Jr;function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ni(r.key),r)}}function ni(t){var e=function(t,e){if("object"!=ti(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ti(e)?e:e+""}var ri=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&ei(t.prototype,e),n&&ei(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"hexToRGBA",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;3===(t=t.replace("#","")).length&&(t=t.split("").map(function(t){return t+t}).join(""));var n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return e=Math.min(1,Math.max(0,e)),"rgba(".concat(n,", ").concat(r,", ").concat(i,", ").concat(e,")")}},{key:"generateSimilarColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.3,n=t.match(/rgba?\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);if(n){var r=parseInt(n[1]),i=parseInt(n[2]),o=parseInt(n[3]),a=n[5]?parseFloat(n[5]):1,s=Math.min(255,Math.round(r*e)),c=Math.min(255,Math.round(i*e)),l=Math.min(255,Math.round(o*e));return a<1?"rgba(".concat(s,", ").concat(c,", ").concat(l,", ").concat(a,")"):"rgb(".concat(s,", ").concat(c,", ").concat(l,")")}return t}},{key:"generateTextColorForBackground",value:function(t){var e=t.match(/rgba?\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);return e?.2126*parseInt(e[1])+.7152*parseInt(e[2])+.0722*parseInt(e[3])>128*(e[5]?parseFloat(e[5]):1)?"black":"white":"black"}},{key:"getColorSimilarity",value:function(t){3===(t=t.replace(/^#/,"")).length&&(t=t.split("").map(function(t){return t+t}).join(""));var e=(.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16))/255;return{white:Math.abs(1-e),black:e}}},{key:"lightenColor",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(function(t){return t+t}).join(""));var r=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),a=t.rgbToHsl(r,i,o);a[2]=Math.min(1,a[2]+n);var s=t.hslToRgb(a[0],a[1],a[2]);return"#".concat(s[0].toString(16).padStart(2,"0")).concat(s[1].toString(16).padStart(2,"0")).concat(s[2].toString(16).padStart(2,"0"))}},{key:"darkenColor",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(function(t){return t+t}).join(""));var r=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),a=t.rgbToHsl(r,i,o);a[2]=Math.max(0,a[2]-n);var s=t.hslToRgb(a[0],a[1],a[2]);return"#".concat(s[0].toString(16).padStart(2,"0")).concat(s[1].toString(16).padStart(2,"0")).concat(s[2].toString(16).padStart(2,"0"))}},{key:"rgbToHsl",value:function(t,e,n){t/=255,e/=255,n/=255;var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o===a)r=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return[r,i,s]}},{key:"hslToRgb",value:function(t,e,n){var r,i,o;if(0===e)r=i=o=n;else{var a=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;r=a(c,s,t+1/3),i=a(c,s,t),o=a(c,s,t-1/3)}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}},{key:"getDate",value:function(){var t=new Date,e=t.getDate(),n=new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),r=t.getFullYear();return"".concat(e," ").concat(n," ").concat(r)}},{key:"text",value:function(t){return'<p class="t"><span>'.concat(t,"</span></p>")}}])}();const ii=ri;function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ai(t){return function(t){if(Array.isArray(t))return ui(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||li(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=li(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ci(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||li(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(t,e){if(t){if("string"==typeof t)return ui(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ui(t,e):void 0}}function ui(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fi(r.key),r)}}function fi(t){var e=function(t,e){if("object"!=oi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oi(e)?e:e+""}var di=function(){return function(t,e,n){return e&&hi(t.prototype,e),n&&hi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableGenerator=e},[{key:"getScoresTemplate",value:function(){var t='<div class="scores">\n                <div class="header">\n                    <span>[LOBBY]</span>\n                    <span>[DATE]</span>\n                </div>\n                <div class="body">[SCORES_BODY]</div>\n            </div>';return t=t.replace("[SCORES_BODY]",this.tableGenerator.table.is_solo?this._getScoresSoloTeamsTemplate():this._getScoresTeamsTemplate())}},{key:"getResultsTemplate",value:function(){var t="Rating Updates";(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(t+=" Predictions");for(var e='<div class="results">\n                <div class="body">\n                    <table class="players">\n                        <thead>\n                            <tr>\n                                <th colspan="6" class="header">'.concat(ii.text(t,"18px"),"</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            [PLAYERS]\n                        </tbody>\n                    </table>\n                </div>\n            </div>"),n="",r=0,i=!1,o=0,a=Object.entries(this.tableGenerator.matchResults);o<a.length;o++){var s=ci(a[o],2),c=(s[0],s[1]);if(null!=c&&c.final_ranking){i=!0;break}}for(var l=0,u=Object.entries(this.tableGenerator.matchResults);l<u.length;l++){var h=ci(u[l],2);h[0],h[1];n+='<tr class="player [PLAYER_'.concat(r,'_ROW_CLASS]" style="background-color: [PLAYER_').concat(r,'_ROW_BACKGROUND_COLOR];">\n                        <td class="original-ranking').concat(i?"":" d-none",'"><div>[PLAYER_').concat(r,'_ORIGINAL_RANKING]</div></td>\n                        <td class="ranking-shift').concat(i?"":" d-none",'"><div>[PLAYER_').concat(r,'_RANKING_SHIFT]</div></td>\n                        <td class="final-ranking').concat(i?"":" d-none",'"><div>[PLAYER_').concat(r,'_FINAL_RANKING]</td>\n                        <td class="name"><div>[PLAYER_').concat(r,'_NAME]</div></td>\n                        <td class="original-rating"><div>[PLAYER_').concat(r,'_ORIGINAL_RATING]</div></td>\n                        <td class="delta"><div><div>[PLAYER_').concat(r,"_DELTA_SIGN]</div><div>[PLAYER_").concat(r,'_DELTA]</div></div></td>\n                        <td class="rating-shift"><div>[PLAYER_').concat(r,'_RATING_SHIFT]</div></td>\n                        <td class="final-rating"><div>[PLAYER_').concat(r,'_FINAL_RATING]</div></td>\n                        <td class="tier"><div style="background-color: [PLAYER_').concat(r,"_TIER_BACKGROUND_COLOR]; color: [PLAYER_").concat(r,'_TIER_COLOR];"><div>[PLAYER_').concat(r,"_TIER]</div></div></td>\n                    </tr>"),r++}return e=e.replace("[PLAYERS]",n)}},{key:"_getScoresTeamsTemplate",value:function(){for(var t=this,e="",n=function(n){var r=t._getScoresTeamTemplate(n),i=t.tableGenerator.table.teams[n].players.map(function(e,r){return t._getScoresPlayerTemplate(e,n,r)}).join("");0!==t.tableGenerator.getTeamPenalty(n)&&(i+=t._getTeamPenaltyTemplate()),r=r.replace("[TEAM_".concat(n,"_PLAYERS]"),i),e+=r},r=0;r<this.tableGenerator.table.teams.length;r++)n(r);return e}},{key:"_getScoresSoloTeamsTemplate",value:function(){var t,e="",n=0,r=si(this.tableGenerator.table.teams.entries());try{for(r.s();!(t=r.n()).done;){var i,o=ci(t.value,2),a=(o[0],si(o[1].players.entries()));try{for(a.s();!(i=a.n()).done;){var s=ci(i.value,2),c=(s[0],s[1]);e+=this._getScoresPlayerTemplate(c,0,n++)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}return this._getScoresTeamTemplate(0).replace("[TEAM_0_PLAYERS]",e)}},{key:"_getScoresTeamTemplate",value:function(t){var e=0===t?" d-none":"";return'<div class="team'.concat(this._hasPenalty()?" penalty":"",'" [TEAM_').concat(t,'_STYLE]>\n                    <div class="match">\n                        <div class="position">\n                            [TEAM_').concat(t,'_POSITION]\n                         </div>\n                        <div class="name"><span>[TEAM_').concat(t,"_NAME]</span><span[TEAM_").concat(t,"_DESCRIPTION_STYLE]>[TEAM_").concat(t,'_DESCRIPTION]</span></div>\n                        <span class="match-type">[MATCH_TYPE]</span>\n                        <span class="match-number">[MATCH_NUMBER]</span>\n                    </div>\n                    <table class="players">\n                        <tbody>\n                            [TEAM_').concat(t,'_PLAYERS]\n                        </tbody>\n                    </table>\n                    <div class="rating-points">\n                        <span>[TEAM_').concat(t,'_RATING_POINTS]</span>\n                        <div class="rating-points-difference').concat(e,'"><div class="sign">').concat(ii.text(""),'</div><div class="value">[TEAM_').concat(t,"_RATING_POINTS_DIFFERENCE]</div></div>\n                    </div>\n                </div>")}},{key:"_getScoresPlayerTemplate",value:function(t,e,n){for(var r='<tr class="player">\n                <td class="name"><span>[TEAM_'.concat(e,"_PLAYER_").concat(n,'_NAME]</span></td>\n                <td class="flag"><div><div><div style="[TEAM_').concat(e,"_PLAYER_").concat(n,'_FLAG]"></div></div><div></div></div></td>\n                [TEAM_').concat(e,"_PLAYER_").concat(n,'_SCORES]\n                <td class="total-scores"><span>[TEAM_').concat(e,"_PLAYER_").concat(n,'_TOTAL_SCORES]</span></td>\n                <td class="position">[TEAM_').concat(e,"_PLAYER_").concat(n,'_POSITION]</td>\n                <td class="penalty').concat(this._hasPenalty()?"":" d-none",'"><span>[TEAM_').concat(e,"_PLAYER_").concat(n,"_PENALTY]</span></td>\n            </tr> "),i="",o=this.tableGenerator.getMaxNbScores(),a=0;a<o;a++)i+='<td class="score"><span>[TEAM_'.concat(e,"_PLAYER_").concat(n,"_SCORE_").concat(a,"]</span></td>");return r=r.replace("[TEAM_".concat(e,"_PLAYER_").concat(n,"_SCORES]"),i)}},{key:"_getTeamPenaltyTemplate",value:function(){for(var t='<tr class="player">\n                <td class="name"><span>[TEAM_PENALTY_TEXT]</span></td>\n                <td class="flag"></td>\n                [TEAM_PENALTY_SCORES]\n                <td class="total-scores"><span>[TEAM_PENALTY_VALUE]</span></td>\n                <td class="position"></td>\n                <td class="penalty'.concat(this._hasPenalty()?"":" d-none",'"></td>\n            </tr> '),e="",n=this.tableGenerator.getMaxNbScores(),r=0;r<n;r++)e+='<td class="score"></td>';return t=t.replace("[TEAM_PENALTY_SCORES]",e)}},{key:"_hasPenalty",value:function(){return this.tableGenerator.table.teams.some(function(t){return ai(t.players.values()).some(function(t){return 0!==t.penalty})})}}])}();const pi=di;function vi(t){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(t)}function mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yi(r.key),r)}}function yi(t){var e=function(t,e){if("object"!=vi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vi(e)?e:e+""}var gi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&mi(t.prototype,e),n&&mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"getValue",value:function(t,e){var n=null;return"string"==typeof t?n=document.querySelector(t):"object"===vi(t)&&(n=t),n?getComputedStyle(n).getPropertyValue(e).trim():""}},{key:"equals",value:function(e,n,r){return t.getValue(e,n)===r.trim()}}])}();const bi=gi;function _i(t){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(t)}function wi(t){return function(t){if(Array.isArray(t))return Ti(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||xi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=xi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xi(t,e){if(t){if("string"==typeof t)return Ti(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(t,e):void 0}}function Ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(n),!0).forEach(function(e){Ri(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Oi(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return Ci(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(Ci(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Ci(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Ci(h,"constructor",l),Ci(l,"constructor",c),c.displayName="GeneratorFunction",Ci(l,i,"GeneratorFunction"),Ci(h),Ci(h,i,"Generator"),Ci(h,r,function(){return this}),Ci(h,"toString",function(){return"[object Generator]"}),(Oi=function(){return{w:o,m:f}})()}function Ci(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ci=function(t,e,n,r){function o(e,n){Ci(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Ci(t,e,n,r)}function Pi(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Ii(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){Pi(o,r,i,a,s,"next",t)}function s(t){Pi(o,r,i,a,s,"throw",t)}a(void 0)})}}function Mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Li(r.key),r)}}function Ri(t,e,n){return(e=Li(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Li(t){var e=function(t,e){if("object"!=_i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_i(e)?e:e+""}var ji=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._constructor().catch(function(t){return t})}return function(t,e,n){return e&&Mi(t.prototype,e),n&&Mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_selectors",get:function(){return{document:".js-canvas-html",container:".js-canvas-table",scoresMatch:".scores .team .match",players:".scores .team .players",playerName:".scores .team .players .player .name",playerPenalty:".scores .team .players .player .penalty",tableTeamPlayers:".scores .team .players",tableTeamRatingPoints:".scores .team .rating-points",tableTeamRatingPointsDifference:".scores .team .rating-points-difference"}}},{key:"_constructor",value:(a=Ii(Oi().m(function t(){return Oi().w(function(t){for(;;)switch(t.n){case 0:return Nr.acquire("table_generator:ready"),t.n=1,this._registerAssets();case 1:return t.n=2,this._onDOMContentLoaded();case 2:Nr.release("table_generator:ready",!0);case 3:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"_onDOMContentLoaded",value:(o=Ii(Oi().m(function t(){var e;return Oi().w(function(t){for(;;)switch(t.n){case 0:return Nr.acquire("table_generator:assets_on_dom_ready"),e=function(){var t=Ii(Oi().m(function t(){return Oi().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(new Qr).appendToDOM().catch(function(t){return t});case 1:Nr.release("table_generator:assets_on_dom_ready",!0);case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Ii(Oi().m(function t(){return Oi().w(function(t){for(;;)switch(t.n){case 0:e().catch(function(t){return t});case 1:return t.a(2)}},t)}))):e().catch(function(t){return t}),t.n=1,Nr.wait("table_generator:assets_on_dom_ready");case 1:return t.a(2)}},t)})),function(){return o.apply(this,arguments)})},{key:"_registerAssets",value:(i=Ii(Oi().m(function t(){var e;return Oi().w(function(t){for(;;)switch(t.n){case 0:return Nr.acquire("table_generator:assets_ready"),Nr.acquire("assets_loader:ready"),(e=new Qr).loadConfiguration(),e.load().catch(function(t){return t}),Nr.acquire("css:ready"),bi.equals(document.documentElement,"--css-loaded","1")?Nr.release("css:ready",!0):document.addEventListener("css:ready",function(){Nr.release("css:ready",!0)},{once:!0}),t.n=1,Nr.wait("assets_loader:ready");case 1:return t.n=2,Nr.wait("css:ready");case 2:Nr.release("table_generator:assets_ready",!0);case 3:return t.a(2)}},t)})),function(){return i.apply(this,arguments)})},{key:"generate",value:(r=Ii(Oi().m(function e(n,r,i){var o,a,s,c,l,u=this,h=arguments;return Oi().w(function(e){for(;;)switch(e.n){case 0:if(o=h.length>3&&void 0!==h[3]&&h[3],a=!(h.length>4&&void 0!==h[4])||h[4],this.board=r,this.table=n,this.matchResults=i,this.table&&this.board&&this.matchResults){e.n=1;break}throw new Error("Missing required data");case 1:return this.isSubmittedMatch=o,this.isRanked=a,s={light:"#f5f5f5",dark:"#949494"},c=this.table.is_solo||2!==this.table.teams.length?{team_0:"#ffe619",team_1:"#22c5f6",team_2:"#7ffa2c",team_3:"#fd0f0f"}:{team_0:"#22c5f6",team_1:"#fd0f0f",team_2:"#ffe619",team_3:"#7ffa2c"},this._defaultColors=ki(ki({},s),c),this._templateGenerator=new pi(this),e.n=2,this._waitForAssetsToLoad();case 2:return this._elements=t.getElements(),this._elements.table.classList.remove("solo","team","mobile"),this._elements.table.classList.add(this.table.is_solo?"solo":"team"),l=this._templateGenerator.getScoresTemplate()+this._templateGenerator.getResultsTemplate(this.isSubmittedMatch,this.isRanked),l=this._setScoresHeader(l),l=this.table.is_solo?this._setScoresSoloPlayers(l):this._setScoresTeams(l),l=(l=this._setResults(l)).replace(/\n/g,"").replace(/\s{2,}/g," ").trim(),this._elements.table.innerHTML=l,this._elements.table.querySelectorAll(".js-image-preloader").forEach(function(t){var e=u._elements.document.querySelector("._preload img.canvas-image-".concat(t.dataset.id));if(e){var n=e.cloneNode(!0);n.className=t.dataset.class,t.replaceWith(n)}}),this._elements.document.style.display="block",this._setFixedWidths(),this._elements.document.removeAttribute("style"),t._nbExecutions=t._nbExecutions>=10?10:t._nbExecutions+1,e.a(2,!0)}},e,this)})),function(t,e,n){return r.apply(this,arguments)})},{key:"_setScoresHeader",value:function(t){var e=this.board.name;this.isRanked||(e="Custom");var n=this.board.lobby_type.code.toUpperCase()+" "+this._getGameMode().name,r=this.table.number?this._truncateText(String(this.table.number),6):"1",i=e+" | "+n+" | "+"Lobby #".concat(r);this.isSubmittedMatch&&(i+="| Submitted");var o=(i=this._truncateText(i,68)).match(/[^#]+|#/g);i="";var a,s=Ei(o.entries());try{for(s.s();!(a=s.n()).done;){var c=Si(a.value,2)[1];i+="#"===c?this._getHashtag():ii.text(c)}}catch(t){s.e(t)}finally{s.f()}return t.replace("[LOBBY]",i).replace("[DATE]",ii.text(ii.getDate()))}},{key:"_setScoresTeams",value:function(t){var e,n=this.getMaxNbScores(),r=Ei(this.table.teams.entries());try{for(r.s();!(e=r.n()).done;){var i,o=Si(e.value,2),a=o[0],s=o[1],c=s.name.split("-");c.length>1&&c[1].trim().length>0?c=[this._truncateText(c[0].trim(),14),this._truncateText(c[1].trim())]:c[0]=this._truncateText(s.name,14),t=t.replace("[MATCH_TYPE]","").replace("[MATCH_NUMBER]",this._getHashtag()+(this.table.number?this.table.number:"1")).replace("[TEAM_".concat(a,"_STYLE]"),'style="background-color: '.concat(this._getTeamColor(a,null!==(i=null==s?void 0:s.color)&&void 0!==i?i:null,this.table.teams.length),';"')).replace("[TEAM_".concat(a,"_NAME]"),ii.text(c[0])).replace("[TEAM_".concat(a,"_DESCRIPTION]"),ii.text(c.length>1?c[1]:"")).replace("[TEAM_".concat(a,"_DESCRIPTION_STYLE]"),c.length>1?"":' style="display:none;"').replace("[TEAM_".concat(a,"_POSITION]"),this._getRank(s.position,this._getLastPlaceNumber(),!1)).replace("[TEAM_".concat(a,"_RATING_POINTS]"),ii.text(s.score-s.penalty)).replace("[TEAM_".concat(a,"_RATING_POINTS_DIFFERENCE]"),ii.text(0===a?"":this.table.teams[a-1].score-this.table.teams[a-1].penalty-(s.score-s.penalty)));var l,u=Ei(s.players.entries());try{for(u.s();!(l=u.n()).done;){var h=Si(l.value,2),f=h[0],d=h[1];t=t.replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_NAME]"),ii.text(this._truncateText(d.name))).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_FLAG]"),this._getFlag(d.flag)).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_TOTAL_SCORES]"),ii.text(d.scores.reduce(function(t,e){return t+e},0))).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_POSITION]"),this._getRank(d.position,this._getLastPlaceNumber(),!1)).replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_PENALTY]"),ii.text(d.penalty>0?"-".concat(d.penalty):d.penalty<0?"+".concat(Math.abs(d.penalty)):""));for(var p=0;p<n;p++){var v,m;t=t.replace("[TEAM_".concat(a,"_PLAYER_").concat(f,"_SCORE_").concat(p,"]"),ii.text(null!==(v=null===(m=d.scores)||void 0===m?void 0:m[p])&&void 0!==v?v:0))}}}catch(t){u.e(t)}finally{u.f()}var y=this.getTeamPenalty(a);0!==y&&(t=t.replace("[TEAM_PENALTY_TEXT]",ii.text(y>0?"PENALTY":"BONUS")).replace("[TEAM_PENALTY_VALUE]",ii.text(y>0?"-".concat(y):"".concat(Math.abs(y)))))}}catch(t){r.e(t)}finally{r.f()}return t}},{key:"_setScoresSoloPlayers",value:function(t){var e=this.getMaxNbScores();t=t.replace("[MATCH_TYPE]",ii.text(this._getGameMode().name)).replace("[MATCH_NUMBER]",this._getHashtag()+ii.text(this.table.number?this.table.number:"1")).replace("[TEAM_".concat(0,"_STYLE]"),"").replace("[TEAM_".concat(0,"_NAME]"),"").replace("[TEAM_".concat(0,"_DESCRIPTION_STYLE]"),' style="display:none;"').replace("[TEAM_".concat(0,"_POSITION]"),"").replace("[TEAM_".concat(0,"_RATING_POINTS]"),ii.text(this._getTotalMatchPoints())).replace("[TEAM_".concat(0,"_RATING_POINTS_DIFFERENCE]"),"");var n,r=0,i=Ei(this.table.teams.entries());try{for(i.s();!(n=i.n()).done;){var o,a=Si(n.value,2),s=(a[0],Ei(a[1].players.entries()));try{for(s.s();!(o=s.n()).done;){var c=Si(o.value,2),l=(c[0],c[1]);t=t.replace("[TEAM_".concat(0,"_PLAYER_").concat(r,"_NAME]"),ii.text(this._truncateText(l.name))).replace("[TEAM_".concat(0,"_PLAYER_").concat(r,"_FLAG]"),this._getFlag(l.flag)).replace("[TEAM_".concat(0,"_PLAYER_").concat(r,"_TOTAL_SCORES]"),ii.text(l.scores.reduce(function(t,e){return t+e},0))).replace("[TEAM_".concat(0,"_PLAYER_").concat(r,"_POSITION]"),this._getRank(l.position,this._getLastPlaceNumber(),!1)).replace("[TEAM_".concat(0,"_PLAYER_").concat(r,"_PENALTY]"),ii.text(l.penalty>0?"-".concat(l.penalty):l.penalty<0?"+".concat(Math.abs(l.penalty)):""));for(var u=0;u<e;u++){var h,f;t=t.replace("[TEAM_".concat(0,"_PLAYER_").concat(r,"_SCORE_").concat(u,"]"),ii.text(null!==(h=null===(f=l.scores)||void 0===f?void 0:f[u])&&void 0!==h?h:0))}r++}}catch(t){s.e(t)}finally{s.f()}}}catch(t){i.e(t)}finally{i.f()}return t}},{key:"_setResults",value:function(t){var e=this._getPlayerTiers(),n=this._getPlayerDeltas(),r=0;this._lastTierColor=null;for(var i=0,o=Object.entries(this.matchResults);i<o.length;i++){var a=Si(o[i],2),s=a[0],c=a[1];t=t.replace("[PLAYER_".concat(r,"_ROW_CLASS]"),"".concat(this._getResultsRowDeltaRankingClass(c)," ").concat(this._getResultsRowDeltaRatingClass(n[s])," ").concat(this._useRankings()?"rankings":"")).replace("[PLAYER_".concat(r,"_ROW_BACKGROUND_COLOR]"),this._getTierBackgroundColor(e[s].color)).replace("[PLAYER_".concat(r,"_ORIGINAL_RANKING]"),'<p class="t"><span class="hashtag">#</span><span>'.concat(null!=c&&c.original_ranking&&c.original_ranking?c.original_ranking:"","</span>")).replace("[PLAYER_".concat(r,"_RANKING_SHIFT]"),this._getRankingShift(c)).replace("[PLAYER_".concat(r,"_FINAL_RANKING]"),'<p class="t"><span class="hashtag">#</span><span>'.concat(null!=c&&c.final_ranking&&c.final_ranking?c.final_ranking:"","</span>")).replace("[PLAYER_".concat(r,"_NAME]"),ii.text(this._truncateText(c.name))).replace("[PLAYER_".concat(r,"_ORIGINAL_RATING]"),ii.text(Math.floor(c.original_rating))).replace("[PLAYER_".concat(r,"_DELTA_SIGN]"),ii.text(n[s]>=0?"+":"-")).replace("[PLAYER_".concat(r,"_DELTA]"),ii.text(Math.abs(Math.floor(n[s])).toString())).replace("[PLAYER_".concat(r,"_RATING_SHIFT]"),this._getRatingShift(n[s])).replace("[PLAYER_".concat(r,"_FINAL_RATING]"),ii.text(Math.floor(c.final_rating))).replace("[PLAYER_".concat(r,"_TIER_BACKGROUND_COLOR]"),e[s].color).replace("[PLAYER_".concat(r,"_TIER_COLOR]"),this._getTierTextColor(e[s].color)).replace("[PLAYER_".concat(r,"_TIER]"),e[s].text),r++}return t}},{key:"_getPlayerTiers",value:function(){var t,e={},n=Ei(this.board.tiers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.name]=r}}catch(t){n.e(t)}finally{n.f()}var i={};for(var o in this.matchResults){var a=this.matchResults[o],s=e[a.original_tier],c=e[a.final_tier],l=null;if(s.name!==c.name){var u=this._getTierTextColor(c.color);l=ki(ki({},c),{},{text:(c.lower_bound>s.lower_bound?this._getShift("",u):this._getShift("",u))+"<div>"+ii.text(c.name)+"</div>"})}else l=ki(ki({},c),{},{text:ii.text(c.name)});i[o]=l}return i}},{key:"_getPlayerDeltas",value:function(){var t={};for(var e in this.matchResults){var n=this.matchResults[e];t[e]=Math.floor(n.final_rating)-Math.floor(n.original_rating)}return t}},{key:"_getResultsRowDeltaRatingClass",value:function(t){return t>0?"rating-delta-positive":t<0?"rating-delta-negative":"rating-delta-neutral"}},{key:"_getResultsRowDeltaRankingClass",value:function(t){return null!=t&&t.original_ranking&&null!=t&&t.final_ranking&&null!==t.original_ranking&&null!==t.final_ranking?t.final_ranking>t.original_ranking?"ranking-delta-negative":t.final_ranking<t.original_ranking?"ranking-delta-positive":"ranking-delta-neutral":"ranking-delta-neutral"}},{key:"_getTierBackgroundColor",value:function(t){var e=this._isBlackColor(t),n=ii.hexToRGBA(t,.11),r=ii.getColorSimilarity(t);return r.white<.015?n=ii.hexToRGBA(ii.darkenColor(t,.05),.25):r.black<.015&&!e?n=ii.hexToRGBA(ii.lightenColor(t,.05),.25):(r.white<.1||r.black<.1&&!e)&&(n=ii.hexToRGBA(t,.2)),this._lastTierColor===n&&(n=ii.generateSimilarColor(n)),this._lastTierColor=n,n}},{key:"_isBlackColor",value:function(t){return["black","#000","#000000","#000000ff","rgb(0,0,0)","rgba(0,0,0,0)"].includes(t.replace(/\s+/g,"").toLowerCase())}},{key:"_getTierTextColor",value:function(t){return ii.generateTextColorForBackground(ii.hexToRGBA(t))}},{key:"getMaxNbScores",value:function(){return Math.max.apply(Math,wi(this.table.teams.flatMap(function(t){return t.players.map(function(t){return t.scores.length})})))}},{key:"getTeamPenalty",value:function(t){var e=this.table.teams[t],n=wi(e.players.values()).reduce(function(t,e){return t+e.penalty},0);return e.penalty-n}},{key:"_truncateText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return Array.from(t).length>e?wi(t).slice(0,e-3).join("")+"...":t}},{key:"_getTotalMatchPoints",value:function(){return wi(this.table.teams.values()).reduce(function(t,e){return t+(e.score-e.penalty)},0)}},{key:"_getRank",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=parseInt(t,10),i="<span>"+ii.text("".concat(t,"th"))+"</span>",o=function(t){var e,n="base_"+t,r=null===(e=Qr.config.images)||void 0===e?void 0:e["base_"+t];return r&&r.loaded&&r.blobUrl?'<div class="js-image-preloader" data-class="" data-id="'.concat(n,'"></div>'):null};if(1===r?i=o(1)||"1st":2===r?i=o(2)||"2nd":3===r&&(i=o(3)||"3rd"),n&&e===r){var a=o("turtle");a&&(i=a)}return i}},{key:"_getLastPlaceNumber",value:function(){for(var t=1/0,e=-1/0,n=0,r=Object.entries(this.matchResults);n<r.length;n++){var i=Si(r[n],2),o=(i[0],i[1]);o.position<t&&(t=o.position),o.position>e&&(e=o.position)}for(var a=0,s=0,c=Object.entries(this.matchResults);s<c.length;s++){var l=Si(c[s],2);l[0];l[1].position===e&&a++}return t<e&&e>3&&1===a?e:1/0}},{key:"_getFlag",value:function(t){var e,n=t.toLowerCase().replace("-","_"),r=(null===(e=Qr.config.images)||void 0===e?void 0:e.flags_sprite)||null;if(null!=r&&r.loaded&&r.loaded&&r.blobUrl){var i,o,a=/^[A-Za-z]{2}(_[A-Za-z]{2})?$/.test(t),s=(null===(i=Qr.config.flags_manifest)||void 0===i?void 0:i[n])||null;if(!a||!s)n="un",s=null===(o=Qr.config.flags_manifest)||void 0===o?void 0:o[n];var c=-1*s[0],l=-1*s[1];return"background:none;background-position:".concat(c,"px ").concat(l,"px")}}},{key:"_getShift",value:function(t,e){switch(t){case"":var n,r="base_shift_".concat(e),i=null===(n=Qr.config.images)||void 0===n?void 0:n[r];return i&&i.loaded&&i.blobUrl?'<div><div class="js-image-preloader" data-class="shift up" data-id="'.concat(r,'"></div></div>'):"<div class='up'><p class='t'><span></span></p></div>";case"":var o,a="base_shift_".concat(e),s=null===(o=Qr.config.images)||void 0===o?void 0:o[a];return s&&s.loaded&&s.blobUrl?'<div><div class="js-image-preloader" data-class="shift down" data-id="'.concat(a,'"></div></div>'):"<div class='down'><p class='t'><span></span></p></div>";default:return"<div><p class='t'><span></span></p></div>"}}},{key:"_setFixedWidths",value:function(){var t=wi(this._elements.table.querySelectorAll(this._selectors.scoresMatch)),e=Math.max.apply(Math,wi(t.map(function(t){return t.offsetWidth}))),n=wi(this._elements.table.querySelectorAll(this._selectors.tableTeamRatingPoints)),r=Math.max.apply(Math,wi(n.map(function(t){return t.offsetWidth}))),i=wi(this._elements.table.querySelectorAll(this._selectors.playerPenalty)),o=Math.max.apply(Math,wi(i.map(function(t){return t.offsetWidth})));o&&n.forEach(function(t){t.style.marginLeft="-".concat(o,"px")});var a=Math.max(e,r);[].concat(wi(t),wi(n)).forEach(function(t){t.style.width=a+"px"});var s,c=Ei([this._selectors.playerName,this._selectors.tableTeamPlayers].entries());try{for(c.s();!(s=c.n()).done;){var l=Si(s.value,2),u=(l[0],l[1]);this._setFixedWidth(u)}}catch(t){c.e(t)}finally{c.f()}}},{key:"_setFixedWidth",value:function(t){var e=this._elements.table.querySelectorAll(t),n=0;return e.forEach(function(t){var e=t.offsetWidth;e>n&&(n=e)}),e.forEach(function(t){t.style.width=n+2+"px"}),n}},{key:"_waitForAssetsToLoad",value:(n=Ii(Oi().m(function t(){return Oi().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Nr.wait("table_generator:ready");case 1:return t.a(2)}},t)})),function(){return n.apply(this,arguments)})},{key:"_getGameMode",value:function(){var t,e={},n=Ei(this.board.game_modes.entries());try{for(n.s();!(t=n.n()).done;){var r=Si(t.value,2),i=(r[0],r[1]);if(parseInt(this.board.lobby_type.id)===parseInt(this.table.id_lobby_type)&&parseInt(i.id)===parseInt(this.table.id_game_mode)){e=i;break}}}catch(t){n.e(t)}finally{n.f()}if(0===Object.keys(e).length){var o,a=Ei(this.board.game_modes.entries());try{for(a.s();!(o=a.n()).done;){var s=Si(o.value,2);s[0];e=s[1];break}}catch(t){a.e(t)}finally{a.f()}}return e}},{key:"_getTeamColor",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n&&n.startsWith("#")){var i=ii.getColorSimilarity(n);if(i.white<.02)r&&t+1===r&&(n=this._defaultColors.light);else i.black<.1&&(n=this._defaultColors.dark);return n}return null!==(e=this._defaultColors)&&void 0!==e&&e["team_".concat(t)]?this._defaultColors["team_".concat(t)]:"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))}},{key:"_getRankingShift",value:function(t){var e=this._calculateRankingShift(t);return 1===e?this._getShift("","green"):-1===e?this._getShift("","red"):this._getShift("","none")}},{key:"_getRatingShift",value:function(t){var e=this._calculateRatingShift(t);return 1===e?this._getShift("","green"):-1===e?this._getShift("","red"):this._getShift("","none")}},{key:"_getHashtag",value:function(){return"<p class='t'><span class='hashtag'>#</span></p>"}},{key:"_useRankings",value:function(){for(var t=!1,e=0,n=Object.entries(this.matchResults);e<n.length;e++){var r=Si(n[e],2),i=(r[0],r[1]);if(null!=i&&i.final_ranking){t=!0;break}}return t}},{key:"_calculateRankingShift",value:function(t){return null===(null==t?void 0:t.original_ranking)||null===(null==t?void 0:t.final_ranking)?0:t.final_ranking>t.original_ranking?-1:t.final_ranking<t.original_ranking?1:0}},{key:"_calculateRatingShift",value:function(t){return null===t?0:t>0?1:t<0?-1:0}},{key:"_waitForStableDimensions",value:(e=Ii(Oi().m(function t(e){var n,r,i,o,a,s=arguments;return Oi().w(function(t){for(;;)switch(t.n){case 0:n=s.length>1&&void 0!==s[1]?s[1]:3,r=0,i=0,o=0;case 1:if(!(o<n-1)){t.n=3;break}return(a=e.getBoundingClientRect()).width===r&&a.height===i?o++:o=0,r=a.width,i=a.height,t.n=2,new Promise(requestAnimationFrame);case 2:t.n=1;break;case 3:return t.a(2)}},t)})),function(t){return e.apply(this,arguments)})}],[{key:"getColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=ii.getColorSimilarity(t);return r.white<e?ii.darkenColor(t,n):r.black<e?ii.lightenColor(t,n):t}},{key:"getElements",value:function(){var t=document.body.querySelector(".js-canvas-html"),e=t.querySelector(".js-canvas-body"),n=e.querySelector(".js-canvas-table");return{document:t,body:e,table:n,image:document.body.querySelector(".js-table-canvas .js-canvas-image")}}}]);var e,n,r,i,o,a}();Ri(ji,"_nbExecutions",0);const Di=ji;function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Bi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Fi(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ui(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(n),!0).forEach(function(e){Wi(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Hi(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return Gi(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(Gi(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Gi(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Gi(h,"constructor",l),Gi(l,"constructor",c),c.displayName="GeneratorFunction",Gi(l,i,"GeneratorFunction"),Gi(h),Gi(h,i,"Generator"),Gi(h,r,function(){return this}),Gi(h,"toString",function(){return"[object Generator]"}),(Hi=function(){return{w:o,m:f}})()}function Gi(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Gi=function(t,e,n,r){function o(e,n){Gi(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Gi(t,e,n,r)}function qi(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Yi(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){qi(o,r,i,a,s,"next",t)}function s(t){qi(o,r,i,a,s,"throw",t)}a(void 0)})}}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$i(r.key),r)}}function Wi(t,e,n){return(e=$i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $i(t){var e=function(t,e){if("object"!=Ni(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ni(e)?e:e+""}var Ki=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._canvas=null,this._dataUrl="",this._url="",this._error=""}return function(t,e,n){return e&&Vi(t.prototype,e),n&&Vi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"canvas",get:function(){return this._canvas||null},set:function(t){return this._canvas=t,this}},{key:"dataUrl",get:function(){return this._canvas?(this._dataUrl||(this._dataUrl=this._canvas.toDataURL()||""),this._dataUrl):""},set:function(t){return this._canvas=t,this}},{key:"error",get:function(){return this._error}},{key:"getBlob",value:(r=Yi(Hi().m(function t(){var e=this;return Hi().w(function(t){for(;;)switch(t.n){case 0:if(this._canvas){t.n=1;break}return t.a(2,null);case 1:if(this._blob){t.n=3;break}return t.n=2,new Promise(function(t){return e._canvas.toBlob(t)});case 2:this._blob=t.v;case 3:return t.a(2,this._blob)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"getUrl",value:(n=Yi(Hi().m(function t(){var e,n,r=this;return Hi().w(function(t){for(;;)switch(t.n){case 0:if(this._canvas){t.n=1;break}return t.a(2,"");case 1:if(this._url){t.n=4;break}return n=URL,t.n=2,new Promise(function(t){return r._canvas.toBlob(t)});case 2:if(e=n.createObjectURL.call(n,t.v)){t.n=3;break}e="";case 3:this._url=e;case 4:return t.a(2,this._url)}},t,this)})),function(){return n.apply(this,arguments)})},{key:"url",set:function(t){return this._url=t,this}},{key:"htmlToCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._canvas=null,this._dataUrl="",this._url="",this._error="";try{var e=this._collectAllElementsData(),n="undefined"!=typeof OffscreenCanvas,r=n?this._renderOffscreen(e):this._renderOnMainThread(e);if(n&&t){var i=document.createElement("canvas");i.width=r.width,i.height=r.height;var o=i.getContext("2d"),a=r.transferToImageBitmap();o.drawImage(a,0,0),r=i}return r.classList.add("js-canvas-image"),this._canvas=r,r}catch(t){return this._error=t.message,hr.logError('Canvas.htmlToCanvas: "'.concat(this._error,'"')),null}}},{key:"htmlToPng",value:(e=Yi(Hi().m(function t(){var e,n,r,i,o,a,s,c=arguments;return Hi().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:"blob",n=this.htmlToCanvas()){t.n=1;break}return t.a(2,null);case 1:if(t.p=1,"blob"!==e){t.n=6;break}if(!n.convertToBlob){t.n=3;break}return t.n=2,n.convertToBlob();case 2:i=t.v,t.n=5;break;case 3:return t.n=4,new Promise(function(t){return n.toBlob(t)});case 4:i=t.v;case 5:this._blob=i,r=URL.createObjectURL(i),this._url=r,t.n=11;break;case 6:if(!(n instanceof OffscreenCanvas)){t.n=9;break}return t.n=7,n.convertToBlob();case 7:return o=t.v,t.n=8,new Promise(function(t,e){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=e,n.readAsDataURL(o)});case 8:r=t.v,t.n=10;break;case 9:r=n.toDataURL("image/png",1);case 10:this._dataUrl=r;case 11:if((a=document.createElement("img")).classList.add("js-canvas-image"),a.src=r,a.complete&&0!==a.naturalWidth){t.n=12;break}return t.n=12,new Promise(function(t,e){a.onload=t,a.onerror=e});case 12:return t.a(2,a);case 13:return t.p=13,s=t.v,this._error=s.message,hr.logError('Canvas.htmlToPng: "'.concat(this._error,'"')),t.a(2,null)}},t,this,[[1,13]])})),function(){return e.apply(this,arguments)})},{key:"_collectAllElementsData",value:function(){var e=[".canvas-table .scores .header",".canvas-table .scores .body .team",".canvas-table .scores .body .team .players .player td",".canvas-table .results",".canvas-table .results .body .players .player",".canvas-table .results .body .players .player .tier > div"],n=".canvas-table img",r={backgrounds:".canvas-table .scores .body .team .players .flag > div > div:first-of-type > div",images:"._preload .canvas-image-flags_sprite",borders:".canvas-table .scores .body .team .players .flag > div > div:last-of-type"},i=".canvas-table p.t > span",o=Di.getElements();o.document.style.display="block";var a=o.body,s=a.getBoundingClientRect(),c=t.TARGET_WIDTH/s.width,l=s.height*c,u=t._collectBackgrounds(a,s,e).map(function(t){return zi(zi({},t),{},{x:t.x*c,y:t.y*c,w:t.w*c,h:t.h*c,radius:t.radius?{tl:t.radius.tl*c,tr:t.radius.tr*c,br:t.radius.br*c,bl:t.radius.bl*c}:null})}),h=t._collectFlags(a,s,r.backgrounds,r.images,r.borders).map(function(t){return t.isBorder?zi(zi({},t),{},{x:t.x*c,y:t.y*c,w:t.w*c,h:t.h*c,bw:t.bw*c,radius:t.radius*c}):zi(zi({},t),{},{dx:t.dx*c,dy:t.dy*c,dw:t.dw*c,dh:t.dh*c,borderRadius:t.borderRadius*c})}),f=t._collectImages(a,s,n).map(function(t){return zi(zi({},t),{},{dx:t.dx*c,dy:t.dy*c,dw:t.dw*c,dh:t.dh*c})}),d=t._collectTexts(a,s,i).map(function(t){return zi(zi({},t),{},{x0:t.x0*c,y0:t.y0*c,w:t.w*c,h:t.h*c,ascent:t.ascent*c,font:t.font.replace(/(\d+)px/,function(t,e){return"".concat(e*c,"px")})})});return o.document.removeAttribute("style"),{width:t.TARGET_WIDTH,height:Math.round(l),backgrounds:u,flags:h,images:f,texts:d}}},{key:"_renderOffscreen",value:function(e){var n,r=new OffscreenCanvas(e.width,e.height),i=r.getContext("2d",{alpha:!1}),o=Bi(e.backgrounds);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(1!==a.opacity&&(i.save(),i.globalAlpha=a.opacity),i.fillStyle=a.bg,a.radius){var s=a.radius,c=s.tl,l=s.tr,u=s.br,h=s.bl;i.beginPath(),i.moveTo(a.x+c,a.y),i.lineTo(a.x+a.w-l,a.y),i.quadraticCurveTo(a.x+a.w,a.y,a.x+a.w,a.y+l),i.lineTo(a.x+a.w,a.y+a.h-u),i.quadraticCurveTo(a.x+a.w,a.y+a.h,a.x+a.w-u,a.y+a.h),i.lineTo(a.x+h,a.y+a.h),i.quadraticCurveTo(a.x,a.y+a.h,a.x,a.y+a.h-h),i.lineTo(a.x,a.y+c),i.quadraticCurveTo(a.x,a.y,a.x+c,a.y),i.closePath(),i.fill()}else i.fillRect(a.x,a.y,a.w,a.h);1!==a.opacity&&i.restore()}}catch(t){o.e(t)}finally{o.f()}var f,d=i.strokeStyle,p=i.lineWidth,v=Bi(e.flags);try{for(v.s();!(f=v.n()).done;){var m=f.value;if(m.isBorder)i.strokeStyle=m.color,i.lineWidth=m.bw,m.radius?(t._roundedRectPath(i,m.x,m.y,m.w,m.h,m.radius),i.stroke()):i.strokeRect(m.x,m.y,m.w,m.h);else if(m.source){if(m.borderRadius){i.save();var y=m.borderRadius;i.beginPath(),i.moveTo(m.dx+y,m.dy),i.lineTo(m.dx+m.dw-y,m.dy),i.arcTo(m.dx+m.dw,m.dy,m.dx+m.dw,m.dy+y,y),i.lineTo(m.dx+m.dw,m.dy+m.dh-y),i.arcTo(m.dx+m.dw,m.dy+m.dh,m.dx+m.dw-y,m.dy+m.dh,y),i.lineTo(m.dx+y,m.dy+m.dh),i.arcTo(m.dx,m.dy+m.dh,m.dx,m.dy+m.dh-y,y),i.lineTo(m.dx,m.dy+y),i.arcTo(m.dx,m.dy,m.dx+y,m.dy,y),i.closePath(),i.clip()}i.drawImage(m.source,m.sx,m.sy,m.sw,m.sh,m.dx,m.dy,m.dw,m.dh),m.borderRadius&&i.restore()}}}catch(t){v.e(t)}finally{v.f()}i.strokeStyle=d,i.lineWidth=p;var g,b=Bi(e.images);try{for(b.s();!(g=b.n()).done;){var _=g.value;_.source&&(_.rotate180?(i.save(),i.translate(_.dx+_.dw/2,_.dy+_.dh/2),i.rotate(Math.PI),i.drawImage(_.source,-_.dw/2,-_.dh/2,_.dw,_.dh),i.restore()):i.drawImage(_.source,_.dx,_.dy,_.dw,_.dh))}}catch(t){b.e(t)}finally{b.f()}var w="",S="",E="";i.textBaseline="alphabetic";var x,T=Bi(e.texts);try{for(T.s();!(x=T.n()).done;){var A=x.value;A.font!==w&&(i.font=A.font,w=A.font),A.color!==S&&(i.fillStyle=A.color,S=A.color),A.textAlign!==E&&(i.textAlign=A.textAlign,E=A.textAlign);var k=A.x0;"center"===A.textAlign?k+=.5*A.w:"right"===A.textAlign&&(k+=A.w),i.fillText(A.text,k,A.y0+A.ascent)}}catch(t){T.e(t)}finally{T.f()}return r}},{key:"_renderOnMainThread",value:function(e){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r,i=n.getContext("2d",{alpha:!1}),o=Bi(e.backgrounds);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.bg&&(1!==a.opacity&&(i.save(),i.globalAlpha=a.opacity),i.fillStyle=a.bg,a.radius?(t._roundedBackgroundRectPath(i,a.x,a.y,a.w,a.h,a.radius),i.fill()):i.fillRect(a.x,a.y,a.w,a.h),1!==a.opacity&&i.restore())}}catch(t){o.e(t)}finally{o.f()}var s,c=i.strokeStyle,l=i.lineWidth,u=Bi(e.flags);try{for(u.s();!(s=u.n()).done;){var h=s.value;if(h.isBorder)i.strokeStyle=h.color,i.lineWidth=h.bw,h.radius?(t._roundedRectPath(i,h.x,h.y,h.w,h.h,h.radius),i.stroke()):i.strokeRect(h.x,h.y,h.w,h.h);else if(h.source){if(h.borderRadius){i.save();var f=h.borderRadius;i.beginPath(),i.moveTo(h.dx+f,h.dy),i.lineTo(h.dx+h.dw-f,h.dy),i.arcTo(h.dx+h.dw,h.dy,h.dx+h.dw,h.dy+f,f),i.lineTo(h.dx+h.dw,h.dy+h.dh-f),i.arcTo(h.dx+h.dw,h.dy+h.dh,h.dx+h.dw-f,h.dy+h.dh,f),i.lineTo(h.dx+f,h.dy+h.dh),i.arcTo(h.dx,h.dy+h.dh,h.dx,h.dy+h.dh-f,f),i.lineTo(h.dx,h.dy+f),i.arcTo(h.dx,h.dy,h.dx+f,h.dy,f),i.closePath(),i.clip()}i.drawImage(h.source,h.sx,h.sy,h.sw,h.sh,h.dx,h.dy,h.dw,h.dh),h.borderRadius&&i.restore()}}}catch(t){u.e(t)}finally{u.f()}i.strokeStyle=c,i.lineWidth=l;var d,p=Bi(e.images);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.source&&(v.rotate180?(i.save(),i.translate(v.dx+v.dw/2,v.dy+v.dh/2),i.rotate(Math.PI),i.drawImage(v.source,-v.dw/2,-v.dh/2,v.dw,v.dh),i.restore()):i.drawImage(v.source,v.dx,v.dy,v.dw,v.dh))}}catch(t){p.e(t)}finally{p.f()}var m="",y="",g="";i.textBaseline="alphabetic";var b,_=Bi(e.texts);try{for(_.s();!(b=_.n()).done;){var w=b.value;w.font!==m&&(i.font=w.font,m=w.font),w.color!==y&&(i.fillStyle=w.color,y=w.color),w.textAlign!==g&&(i.textAlign=w.textAlign,g=w.textAlign);var S=w.x0;"center"===w.textAlign?S+=.5*w.w:"right"===w.textAlign&&(S+=w.w),i.fillText(w.text,S,w.y0+w.ascent)}}catch(t){_.e(t)}finally{_.f()}return n}}],[{key:"_collectBackgrounds",value:function(e,n,r){var i=[];return function t(e){r.some(function(t){return e.matches(t)})&&i.push(e),Array.from(e.children).forEach(t)}(e),i.map(function(e){var r=getComputedStyle(e),i=e.getBoundingClientRect(),o=r.borderRadius&&"0px"!==r.borderRadius?t._parseBorderRadius(r.borderRadius,i.width,i.height):null;return{x:i.left-n.left,y:i.top-n.top,w:i.width,h:i.height,bg:r.backgroundColor,opacity:parseFloat(r.opacity||1),radius:o}}).filter(function(t){return t.bg&&"transparent"!==t.bg&&"rgba(0, 0, 0, 0)"!==t.bg})}},{key:"_collectFlags",value:function(e,n,r,i,o){var a=e.closest("body").querySelector(i);if(!a)return[];var s=Array.from(e.querySelectorAll(r)).map(function(e){var r=getComputedStyle(e),i=e.getBoundingClientRect(),o=Qr.getAssetByElement(a),s=(null==o?void 0:o.bitmap)||(null==o?void 0:o.document);if(!s)return null;var c=-parseFloat(r.backgroundPositionX||0),l=-parseFloat(r.backgroundPositionY||0),u=Math.min(i.width*t.FLAGS_SCALE,a.naturalWidth-c),h=Math.min(i.height*t.FLAGS_SCALE,a.naturalHeight-l);return u<=0||h<=0?null:{dx:i.left-n.left,dy:i.top-n.top,dw:i.width,dh:i.height,sx:c,sy:l,sw:u,sh:h,source:s,borderRadius:parseFloat(r.borderRadius)||0}}).filter(Boolean);o&&Array.from(e.querySelectorAll(o)).forEach(function(t){var e=getComputedStyle(t),r=t.getBoundingClientRect(),i=parseFloat(e.borderTopWidth||0);i<=0||s.push({x:r.left-n.left,y:r.top-n.top,w:r.width,h:r.height,color:e.borderTopColor,bw:i,isBorder:!0,radius:parseFloat(e.borderRadius)||0})});return s}},{key:"_collectImages",value:function(t,e,n){return Array.from(t.querySelectorAll(n)).map(function(t){var n=getComputedStyle(t),r=t.getBoundingClientRect(),i=Qr.getAssetByElement(t);return{source:i?i.bitmap||i.document:null,dx:r.left-e.left,dy:r.top-e.top,dw:r.width,dh:r.height,rotate180:t.classList.contains("down"),visible:"none"!==n.display}}).filter(function(t){return t.source&&t.visible})}},{key:"_collectTexts",value:function(t,e,n){var r,i=[],o=Bi(t.querySelectorAll(n));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.textContent.trim();if(s){var c=getComputedStyle(a),l=a.getBoundingClientRect(),u=parseFloat(c.paddingLeft)||0,h=parseFloat(c.paddingTop)||0,f=parseFloat(c.paddingRight)||0,d=parseFloat(c.paddingBottom)||0,p=parseFloat(c.fontSize)||0;i.push({text:s,x0:l.left-e.left+u,y0:l.top-e.top+h,w:a.clientWidth-u-f,h:a.clientHeight-h-d,font:"".concat(c.fontWeight," ").concat(c.fontSize," ").concat(c.fontFamily),color:c.color,textAlign:c.textAlign,ascent:.8*p})}}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"_roundedRectPath",value:function(t,e,n,r,i,o){var a=Math.min(o,r/2,i/2);t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+r-a,n),t.arcTo(e+r,n,e+r,n+a,a),t.lineTo(e+r,n+i-a),t.arcTo(e+r,n+i,e+r-a,n+i,a),t.lineTo(e+a,n+i),t.arcTo(e,n+i,e,n+i-a,a),t.lineTo(e,n+a),t.arcTo(e,n,e+a,n,a),t.closePath()}},{key:"_roundedBackgroundRectPath",value:function(t,e,n,r,i,o){var a=o.tl,s=o.tr,c=o.br,l=o.bl;t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+r-s,n),t.quadraticCurveTo(e+r,n,e+r,n+s),t.lineTo(e+r,n+i-c),t.quadraticCurveTo(e+r,n+i,e+r-c,n+i),t.lineTo(e+l,n+i),t.quadraticCurveTo(e,n+i,e,n+i-l),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath()}},{key:"_parseBorderRadius",value:function(t,e,n){var r=t.split(" "),i=r.map(function(t){return function(t,e){return t.endsWith("%")?parseFloat(t)/100*e:parseFloat(t)}(t,Math.min(e,n))});switch(i.length){case 1:return{tl:i[0],tr:i[0],br:i[0],bl:i[0]};case 2:return{tl:i[0],tr:i[1],br:i[0],bl:i[1]};case 3:return{tl:i[0],tr:i[1],br:i[2],bl:i[1]};default:return{tl:i[0],tr:i[1],br:i[2],bl:i[3]}}}}]);var e,n,r}();Wi(Ki,"TARGET_WIDTH",1660),Wi(Ki,"FLAGS_SCALE",2);const Zi=Ki;var Xi=function(t,e){return Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Xi(t,e)};function Ji(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Xi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Qi=function(){return Qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Qi.apply(this,arguments)};function to(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var eo,no="ADD_CHOICE",ro="REMOVE_CHOICE",io="FILTER_CHOICES",oo="ACTIVATE_CHOICES",ao="CLEAR_CHOICES",so="ADD_GROUP",co="ADD_ITEM",lo="REMOVE_ITEM",uo="HIGHLIGHT_ITEM",ho="showDropdown",fo="hideDropdown",po="change",vo="choice",mo="search",yo="addItem",go="removeItem",bo="highlightItem",_o="highlightChoice",wo="unhighlightItem",So=9,Eo=16,xo=46,To=8,Ao=13,ko=65,Oo=27,Co=38,Po=40,Io=33,Mo=34,Ro=["fuseOptions","classNames"],Lo="text",jo="select-one",Do="select-multiple",No=function(t){return{type:no,choice:t}},Bo=function(t){return{type:co,item:t}},Fo=function(t){return{type:lo,item:t}},Uo=function(t,e){return{type:uo,item:t,highlighted:e}},zo=function(t){return Array.from({length:t},function(){return(t=0,e=36,Math.floor(Math.random()*(e-t)+t)).toString(36);var t,e}).join("")},Ho=function(t){if("string"!=typeof t){if(null==t)return"";if("object"==typeof t){if("raw"in t)return Ho(t.raw);if("trusted"in t)return t.trusted}return t}return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},Go=(eo=document.createElement("div"),function(t){eo.innerHTML=t.trim();for(var e=eo.children[0];eo.firstChild;)eo.removeChild(eo.firstChild);return e}),qo=function(t,e){return"function"==typeof t?t(Ho(e),e):t},Yo=function(t){return"function"==typeof t?t():t},Vo=function(t){if("string"==typeof t)return t;if("object"==typeof t){if("trusted"in t)return t.trusted;if("raw"in t)return t.raw}return""},Wo=function(t){if("string"==typeof t)return t;if("object"==typeof t){if("escaped"in t)return t.escaped;if("trusted"in t)return t.trusted}return""},$o=function(t,e){return t?Wo(e):Ho(e)},Ko=function(t,e,n){t.innerHTML=$o(e,n)},Zo=function(t,e){return t.rank-e.rank},Xo=function(t){return Array.isArray(t)?t:[t]},Jo=function(t){return t&&Array.isArray(t)?t.map(function(t){return".".concat(t)}).join(""):".".concat(t)},Qo=function(t,e){var n;(n=t.classList).add.apply(n,Xo(e))},ta=function(t,e){var n;(n=t.classList).remove.apply(n,Xo(e))},ea=function(t){if(void 0!==t)try{return JSON.parse(t)}catch(e){return t}return{}},na=function(){function t(t){var e=t.element,n=t.type,r=t.classNames;this.element=e,this.classNames=r,this.type=n,this.isActive=!1}return t.prototype.show=function(){return Qo(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},t.prototype.hide=function(){return ta(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},t}(),ra=function(){function t(t){var e=t.element,n=t.type,r=t.classNames,i=t.position;this.element=e,this.classNames=r,this.type=n,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return t.prototype.shouldFlip=function(t,e){var n=!1;return"auto"===this.position?n=this.element.getBoundingClientRect().top-e>=0&&!window.matchMedia("(min-height: ".concat(t+1,"px)")).matches:"top"===this.position&&(n=!0),n},t.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype.open=function(t,e){Qo(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(t,e)&&(Qo(this.element,this.classNames.flippedState),this.isFlipped=!0)},t.prototype.close=function(){ta(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(ta(this.element,this.classNames.flippedState),this.isFlipped=!1)},t.prototype.addFocusState=function(){Qo(this.element,this.classNames.focusState)},t.prototype.removeFocusState=function(){ta(this.element,this.classNames.focusState)},t.prototype.enable=function(){ta(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===jo&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.prototype.disable=function(){Qo(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===jo&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.prototype.wrap=function(t){var e=this.element,n=t.parentNode;n&&(t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e)),e.appendChild(t)},t.prototype.unwrap=function(t){var e=this.element,n=e.parentNode;n&&(n.insertBefore(t,e),n.removeChild(e))},t.prototype.addLoadingState=function(){Qo(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.prototype.removeLoadingState=function(){ta(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t}(),ia=function(){function t(t){var e=t.element,n=t.type,r=t.classNames,i=t.preventPaste;this.element=e,this.type=n,this.classNames=r,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(t.prototype,"placeholder",{set:function(t){this.element.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.value=t},enumerable:!1,configurable:!0}),t.prototype.addEventListeners=function(){var t=this.element;t.addEventListener("paste",this._onPaste),t.addEventListener("input",this._onInput,{passive:!0}),t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})},t.prototype.removeEventListeners=function(){var t=this.element;t.removeEventListener("input",this._onInput),t.removeEventListener("paste",this._onPaste),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},t.prototype.focus=function(){this.isFocussed||this.element.focus()},t.prototype.blur=function(){this.isFocussed&&this.element.blur()},t.prototype.clear=function(t){return void 0===t&&(t=!0),this.element.value="",t&&this.setWidth(),this},t.prototype.setWidth=function(){var t=this.element;t.style.minWidth="".concat(t.placeholder.length+1,"ch"),t.style.width="".concat(t.value.length+1,"ch")},t.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype._onInput=function(){this.type!==jo&&this.setWidth()},t.prototype._onPaste=function(t){this.preventPaste&&t.preventDefault()},t.prototype._onFocus=function(){this.isFocussed=!0},t.prototype._onBlur=function(){this.isFocussed=!1},t}(),oa=function(){function t(t){var e=t.element;this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return t.prototype.prepend=function(t){var e=this.element.firstElementChild;e?this.element.insertBefore(t,e):this.element.append(t)},t.prototype.scrollToTop=function(){this.element.scrollTop=0},t.prototype.scrollToChildElement=function(t,e){var n=this;if(t){var r=this.element.offsetHeight,i=this.element.scrollTop+r,o=t.offsetHeight,a=t.offsetTop+o,s=e>0?this.element.scrollTop+a-i:t.offsetTop;requestAnimationFrame(function(){n._animateScroll(s,e)})}},t.prototype._scrollDown=function(t,e,n){var r=(n-t)/e,i=r>1?r:1;this.element.scrollTop=t+i},t.prototype._scrollUp=function(t,e,n){var r=(t-n)/e,i=r>1?r:1;this.element.scrollTop=t-i},t.prototype._animateScroll=function(t,e){var n=this,r=this.element.scrollTop,i=!1;e>0?(this._scrollDown(r,4,t),r<t&&(i=!0)):(this._scrollUp(r,4,t),r>t&&(i=!0)),i&&requestAnimationFrame(function(){n._animateScroll(t,e)})},t}(),aa=function(){function t(t){var e=t.element,n=t.classNames;this.element=e,this.classNames=n,this.isDisabled=!1}return Object.defineProperty(t.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.setAttribute("value",t),this.element.value=t},enumerable:!1,configurable:!0}),t.prototype.conceal=function(){var t=this.element;Qo(t,this.classNames.input),t.hidden=!0,t.tabIndex=-1;var e=t.getAttribute("style");e&&t.setAttribute("data-choice-orig-style",e),t.setAttribute("data-choice","active")},t.prototype.reveal=function(){var t=this.element;ta(t,this.classNames.input),t.hidden=!1,t.removeAttribute("tabindex");var e=t.getAttribute("data-choice-orig-style");e?(t.removeAttribute("data-choice-orig-style"),t.setAttribute("style",e)):t.removeAttribute("style"),t.removeAttribute("data-choice")},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},t.prototype.triggerEvent=function(t,e){!function(t,e,n){void 0===n&&(n=null);var r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0});t.dispatchEvent(r)}(this.element,t,e||{})},t}(),sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ji(e,t),e}(aa),ca=function(t,e){return void 0===e&&(e=!0),void 0===t?e:!!t},la=function(t){if("string"==typeof t&&(t=t.split(" ").filter(function(t){return t.length})),Array.isArray(t)&&t.length)return t},ua=function(t,e,n){if(void 0===n&&(n=!0),"string"==typeof t){var r=Ho(t);return ua({value:t,label:n||r===t?t:{escaped:r,raw:t},selected:!0},!1)}var i=t;if("choices"in i){if(!e)throw new TypeError("optGroup is not allowed");var o=i,a=o.choices.map(function(t){return ua(t,!1)});return{id:0,label:Vo(o.label)||o.value,active:!!a.length,disabled:!!o.disabled,choices:a}}var s=i;return{id:0,group:null,score:0,rank:0,value:s.value,label:s.label||s.value,active:ca(s.active),selected:ca(s.selected,!1),disabled:ca(s.disabled,!1),placeholder:ca(s.placeholder,!1),highlighted:!1,labelClass:la(s.labelClass),labelDescription:s.labelDescription,customProperties:s.customProperties}},ha=function(t){return"SELECT"===t.tagName},fa=function(t){function e(e){var n=e.element,r=e.classNames,i=e.template,o=e.extractPlaceholder,a=t.call(this,{element:n,classNames:r})||this;return a.template=i,a.extractPlaceholder=o,a}return Ji(e,t),Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(t){var e=this,n=document.createDocumentFragment();t.forEach(function(t){var r=t;if(!r.element){var i=e.template(r);n.appendChild(i),r.element=i}}),this.element.appendChild(n)},e.prototype.optionsAsChoices=function(){var t=this,e=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(n){!function(t){return"OPTION"===t.tagName}(n)?function(t){return"OPTGROUP"===t.tagName}(n)&&e.push(t._optgroupToChoice(n)):e.push(t._optionToChoice(n))}),e},e.prototype._optionToChoice=function(t){return!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value=""),{id:0,group:null,score:0,rank:0,value:t.value,label:t.label,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:void 0!==t.dataset.labelClass?la(t.dataset.labelClass):void 0,labelDescription:void 0!==t.dataset.labelDescription?t.dataset.labelDescription:void 0,customProperties:ea(t.dataset.customProperties)}},e.prototype._optgroupToChoice=function(t){var e=this,n=t.querySelectorAll("option"),r=Array.from(n).map(function(t){return e._optionToChoice(t)});return{id:0,label:t.label||"",element:t,active:!!r.length,disabled:t.disabled,choices:r}},e}(aa),da={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(t){return!!t&&""!==t},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(t,e){var n=t.value,r=t.label,i=void 0===r?n:r,o=e.value,a=e.label,s=void 0===a?o:a;return Vo(i).localeCompare(Vo(s),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(t){return'Press Enter to add <b>"'.concat(t,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(t){return"Remove item: ".concat(t)},maxItemText:function(t){return"Only ".concat(t," values can be added")},valueComparer:function(t,e){return t===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},appendGroupInSearch:!1},pa=function(t){var e=t.itemEl;e&&(e.remove(),t.itemEl=void 0)};var va={groups:function(t,e){var n=t,r=!0;switch(e.type){case so:n.push(e.group);break;case ao:n=[];break;default:r=!1}return{state:n,update:r}},items:function(t,e,n){var r=t,i=!0;switch(e.type){case co:e.item.selected=!0,(o=e.item.element)&&(o.selected=!0,o.setAttribute("selected","")),r.push(e.item);break;case lo:var o;if(e.item.selected=!1,o=e.item.element){o.selected=!1,o.removeAttribute("selected");var a=o.parentElement;a&&ha(a)&&a.type===jo&&(a.value="")}pa(e.item),r=r.filter(function(t){return t.id!==e.item.id});break;case ro:pa(e.choice),r=r.filter(function(t){return t.id!==e.choice.id});break;case uo:var s=e.highlighted,c=r.find(function(t){return t.id===e.item.id});c&&c.highlighted!==s&&(c.highlighted=s,n&&function(t,e,n){var r=t.itemEl;r&&(ta(r,n),Qo(r,e))}(c,s?n.classNames.highlightedState:n.classNames.selectedState,s?n.classNames.selectedState:n.classNames.highlightedState));break;default:i=!1}return{state:r,update:i}},choices:function(t,e,n){var r=t,i=!0;switch(e.type){case no:r.push(e.choice);break;case ro:e.choice.choiceEl=void 0,e.choice.group&&(e.choice.group.choices=e.choice.group.choices.filter(function(t){return t.id!==e.choice.id})),r=r.filter(function(t){return t.id!==e.choice.id});break;case co:case lo:e.item.choiceEl=void 0;break;case io:var o=[];e.results.forEach(function(t){o[t.item.id]=t}),r.forEach(function(t){var e=o[t.id];void 0!==e?(t.score=e.score,t.rank=e.rank,t.active=!0):(t.score=0,t.rank=0,t.active=!1),n&&n.appendGroupInSearch&&(t.choiceEl=void 0)});break;case oo:r.forEach(function(t){t.active=e.active,n&&n.appendGroupInSearch&&(t.choiceEl=void 0)});break;case ao:r=[];break;default:i=!1}return{state:r,update:i}}},ma=function(){function t(t){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=t}return Object.defineProperty(t.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),t.prototype.changeSet=function(t){return{groups:t,items:t,choices:t}},t.prototype.reset=function(){this._state=this.defaultState;var t=this.changeSet(!0);this._txn?this._changeSet=t:this._listeners.forEach(function(e){return e(t)})},t.prototype.subscribe=function(t){return this._listeners.push(t),this},t.prototype.dispatch=function(t){var e=this,n=this._state,r=!1,i=this._changeSet||this.changeSet(!1);Object.keys(va).forEach(function(o){var a=va[o](n[o],t,e._context);a.update&&(r=!0,i[o]=!0,n[o]=a.state)}),r&&(this._txn?this._changeSet=i:this._listeners.forEach(function(t){return t(i)}))},t.prototype.withTxn=function(t){this._txn++;try{t()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var e=this._changeSet;e&&(this._changeSet=void 0,this._listeners.forEach(function(t){return t(e)}))}}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(t){return t.active&&t.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeChoices",{get:function(){return this.choices.filter(function(t){return t.active})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(t){return!t.disabled&&!t.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeGroups",{get:function(){var t=this;return this.state.groups.filter(function(e){var n=e.active&&!e.disabled,r=t.state.choices.some(function(t){return t.active&&!t.disabled});return n&&r},[])},enumerable:!1,configurable:!0}),t.prototype.inTxn=function(){return this._txn>0},t.prototype.getChoiceById=function(t){return this.activeChoices.find(function(e){return e.id===t})},t.prototype.getGroupById=function(t){return this.groups.find(function(e){return e.id===t})},t}(),ya="no-choices",ga="no-results",ba="add-choice",_a="";function wa(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sa(Object(n),!0).forEach(function(e){wa(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function xa(t){return Array.isArray?Array.isArray(t):"[object Array]"===Ia(t)}function Ta(t){return"string"==typeof t}function Aa(t){return"number"==typeof t}function ka(t){return!0===t||!1===t||function(t){return Oa(t)&&null!==t}(t)&&"[object Boolean]"==Ia(t)}function Oa(t){return"object"==typeof t}function Ca(t){return null!=t}function Pa(t){return!t.trim().length}function Ia(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ma=Object.prototype.hasOwnProperty;class Ra{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=La(t);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function La(t){let e=null,n=null,r=null,i=1,o=null;if(Ta(t)||xa(t))r=t,e=ja(t),n=Da(t);else{if(!Ma.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const a=t.name;if(r=a,Ma.call(t,"weight")&&(i=t.weight,i<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(a));e=ja(a),n=Da(a),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function ja(t){return xa(t)?t:t.split(".")}function Da(t){return xa(t)?t.join("."):t}const Na={useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const i=(t,e,o)=>{if(Ca(t))if(e[o]){const a=t[e[o]];if(!Ca(a))return;if(o===e.length-1&&(Ta(a)||Aa(a)||ka(a)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(a));else if(xa(a)){r=!0;for(let t=0,n=a.length;t<n;t+=1)i(a[t],e,o+1)}else e.length&&i(a,e,o+1)}else n.push(t)};return i(t,Ta(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ba=Ea(Ea(Ea(Ea({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),Na);const Fa=/[^ ]+/g;class Ua{constructor({getFn:t=Ba.getFn,fieldNormWeight:e=Ba.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(e){const i=e.match(Fa).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Ta(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();Ta(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Ca(t)||Pa(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,r)=>{let i=e.getFn?e.getFn(t):this.getFn(t,e.path);if(Ca(i))if(xa(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(Ca(r))if(Ta(r)&&!Pa(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else xa(r)&&r.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[r]=t}else if(Ta(i)&&!Pa(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function za(t,e,{getFn:n=Ba.getFn,fieldNormWeight:r=Ba.fieldNormWeight}={}){const i=new Ua({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(La)),i.setSources(e),i.create(),i}function Ha(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Ba.distance,ignoreLocation:o=Ba.ignoreLocation}={}){const a=e/t.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const Ga=32;function qa(t,e,n,{location:r=Ba.location,distance:i=Ba.distance,threshold:o=Ba.threshold,findAllMatches:a=Ba.findAllMatches,minMatchCharLength:s=Ba.minMatchCharLength,includeMatches:c=Ba.includeMatches,ignoreLocation:l=Ba.ignoreLocation}={}){if(e.length>Ga)throw new Error(`Pattern length exceeds max of ${Ga}.`);const u=e.length,h=t.length,f=Math.max(0,Math.min(r,h));let d=o,p=f;const v=s>1||c,m=v?Array(h):[];let y;for(;(y=t.indexOf(e,p))>-1;){let t=Ha(e,{currentLocation:y,expectedLocation:f,distance:i,ignoreLocation:l});if(d=Math.min(t,d),p=y+u,v){let t=0;for(;t<u;)m[y+t]=1,t+=1}}p=-1;let g=[],b=1,_=u+h;const w=1<<u-1;for(let r=0;r<u;r+=1){let o=0,s=_;for(;o<s;){Ha(e,{errors:r,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:l})<=d?o=s:_=s,s=Math.floor((_-o)/2+o)}_=s;let c=Math.max(1,f-s+1),y=a?h:Math.min(f+s,h)+u,S=Array(y+2);S[y+1]=(1<<r)-1;for(let o=y;o>=c;o-=1){let a=o-1,s=n[t.charAt(a)];if(v&&(m[a]=+!!s),S[o]=(S[o+1]<<1|1)&s,r&&(S[o]|=(g[o+1]|g[o])<<1|1|g[o+1]),S[o]&w&&(b=Ha(e,{errors:r,currentLocation:a,expectedLocation:f,distance:i,ignoreLocation:l}),b<=d)){if(d=b,p=a,p<=f)break;c=Math.max(1,2*f-p)}}if(Ha(e,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:l})>d)break;g=S}const S={isMatch:p>=0,score:Math.max(.001,b)};if(v){const t=function(t=[],e=Ba.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=t.length;o<a;o+=1){let a=t[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}(m,s);t.length?c&&(S.indices=t):S.isMatch=!1}return S}function Ya(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class Va{constructor(t,{location:e=Ba.location,threshold:n=Ba.threshold,distance:r=Ba.distance,includeMatches:i=Ba.includeMatches,findAllMatches:o=Ba.findAllMatches,minMatchCharLength:a=Ba.minMatchCharLength,isCaseSensitive:s=Ba.isCaseSensitive,ignoreLocation:c=Ba.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:Ya(t),startIndex:e})},u=this.pattern.length;if(u>Ga){let t=0;const e=u%Ga,n=u-e;for(;t<n;)l(this.pattern.substr(t,Ga),t),t+=Ga;if(e){const t=u-Ga;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let l=[],u=0,h=!1;this.chunks.forEach(({pattern:e,alphabet:f,startIndex:d})=>{const{isMatch:p,score:v,indices:m}=qa(t,e,f,{location:r+d,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});p&&(h=!0),u+=v,p&&m&&(l=[...l,...m])});let f={isMatch:h,score:h?u/this.chunks.length:1};return h&&n&&(f.indices=l),f}}class Wa{constructor(t){this.pattern=t}static isMultiMatch(t){return $a(t,this.multiRegex)}static isSingleMatch(t){return $a(t,this.singleRegex)}search(){}}function $a(t,e){const n=t.match(e);return n?n[1]:null}class Ka extends Wa{constructor(t,{location:e=Ba.location,threshold:n=Ba.threshold,distance:r=Ba.distance,includeMatches:i=Ba.includeMatches,findAllMatches:o=Ba.findAllMatches,minMatchCharLength:a=Ba.minMatchCharLength,isCaseSensitive:s=Ba.isCaseSensitive,ignoreLocation:c=Ba.ignoreLocation}={}){super(t),this._bitapSearch=new Va(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Za extends Wa{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,r.push([e,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const Xa=[class extends Wa{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Za,class extends Wa{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Wa{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Wa{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Wa{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends Wa{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Ka],Ja=Xa.length,Qa=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const ts=new Set([Ka.type,Za.type]);class es{constructor(t,{isCaseSensitive:e=Ba.isCaseSensitive,includeMatches:n=Ba.includeMatches,minMatchCharLength:r=Ba.minMatchCharLength,ignoreLocation:i=Ba.ignoreLocation,findAllMatches:o=Ba.findAllMatches,location:a=Ba.location,threshold:s=Ba.threshold,distance:c=Ba.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map(t=>{let n=t.trim().split(Qa).filter(t=>t&&!!t.trim()),r=[];for(let t=0,i=n.length;t<i;t+=1){const i=n[t];let o=!1,a=-1;for(;!o&&++a<Ja;){const t=Xa[a];let n=t.isMultiMatch(i);n&&(r.push(new t(n,e)),o=!0)}if(!o)for(a=-1;++a<Ja;){const t=Xa[a];let n=t.isSingleMatch(i);if(n){r.push(new t(n,e));break}}}return r})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,o=[],a=0;for(let r=0,s=e.length;r<s;r+=1){const s=e[r];o.length=0,i=0;for(let e=0,r=s.length;e<r;e+=1){const r=s[e],{isMatch:c,indices:l,score:u}=r.search(t);if(!c){a=0,i=0,o.length=0;break}if(i+=1,a+=u,n){const t=r.constructor.type;ts.has(t)?o=[...o,...l]:o.push(l)}}if(i){let t={isMatch:!0,score:a/i};return n&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const ns=[];function rs(t,e){for(let n=0,r=ns.length;n<r;n+=1){let r=ns[n];if(r.condition(t,e))return new r(t,e)}return new Va(t,e)}const is="$and",os="$or",as="$path",ss="$val",cs=t=>!(!t[is]&&!t[os]),ls=t=>({[is]:Object.keys(t).map(e=>({[e]:t[e]}))});function us(t,e,{auto:n=!0}={}){const r=t=>{let i=Object.keys(t);const o=(t=>!!t[as])(t);if(!o&&i.length>1&&!cs(t))return r(ls(t));if((t=>!xa(t)&&Oa(t)&&!cs(t))(t)){const r=o?t[as]:i[0],a=o?t[ss]:t[r];if(!Ta(a))throw new Error((t=>`Invalid value for key ${t}`)(r));const s={keyId:Da(r),pattern:a};return n&&(s.searcher=rs(a,e)),s}let a={children:[],operator:i[0]};return i.forEach(e=>{const n=t[e];xa(n)&&n.forEach(t=>{a.children.push(r(t))})}),a};return cs(t)||(t=ls(t)),r(t)}function hs(t,e){const n=t.matches;e.matches=[],Ca(n)&&n.forEach(t=>{if(!Ca(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let i={indices:n,value:r};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)})}function fs(t,e){e.score=t.score}class ds{constructor(t,e={},n){this.options=Ea(Ea({},Ba),e),this.options.useExtendedSearch,this._keyStore=new Ra(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Ua))throw new Error("Incorrect 'index' type");this._myIndex=e||za(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ca(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=Ta(t)?Ta(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=Ba.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:r,score:i})=>{const o=t?t.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(e?1:r))}),t.score=n})}(s,{ignoreFieldNorm:a}),i&&s.sort(o),Aa(e)&&e>-1&&(s=s.slice(0,e)),function(t,e,{includeMatches:n=Ba.includeMatches,includeScore:r=Ba.includeScore}={}){const i=[];return n&&i.push(hs),r&&i.push(fs),t.map(t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return i.length&&i.forEach(e=>{e(t,r)}),r})}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=rs(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:t,i:n,n:i})=>{if(!Ca(t))return;const{isMatch:o,score:a,indices:s}=e.searchIn(t);o&&r.push({item:t,idx:n,matches:[{score:a,value:t,norm:i,indices:s}]})}),r}_searchLogical(t){const e=us(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:i}=t,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return o&&o.length?[{idx:r,item:e,matches:o}]:[]}const i=[];for(let o=0,a=t.children.length;o<a;o+=1){const a=t.children[o],s=n(a,e,r);if(s.length)i.push(...s);else if(t.operator===is)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach(({$:t,i:r})=>{if(Ca(t)){let a=n(e,t,r);a.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},o.push(i[r])),a.forEach(({matches:t})=>{i[r].matches.push(...t)}))}}),o}_searchObjectList(t){const e=rs(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:t,i:r})=>{if(!Ca(t))return;let o=[];n.forEach((n,r)=>{o.push(...this._findMatches({key:n,value:t[r],searcher:e}))}),o.length&&i.push({idx:r,item:t,matches:o})}),i}_findMatches({key:t,value:e,searcher:n}){if(!Ca(e))return[];let r=[];if(xa(e))e.forEach(({v:e,i,n:o})=>{if(!Ca(e))return;const{isMatch:a,score:s,indices:c}=n.searchIn(e);a&&r.push({score:s,key:t,value:e,idx:i,norm:o,indices:c})});else{const{v:i,n:o}=e,{isMatch:a,score:s,indices:c}=n.searchIn(i);a&&r.push({score:s,key:t,value:i,norm:o,indices:c})}return r}}ds.version="7.0.0",ds.createIndex=za,ds.parseIndex=function(t,{getFn:e=Ba.getFn,fieldNormWeight:n=Ba.fieldNormWeight}={}){const{keys:r,records:i}=t,o=new Ua({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},ds.config=Ba,ds.parseQuery=us,function(...t){ns.push(...t)}(es);var ps=function(){function t(t){this._haystack=[],this._fuseOptions=Qi(Qi({},t.fuseOptions),{keys:to([],t.searchFields,!0),includeMatches:!0})}return t.prototype.index=function(t){this._haystack=t,this._fuse&&this._fuse.setCollection(t)},t.prototype.reset=function(){this._haystack=[],this._fuse=void 0},t.prototype.isEmptyIndex=function(){return!this._haystack.length},t.prototype.search=function(t){return this._fuse||(this._fuse=new ds(this._haystack,this._fuseOptions)),this._fuse.search(t).map(function(t,e){return{item:t.item,score:t.score||0,rank:e+1}})},t}();var vs=function(t,e,n){var r=t.dataset,i=e.customProperties,o=e.labelClass,a=e.labelDescription;o&&(r.labelClass=Xo(o).join(" ")),a&&(r.labelDescription=a),n&&i&&("string"==typeof i?r.customProperties=i:"object"!=typeof i||function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(i)||(r.customProperties=JSON.stringify(i)))},ms=function(t,e,n){var r=e&&t.querySelector("label[for='".concat(e,"']")),i=r&&r.innerText;i&&n.setAttribute("aria-label",i)},ys={containerOuter:function(t,e,n,r,i,o,a){var s=t.classNames.containerOuter,c=document.createElement("div");return Qo(c,s),c.dataset.type=o,e&&(c.dir=e),r&&(c.tabIndex=0),n&&(c.setAttribute("role",i?"combobox":"listbox"),i?c.setAttribute("aria-autocomplete","list"):a||ms(this._docRoot,this.passedElement.element.id,c),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false")),a&&c.setAttribute("aria-labelledby",a),c},containerInner:function(t){var e=t.classNames.containerInner,n=document.createElement("div");return Qo(n,e),n},itemList:function(t,e){var n=t.searchEnabled,r=t.classNames,i=r.list,o=r.listSingle,a=r.listItems,s=document.createElement("div");return Qo(s,i),Qo(s,e?o:a),this._isSelectElement&&n&&s.setAttribute("role","listbox"),s},placeholder:function(t,e){var n=t.allowHTML,r=t.classNames.placeholder,i=document.createElement("div");return Qo(i,r),Ko(i,n,e),i},item:function(t,e,n){var r=t.allowHTML,i=t.removeItemButtonAlignLeft,o=t.removeItemIconText,a=t.removeItemLabelText,s=t.classNames,c=s.item,l=s.button,u=s.highlightedState,h=s.itemSelectable,f=s.placeholder,d=Vo(e.value),p=document.createElement("div");if(Qo(p,c),e.labelClass){var v=document.createElement("span");Ko(v,r,e.label),Qo(v,e.labelClass),p.appendChild(v)}else Ko(p,r,e.label);if(p.dataset.item="",p.dataset.id=e.id,p.dataset.value=d,vs(p,e,!0),(e.disabled||this.containerOuter.isDisabled)&&p.setAttribute("aria-disabled","true"),this._isSelectElement&&(p.setAttribute("aria-selected","true"),p.setAttribute("role","option")),e.placeholder&&(Qo(p,f),p.dataset.placeholder=""),Qo(p,e.highlighted?u:h),n){e.disabled&&ta(p,h),p.dataset.deletable="";var m=document.createElement("button");m.type="button",Qo(m,l),Ko(m,!0,qo(o,e.value));var y=qo(a,e.value);y&&m.setAttribute("aria-label",y),m.dataset.button="",i?p.insertAdjacentElement("afterbegin",m):p.appendChild(m)}return p},choiceList:function(t,e){var n=t.classNames.list,r=document.createElement("div");return Qo(r,n),e||r.setAttribute("aria-multiselectable","true"),r.setAttribute("role","listbox"),r},choiceGroup:function(t,e){var n=t.allowHTML,r=t.classNames,i=r.group,o=r.groupHeading,a=r.itemDisabled,s=e.id,c=e.label,l=e.disabled,u=Vo(c),h=document.createElement("div");Qo(h,i),l&&Qo(h,a),h.setAttribute("role","group"),h.dataset.group="",h.dataset.id=s,h.dataset.value=u,l&&h.setAttribute("aria-disabled","true");var f=document.createElement("div");return Qo(f,o),Ko(f,n,c||""),h.appendChild(f),h},choice:function(t,e,n,r){var i=t.allowHTML,o=t.classNames,a=o.item,s=o.itemChoice,c=o.itemSelectable,l=o.selectedState,u=o.itemDisabled,h=o.description,f=o.placeholder,d=e.label,p=Vo(e.value),v=document.createElement("div");v.id=e.elementId,Qo(v,a),Qo(v,s),r&&"string"==typeof d&&(d=$o(i,d),d={trusted:d+=" (".concat(r,")")});var m=v;if(e.labelClass){var y=document.createElement("span");Ko(y,i,d),Qo(y,e.labelClass),m=y,v.appendChild(y)}else Ko(v,i,d);if(e.labelDescription){var g="".concat(e.elementId,"-description");m.setAttribute("aria-describedby",g);var b=document.createElement("span");Ko(b,i,e.labelDescription),b.id=g,Qo(b,h),v.appendChild(b)}return e.selected&&Qo(v,l),e.placeholder&&Qo(v,f),v.setAttribute("role",e.group?"treeitem":"option"),v.dataset.choice="",v.dataset.id=e.id,v.dataset.value=p,n&&(v.dataset.selectText=n),e.group&&(v.dataset.groupId="".concat(e.group.id)),vs(v,e,!1),e.disabled?(Qo(v,u),v.dataset.choiceDisabled="",v.setAttribute("aria-disabled","true")):(Qo(v,c),v.dataset.choiceSelectable=""),v},input:function(t,e){var n=t.classNames,r=n.input,i=n.inputCloned,o=t.labelId,a=document.createElement("input");return a.type="search",Qo(a,r),Qo(a,i),a.autocomplete="off",a.autocapitalize="off",a.spellcheck=!1,a.setAttribute("aria-autocomplete","list"),e?a.setAttribute("aria-label",e):o||ms(this._docRoot,this.passedElement.element.id,a),a},dropdown:function(t){var e=t.classNames,n=e.list,r=e.listDropdown,i=document.createElement("div");return Qo(i,n),Qo(i,r),i.setAttribute("aria-expanded","false"),i},notice:function(t,e,n){var r=t.classNames,i=r.item,o=r.itemChoice,a=r.addChoice,s=r.noResults,c=r.noChoices,l=r.notice;void 0===n&&(n=_a);var u=document.createElement("div");switch(Ko(u,!0,e),Qo(u,i),Qo(u,o),Qo(u,l),n){case ba:Qo(u,a);break;case ga:Qo(u,s);break;case ya:Qo(u,c)}return n===ba&&(u.dataset.choiceSelectable="",u.dataset.choice=""),u},option:function(t){var e=Vo(t.label),n=new Option(e,t.value,!1,t.selected);return vs(n,t,!0),n.disabled=t.disabled,t.selected&&n.setAttribute("selected",""),n}},gs="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,bs={},_s=function(t){if(t)return t.dataset.id?parseInt(t.dataset.id,10):void 0},ws="[data-choice-selectable]",Ss=function(){function t(e,n){void 0===e&&(e="[data-choice]"),void 0===n&&(n={});var r=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var i=t.defaults;this.config=Qi(Qi(Qi({},i.allOptions),i.options),n),Ro.forEach(function(t){r.config[t]=Qi(Qi(Qi({},i.allOptions[t]),i.options[t]),n[t])});var o=this.config;o.silent||this._validateConfig();var a=o.shadowRoot||document.documentElement;this._docRoot=a;var s="string"==typeof e?a.querySelector(e):e;if(!s||"object"!=typeof s||!function(t){return"INPUT"===t.tagName}(s)&&!ha(s)){if(!s&&"string"==typeof e)throw TypeError("Selector ".concat(e," failed to find an element"));throw TypeError("Expected one of the following types text|select-one|select-multiple")}var c=s.type,l=c===Lo;(l||1!==o.maxItemCount)&&(o.singleModeForMultiSelect=!1),o.singleModeForMultiSelect&&(c=Do);var u=c===jo,h=c===Do,f=u||h;if(this._elementType=c,this._isTextElement=l,this._isSelectOneElement=u,this._isSelectMultipleElement=h,this._isSelectElement=u||h,this._canAddUserChoices=l&&o.addItems||f&&o.addChoices,"boolean"!=typeof o.renderSelectedChoices&&(o.renderSelectedChoices="always"===o.renderSelectedChoices||u),"auto"===o.closeDropdownOnSelect?o.closeDropdownOnSelect=l||u||o.singleModeForMultiSelect:o.closeDropdownOnSelect=ca(o.closeDropdownOnSelect),o.placeholder&&(o.placeholderValue?this._hasNonChoicePlaceholder=!0:s.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,o.placeholderValue=s.dataset.placeholder)),n.addItemFilter&&"function"!=typeof n.addItemFilter){var d=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);o.addItemFilter=d.test.bind(d)}if(this._isTextElement)this.passedElement=new sa({element:s,classNames:o.classNames});else{var p=s;this.passedElement=new fa({element:p,classNames:o.classNames,template:function(t){return r._templates.option(t)},extractPlaceholder:o.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new ma(o),this._currentValue="",o.searchEnabled=!l&&o.searchEnabled||h,this._canSearch=o.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(t,e){var n=t.id||t.name&&"".concat(t.name,"-").concat(zo(2))||zo(4);return n=n.replace(/(:|\.|\[|\]|,)/g,""),"".concat(e,"-").concat(n)}(s,"choices-"),this._direction=s.dir,!this._direction){var v=window.getComputedStyle(s).direction;v!==window.getComputedStyle(document.documentElement).direction&&(this._direction=v)}if(this._idNames={itemChoice:"item-choice"},this._templates=i.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return o.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0,void(this.initialisedOK=!1);this.init(),this._initialItems=this._store.items.map(function(t){return t.value})}return Object.defineProperty(t,"defaults",{get:function(){return Object.preventExtensions({get options(){return bs},get allOptions(){return da},get templates(){return ys}})},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(!this.initialised&&void 0===this.initialisedOK){var t;this._searcher=(t=this.config,new ps(t)),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;"function"==typeof e&&e.call(this)}},t.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=t.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},t.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},t.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},t.prototype.highlightItem=function(t,e){if(void 0===e&&(e=!0),!t||!t.id)return this;var n=this._store.items.find(function(e){return e.id===t.id});return!n||n.highlighted||(this._store.dispatch(Uo(n,!0)),e&&this.passedElement.triggerEvent(bo,this._getChoiceForOutput(n))),this},t.prototype.unhighlightItem=function(t,e){if(void 0===e&&(e=!0),!t||!t.id)return this;var n=this._store.items.find(function(e){return e.id===t.id});return n&&n.highlighted?(this._store.dispatch(Uo(n,!1)),e&&this.passedElement.triggerEvent(wo,this._getChoiceForOutput(n)),this):this},t.prototype.highlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted||(t._store.dispatch(Uo(e,!0)),t.passedElement.triggerEvent(bo,t._getChoiceForOutput(e)))})}),this},t.prototype.unhighlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted&&(t._store.dispatch(Uo(e,!1)),t.passedElement.triggerEvent(bo,t._getChoiceForOutput(e)))})}),this},t.prototype.removeActiveItemsByValue=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(e){return e.value===t}).forEach(function(t){return e._removeItem(t)})}),this},t.prototype.removeActiveItems=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(e){return e.id!==t}).forEach(function(t){return e._removeItem(t)})}),this},t.prototype.removeHighlightedItems=function(t){var e=this;return void 0===t&&(t=!1),this._store.withTxn(function(){e._store.highlightedActiveItems.forEach(function(n){e._removeItem(n),t&&e._triggerChange(n.value)})}),this},t.prototype.showDropdown=function(t){var e=this;return this.dropdown.isActive||(void 0===t&&(t=!this._canSearch),requestAnimationFrame(function(){e.dropdown.show();var n=e.dropdown.element.getBoundingClientRect();e.containerOuter.open(n.bottom,n.height),t||e.input.focus(),e.passedElement.triggerEvent(ho)})),this},t.prototype.hideDropdown=function(t){var e=this;return this.dropdown.isActive?(requestAnimationFrame(function(){e.dropdown.hide(),e.containerOuter.close(),!t&&e._canSearch&&(e.input.removeActiveDescendant(),e.input.blur()),e.passedElement.triggerEvent(fo)}),this):this},t.prototype.getValue=function(t){var e=this,n=this._store.items.map(function(n){return t?n.value:e._getChoiceForOutput(n)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?n[0]:n},t.prototype.setValue=function(t){var e=this;return this.initialisedOK?(this._store.withTxn(function(){t.forEach(function(t){t&&e._addChoice(ua(t,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},t.prototype.setChoiceByValue=function(t){var e=this;return this.initialisedOK?(this._isTextElement||(this._store.withTxn(function(){(Array.isArray(t)?t:[t]).forEach(function(t){return e._findAndSelectChoiceByValue(t)}),e.unhighlightAll()}),this._searcher.reset()),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},t.prototype.setChoices=function(t,e,n,r,i,o){var a=this;if(void 0===t&&(t=[]),void 0===e&&(e="value"),void 0===n&&(n="label"),void 0===r&&(r=!1),void 0===i&&(i=!0),void 0===o&&(o=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof e||!e)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if("function"==typeof t){var s=t(this);if("function"==typeof Promise&&s instanceof Promise)return new Promise(function(t){return requestAnimationFrame(t)}).then(function(){return a._handleLoadingState(!0)}).then(function(){return s}).then(function(t){return a.setChoices(t,e,n,r,i,o)}).catch(function(t){a.config.silent||console.error(t)}).then(function(){return a._handleLoadingState(!1)}).then(function(){return a});if(!Array.isArray(s))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof s));return this.setChoices(s,e,n,!1)}if(!Array.isArray(t))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){i&&(a._isSearching=!1),r&&a.clearChoices(!0,o);var s="value"===e,c="label"===n;t.forEach(function(t){if("choices"in t){var r=t;c||(r=Qi(Qi({},r),{label:r[n]})),a._addGroup(ua(r,!0))}else{var i=t;c&&s||(i=Qi(Qi({},i),{value:i[e],label:i[n]}));var o=ua(i,!1);a._addChoice(o),o.placeholder&&!a._hasNonChoicePlaceholder&&(a._placeholderValue=Wo(o.label))}}),a.unhighlightAll()}),this._searcher.reset(),this},t.prototype.refresh=function(t,e,n){var r=this;return void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1),this._isSelectElement?(this._store.withTxn(function(){var i=r.passedElement.optionsAsChoices(),o={};n||r._store.items.forEach(function(t){t.id&&t.active&&t.selected&&(o[t.value]=!0)}),r.clearStore(!1);var a=function(t){n?r._store.dispatch(Fo(t)):o[t.value]&&(t.selected=!0)};i.forEach(function(t){"choices"in t?t.choices.forEach(a):a(t)}),r._addPredefinedChoices(i,e,t),r._isSearching&&r._searchChoices(r.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},t.prototype.removeChoice=function(t){var e=this._store.choices.find(function(e){return e.value===t});return e?(this._clearNotice(),this._store.dispatch(function(t){return{type:ro,choice:t}}(e)),this._searcher.reset(),e.selected&&this.passedElement.triggerEvent(go,this._getChoiceForOutput(e)),this):this},t.prototype.clearChoices=function(t,e){var n=this;return void 0===t&&(t=!0),void 0===e&&(e=!1),t&&(e?this.passedElement.element.replaceChildren(""):this.passedElement.element.querySelectorAll(":not([selected])").forEach(function(t){t.remove()})),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.withTxn(function(){var t=e?[]:n._store.items;n._store.reset(),t.forEach(function(t){n._store.dispatch(No(t)),n._store.dispatch(Bo(t))})}),this._searcher.reset(),this},t.prototype.clearStore=function(t){return void 0===t&&(t=!0),this.clearChoices(t,!0),this._stopSearch(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this},t.prototype.clearInput=function(){var t=!this._isSelectOneElement;return this.input.clear(t),this._stopSearch(),this},t.prototype._validateConfig=function(){var t,e,n,r,i=this.config,o=(t=i,e=da,n=Object.keys(t).sort(),r=Object.keys(e).sort(),n.filter(function(t){return r.indexOf(t)<0}));o.length&&console.warn("Unknown config option(s) passed",o.join(", ")),i.allowHTML&&i.allowHtmlUserInput&&(i.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),i.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},t.prototype._render=function(t){void 0===t&&(t={choices:!0,groups:!0,items:!0}),this._store.inTxn()||(this._isSelectElement&&(t.choices||t.groups)&&this._renderChoices(),t.items&&this._renderItems())},t.prototype._renderChoices=function(){var t=this;if(this._canAddItems()){var e=this.config,n=this._isSearching,r=this._store,i=r.activeGroups,o=r.activeChoices,a=0;if(n&&e.searchResultLimit>0?a=e.searchResultLimit:e.renderChoiceLimit>0&&(a=e.renderChoiceLimit),this._isSelectElement){var s=o.filter(function(t){return!t.element});s.length&&this.passedElement.addOptions(s)}var c=document.createDocumentFragment(),l=function(t){return t.filter(function(t){return!t.placeholder&&(n?!!t.rank:e.renderSelectedChoices||!t.selected)})},u=!1,h=function(r,i,o){n?r.sort(Zo):e.shouldSort&&r.sort(e.sorter);var s=r.length;s=!i&&a&&s>a?a:s,s--,r.every(function(r,i){var a=r.choiceEl||t._templates.choice(e,r,e.itemSelectText,o);return r.choiceEl=a,c.appendChild(a),!n&&r.selected||(u=!0),i<s})};o.length&&(e.resetScrollPosition&&requestAnimationFrame(function(){return t.choiceList.scrollToTop()}),this._hasNonChoicePlaceholder||n||!this._isSelectOneElement||h(o.filter(function(t){return t.placeholder&&!t.group}),!1,void 0),i.length&&!n?(e.shouldSort&&i.sort(e.sorter),h(o.filter(function(t){return!t.placeholder&&!t.group}),!1,void 0),i.forEach(function(r){var i=l(r.choices);if(i.length){if(r.label){var o=r.groupEl||t._templates.choiceGroup(t.config,r);r.groupEl=o,o.remove(),c.appendChild(o)}h(i,!0,e.appendGroupInSearch&&n?r.label:void 0)}})):h(l(o),!1,void 0)),u||!n&&c.children.length&&e.renderSelectedChoices||(this._notice||(this._notice={text:Yo(n?e.noResultsText:e.noChoicesText),type:n?ga:ya}),c.replaceChildren("")),this._renderNotice(c),this.choiceList.element.replaceChildren(c),u&&this._highlightChoice()}},t.prototype._renderItems=function(){var t=this,e=this._store.items||[],n=this.itemList.element,r=this.config,i=document.createDocumentFragment(),o=function(t){return n.querySelector('[data-item][data-id="'.concat(t.id,'"]'))},a=function(e){var n=e.itemEl;n&&n.parentElement||(n=o(e)||t._templates.item(r,e,r.removeItemButton),e.itemEl=n,i.appendChild(n))};e.forEach(a);var s=!!i.childNodes.length;if(this._isSelectOneElement){var c=n.children.length;if(s||c>1){var l=n.querySelector(Jo(r.classNames.placeholder));l&&l.remove()}else s||c||!this._placeholderValue||(s=!0,a(ua({selected:!0,value:"",label:this._placeholderValue,placeholder:!0},!1)))}s&&(n.append(i),r.shouldSortItems&&!this._isSelectOneElement&&(e.sort(r.sorter),e.forEach(function(t){var e=o(t);e&&(e.remove(),i.append(e))}),n.append(i))),this._isTextElement&&(this.passedElement.value=e.map(function(t){return t.value}).join(r.delimiter))},t.prototype._displayNotice=function(t,e,n){void 0===n&&(n=!0);var r=this._notice;r&&(r.type===e&&r.text===t||r.type===ba&&(e===ga||e===ya))?n&&this.showDropdown(!0):(this._clearNotice(),this._notice=t?{text:t,type:e}:void 0,this._renderNotice(),n&&t&&this.showDropdown(!0))},t.prototype._clearNotice=function(){if(this._notice){var t=this.choiceList.element.querySelector(Jo(this.config.classNames.notice));t&&t.remove(),this._notice=void 0}},t.prototype._renderNotice=function(t){var e=this._notice;if(e){var n=this._templates.notice(this.config,e.text,e.type);t?t.append(n):this.choiceList.prepend(n)}},t.prototype._getChoiceForOutput=function(t,e){return{id:t.id,highlighted:t.highlighted,labelClass:t.labelClass,labelDescription:t.labelDescription,customProperties:t.customProperties,disabled:t.disabled,active:t.active,label:t.label,placeholder:t.placeholder,value:t.value,groupValue:t.group?t.group.label:void 0,element:t.element,keyCode:e}},t.prototype._triggerChange=function(t){null!=t&&this.passedElement.triggerEvent(po,{value:t})},t.prototype._handleButtonAction=function(t){var e=this,n=this._store.items;if(n.length&&this.config.removeItems&&this.config.removeItemButton){var r=t&&_s(t.parentElement),i=r&&n.find(function(t){return t.id===r});i&&this._store.withTxn(function(){if(e._removeItem(i),e._triggerChange(i.value),e._isSelectOneElement&&!e._hasNonChoicePlaceholder){var t=(e.config.shouldSort?e._store.choices.reverse():e._store.choices).find(function(t){return t.placeholder});t&&(e._addItem(t),e.unhighlightAll(),t.value&&e._triggerChange(t.value))}})}},t.prototype._handleItemAction=function(t,e){var n=this;void 0===e&&(e=!1);var r=this._store.items;if(r.length&&this.config.removeItems&&!this._isSelectOneElement){var i=_s(t);i&&(r.forEach(function(t){t.id!==i||t.highlighted?!e&&t.highlighted&&n.unhighlightItem(t):n.highlightItem(t)}),this.input.focus())}},t.prototype._handleChoiceAction=function(t){var e=this,n=_s(t),r=n&&this._store.getChoiceById(n);if(!r||r.disabled)return!1;var i=this.dropdown.isActive;if(!r.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){e._addItem(r,!0,!0),e.clearInput(),e.unhighlightAll()}),this._triggerChange(r.value)}return i&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},t.prototype._handleBackspace=function(t){var e=this.config;if(e.removeItems&&t.length){var n=t[t.length-1],r=t.some(function(t){return t.highlighted});e.editItems&&!r&&n?(this.input.value=n.value,this.input.setWidth(),this._removeItem(n),this._triggerChange(n.value)):(r||this.highlightItem(n,!1),this.removeHighlightedItems(!0))}},t.prototype._loadChoices=function(){var t,e=this,n=this.config;if(this._isTextElement){if(this._presetChoices=n.items.map(function(t){return ua(t,!1)}),this.passedElement.value){var r=this.passedElement.value.split(n.delimiter).map(function(t){return ua(t,!1,e.config.allowHtmlUserInput)});this._presetChoices=this._presetChoices.concat(r)}this._presetChoices.forEach(function(t){t.selected=!0})}else if(this._isSelectElement){this._presetChoices=n.choices.map(function(t){return ua(t,!0)});var i=this.passedElement.optionsAsChoices();i&&(t=this._presetChoices).push.apply(t,i)}},t.prototype._handleLoadingState=function(t){void 0===t&&(t=!0);var e=this.itemList.element;t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?e.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(e.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},t.prototype._handleSearch=function(t){if(this.input.isFocussed)if(null!=t&&t.length>=this.config.searchFloor){var e=this.config.searchChoices?this._searchChoices(t):0;null!==e&&this.passedElement.triggerEvent(mo,{value:t,resultCount:e})}else this._store.choices.some(function(t){return!t.active})&&this._stopSearch()},t.prototype._canAddItems=function(){var t=this.config,e=t.maxItemCount,n=t.maxItemText;return!t.singleModeForMultiSelect&&e>0&&e<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice("function"==typeof n?n(e):n,ba),!1):(this._notice&&this._notice.type===ba&&this._clearNotice(),!0)},t.prototype._canCreateItem=function(t){var e=this.config,n=!0,r="";if((n&&"function"==typeof e.addItemFilter&&!e.addItemFilter(t)&&(n=!1,r=qo(e.customAddItemText,t)),n)&&this._store.choices.find(function(n){return e.valueComparer(n.value,t)})){if(this._isSelectElement)return this._displayNotice("",ba),!1;e.duplicateItemsAllowed||(n=!1,r=qo(e.uniqueItemText,t))}return n&&(r=qo(e.addItemText,t)),r&&this._displayNotice(r,ba),n},t.prototype._searchChoices=function(t){var e=t.trim().replace(/\s{2,}/," ");if(!e.length||e===this._currentValue)return null;var n=this._searcher;n.isEmptyIndex()&&n.index(this._store.searchableChoices);var r=n.search(e);this._currentValue=e,this._highlightPosition=0,this._isSearching=!0;var i=this._notice;return(i&&i.type)!==ba&&(r.length?this._clearNotice():this._displayNotice(Yo(this.config.noResultsText),ga)),this._store.dispatch(function(t){return{type:io,results:t}}(r)),r.length},t.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch({type:oo,active:!0}),this.passedElement.triggerEvent(mo,{value:"",resultCount:0}))},t.prototype._addEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,n=this.input.element;t.addEventListener("touchend",this._onTouchEnd,!0),e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("click",this._onClick,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})),n.addEventListener("keyup",this._onKeyUp,{passive:!0}),n.addEventListener("input",this._onInput,{passive:!0}),n.addEventListener("focus",this._onFocus,{passive:!0}),n.addEventListener("blur",this._onBlur,{passive:!0}),n.form&&n.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},t.prototype._removeEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,n=this.input.element;t.removeEventListener("touchend",this._onTouchEnd,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("click",this._onClick),t.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)),n.removeEventListener("keyup",this._onKeyUp),n.removeEventListener("input",this._onInput),n.removeEventListener("focus",this._onFocus),n.removeEventListener("blur",this._onBlur),n.form&&n.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},t.prototype._onKeyDown=function(t){var e=t.keyCode,n=this.dropdown.isActive,r=1===t.key.length||2===t.key.length&&t.key.charCodeAt(0)>=55296||"Unidentified"===t.key;switch(this._isTextElement||n||e===Oo||e===So||e===Eo||(this.showDropdown(),!this.input.isFocussed&&r&&(this.input.value+=t.key," "===t.key&&t.preventDefault())),e){case ko:return this._onSelectKey(t,this.itemList.element.hasChildNodes());case Ao:return this._onEnterKey(t,n);case Oo:return this._onEscapeKey(t,n);case Co:case Io:case Po:case Mo:return this._onDirectionKey(t,n);case To:case xo:return this._onDeleteKey(t,this._store.items,this.input.isFocussed)}},t.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},t.prototype._onInput=function(){var t=this.input.value;t?this._canAddItems()&&(this._canSearch&&this._handleSearch(t),this._canAddUserChoices&&(this._canCreateItem(t),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice()))):this._isTextElement?this.hideDropdown(!0):this._stopSearch()},t.prototype._onSelectKey=function(t,e){(t.ctrlKey||t.metaKey)&&e&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},t.prototype._onEnterKey=function(t,e){var n=this,r=this.input.value,i=t.target;if(t.preventDefault(),i&&i.hasAttribute("data-button"))this._handleButtonAction(i);else if(e){var o=this.dropdown.element.querySelector(Jo(this.config.classNames.highlightedState));if(!o||!this._handleChoiceAction(o))if(i&&r){if(this._canAddItems()){var a=!1;this._store.withTxn(function(){if(!(a=n._findAndSelectChoiceByValue(r,!0))){if(!n._canAddUserChoices)return;if(!n._canCreateItem(r))return;n._addChoice(ua(r,!1,n.config.allowHtmlUserInput),!0,!0),a=!0}n.clearInput(),n.unhighlightAll()}),a&&(this._triggerChange(r),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}else this.hideDropdown(!0)}else(this._isSelectElement||this._notice)&&this.showDropdown()},t.prototype._onEscapeKey=function(t,e){e&&(t.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},t.prototype._onDirectionKey=function(t,e){var n,r,i,o=t.keyCode;if(e||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var a=o===Po||o===Mo?1:-1,s=void 0;if(t.metaKey||o===Mo||o===Io)s=a>0?this.dropdown.element.querySelector("".concat(ws,":last-of-type")):this.dropdown.element.querySelector(ws);else{var c=this.dropdown.element.querySelector(Jo(this.config.classNames.highlightedState));s=c?function(t,e,n){void 0===n&&(n=1);for(var r="".concat(n>0?"next":"previous","ElementSibling"),i=t[r];i;){if(i.matches(e))return i;i=i[r]}return null}(c,ws,a):this.dropdown.element.querySelector(ws)}s&&(n=s,r=this.choiceList.element,void 0===(i=a)&&(i=1),(i>0?r.scrollTop+r.offsetHeight>=n.offsetTop+n.offsetHeight:n.offsetTop>=r.scrollTop)||this.choiceList.scrollToChildElement(s,a),this._highlightChoice(s)),t.preventDefault()}},t.prototype._onDeleteKey=function(t,e,n){this._isSelectOneElement||t.target.value||!n||(this._handleBackspace(e),t.preventDefault())},t.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},t.prototype._onTouchEnd=function(t){var e=(t||t.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(e)&&((e===this.containerOuter.element||e===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),t.stopPropagation());this._wasTap=!0},t.prototype._onMouseDown=function(t){var e=t.target;if(e instanceof HTMLElement){if(gs&&this.choiceList.element.contains(e)){var n=this.choiceList.element.firstElementChild;this._isScrollingOnIe="ltr"===this._direction?t.offsetX>=n.offsetWidth:t.offsetX<n.offsetLeft}if(e!==this.input.element){var r=e.closest("[data-button],[data-item],[data-choice]");r instanceof HTMLElement&&("button"in r.dataset?this._handleButtonAction(r):"item"in r.dataset?this._handleItemAction(r,t.shiftKey):"choice"in r.dataset&&this._handleChoiceAction(r)),t.preventDefault()}}},t.prototype._onMouseOver=function(t){var e=t.target;e instanceof HTMLElement&&"choice"in e.dataset&&this._highlightChoice(e)},t.prototype._onClick=function(t){var e=t.target,n=this.containerOuter;n.element.contains(e)?this.dropdown.isActive||n.isDisabled?this._isSelectOneElement&&e!==this.input.element&&!this.dropdown.element.contains(e)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),n.element.focus()):(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},t.prototype._onFocus=function(t){var e=t.target,n=this.containerOuter;if(e&&n.element.contains(e)){var r=e===this.input.element;this._isTextElement?r&&n.addFocusState():this._isSelectMultipleElement?r&&(this.showDropdown(!0),n.addFocusState()):(n.addFocusState(),r&&this.showDropdown(!0))}},t.prototype._onBlur=function(t){var e=t.target,n=this.containerOuter;e&&n.element.contains(e)&&!this._isScrollingOnIe?e===this.input.element?(n.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):e===this.containerOuter.element&&(n.removeFocusState(),this._canSearch||this.hideDropdown(!0)):(this._isScrollingOnIe=!1,this.input.element.focus())},t.prototype._onFormReset=function(){var t=this;this._store.withTxn(function(){t.clearInput(),t.hideDropdown(),t.refresh(!1,!1,!0),t._initialItems.length&&t.setChoiceByValue(t._initialItems)})},t.prototype._highlightChoice=function(t){void 0===t&&(t=null);var e=Array.from(this.dropdown.element.querySelectorAll(ws));if(e.length){var n=t,r=this.config.classNames.highlightedState;Array.from(this.dropdown.element.querySelectorAll(Jo(r))).forEach(function(t){ta(t,r),t.setAttribute("aria-selected","false")}),n?this._highlightPosition=e.indexOf(n):(n=e.length>this._highlightPosition?e[this._highlightPosition]:e[e.length-1])||(n=e[0]),Qo(n,r),n.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(_o,{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}},t.prototype._addItem=function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!1),!t.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(t.id),this._store.dispatch(Bo(t)),e&&(this.passedElement.triggerEvent(yo,this._getChoiceForOutput(t)),n&&this.passedElement.triggerEvent(vo,this._getChoiceForOutput(t)))},t.prototype._removeItem=function(t){if(t.id){this._store.dispatch(Fo(t));var e=this._notice;e&&e.type===ya&&this._clearNotice(),this.passedElement.triggerEvent(go,this._getChoiceForOutput(t))}},t.prototype._addChoice=function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!1),t.id)throw new TypeError("Can not re-add a choice which has already been added");var r=this.config;if(r.duplicateItemsAllowed||!this._store.choices.find(function(e){return r.valueComparer(e.value,t.value)})){this._lastAddedChoiceId++,t.id=this._lastAddedChoiceId,t.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(t.id);var i=r.prependValue,o=r.appendValue;i&&(t.value=i+t.value),o&&(t.value+=o.toString()),(i||o)&&t.element&&(t.element.value=t.value),this._clearNotice(),this._store.dispatch(No(t)),t.selected&&this._addItem(t,e,n)}},t.prototype._addGroup=function(t,e){var n=this;if(void 0===e&&(e=!0),t.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(function(t){return{type:so,group:t}}(t)),t.choices&&(this._lastAddedGroupId++,t.id=this._lastAddedGroupId,t.choices.forEach(function(r){r.group=t,t.disabled&&(r.disabled=!0),n._addChoice(r,e)}))},t.prototype._createTemplates=function(){var t=this,e=this.config.callbackOnCreateTemplates,n={};"function"==typeof e&&(n=e.call(this,Go,$o,Xo));var r={};Object.keys(this._templates).forEach(function(e){r[e]=e in n?n[e].bind(t):t._templates[e].bind(t)}),this._templates=r},t.prototype._createElements=function(){var t=this._templates,e=this.config,n=this._isSelectOneElement,r=e.position,i=e.classNames,o=this._elementType;this.containerOuter=new ra({element:t.containerOuter(e,this._direction,this._isSelectElement,n,e.searchEnabled,o,e.labelId),classNames:i,type:o,position:r}),this.containerInner=new ra({element:t.containerInner(e),classNames:i,type:o,position:r}),this.input=new ia({element:t.input(e,this._placeholderValue),classNames:i,type:o,preventPaste:!e.paste}),this.choiceList=new oa({element:t.choiceList(e,n)}),this.itemList=new oa({element:t.itemList(e,n)}),this.dropdown=new na({element:t.dropdown(e),classNames:i,type:o})},t.prototype._createStructure=function(){var t=this,e=t.containerInner,n=t.containerOuter,r=t.passedElement,i=this.dropdown.element;r.conceal(),e.wrap(r.element),n.wrap(e.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),n.element.appendChild(e.element),n.element.appendChild(i),e.element.appendChild(this.itemList.element),i.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&i.insertBefore(this.input.element,i.firstChild):e.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},t.prototype._initStore=function(){var t=this;this._store.subscribe(this._render).withTxn(function(){t._addPredefinedChoices(t._presetChoices,t._isSelectOneElement&&!t._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},t.prototype._addPredefinedChoices=function(t,e,n){var r=this;(void 0===e&&(e=!1),void 0===n&&(n=!0),e)&&(-1===t.findIndex(function(t){return t.selected})&&t.some(function(t){return!t.disabled&&!("choices"in t)&&(t.selected=!0,!0)}));t.forEach(function(t){"choices"in t?r._isSelectElement&&r._addGroup(t,n):r._addChoice(t,n)})},t.prototype._findAndSelectChoiceByValue=function(t,e){var n=this;void 0===e&&(e=!1);var r=this._store.choices.find(function(e){return n.config.valueComparer(e.value,t)});return!(!r||r.disabled||r.selected)&&(this._addItem(r,!0,e),!0)},t.prototype._generatePlaceholderValue=function(){var t=this.config;if(!t.placeholder)return null;if(this._hasNonChoicePlaceholder)return t.placeholderValue;if(this._isSelectElement){var e=this.passedElement.placeholderOption;return e?e.text:null}return null},t.prototype._warnChoicesInitFailed=function(t){if(!this.config.silent){if(!this.initialised)throw new TypeError("".concat(t," called on a non-initialised instance of Choices"));if(!this.initialisedOK)throw new TypeError("".concat(t," called for an element which has multiple instances of Choices initialised on it"))}},t.version="11.1.0",t}();n(61805);function Es(t){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(t)}function xs(t,e,n){return(e=Ps(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ts(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return As(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(As(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,As(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,As(h,"constructor",l),As(l,"constructor",c),c.displayName="GeneratorFunction",As(l,i,"GeneratorFunction"),As(h),As(h,i,"Generator"),As(h,r,function(){return this}),As(h,"toString",function(){return"[object Generator]"}),(Ts=function(){return{w:o,m:f}})()}function As(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}As=function(t,e,n,r){function o(e,n){As(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},As(t,e,n,r)}function ks(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Os(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){ks(o,r,i,a,s,"next",t)}function s(t){ks(o,r,i,a,s,"throw",t)}a(void 0)})}}function Cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ps(r.key),r)}}function Ps(t){var e=function(t,e){if("object"!=Es(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Es(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Es(e)?e:e+""}var Is=function(){return function(t,e,n){return e&&Cs(t.prototype,e),n&&Cs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"text",value:(e=Os(Ts().m(function t(e){var n,r,i,o;return Ts().w(function(t){for(;;)switch(t.p=t.n){case 0:if(null===(n=navigator)||void 0===n||null===(n=n.clipboard)||void 0===n||!n.writeText){t.n=2;break}return t.n=1,navigator.clipboard.writeText(e);case 1:case 5:case 7:return t.a(2);case 2:if(null===(r=(i=document).queryCommandSupported)||void 0===r||!r.call(i,"copy")){t.n=6;break}if((o=document.createElement("textarea")).value=e,o.style.position="fixed",o.style.width="2em",o.style.height="2em",o.style.padding="0",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",document.body.appendChild(o),o.focus(),o.select(),t.p=3,document.execCommand("copy")){t.n=4;break}throw new Error("Copy command failed");case 4:return t.p=4,document.body.removeChild(o),t.f(4);case 6:throw new Error("None of copying methods are supported by this browser!")}},t,null,[[3,,4,5]])})),function(t){return e.apply(this,arguments)})},{key:"image",value:(t=Os(Ts().m(function t(e){var n;return Ts().w(function(t){for(;;)switch(t.n){case 0:if(navigator.clipboard&&navigator.clipboard.write){t.n=1;break}throw new Error("Clipboard API not supported for images");case 1:return n=new ClipboardItem(xs({},e.type,e)),t.n=2,navigator.clipboard.write([n]);case 2:return t.a(2)}},t)})),function(e){return t.apply(this,arguments)})}]);var t,e}();const Ms=Is;function Rs(t){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(t)}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,js(r.key),r)}}function js(t){var e=function(t,e){if("object"!=Rs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rs(e)?e:e+""}var Ds=function(){return function(t,e,n){return e&&Ls(t.prototype,e),n&&Ls(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"debounce",value:function(t,e,n){var r,i=arguments,o=this;return function(){var a=o,s=i,c=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(a,s)},e),c&&t.apply(a,s)}}}])}();const Ns=Ds;function Bs(t){return Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(t)}function Fs(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Us(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Us(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Us(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hs(r.key),r)}}function Hs(t){var e=function(t,e){if("object"!=Bs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bs(e)?e:e+""}var Gs=function(){return function(t,e,n){return e&&zs(t.prototype,e),n&&zs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"addEventListener",value:function(t,e){var n=this;return this._listeners.has(t)||this._listeners.set(t,new Set),this._listeners.get(t).add(e),function(){return n._listeners.get(t).delete(e)}}},{key:"dispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._listeners.has(t)){var n,r=Fs(this._listeners.get(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;try{i(e)}catch(t){console.error(t)}}}catch(t){r.e(t)}finally{r.f()}}}},{key:"removeEventListener",value:function(t){this._listeners.has(t)&&this._listeners.delete(t)}}])}();!function(t,e,n){(e=Hs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Gs,"_listeners",new Map);const qs=Gs;var Ys,Vs=n(74940),Ws=n.n(Vs);function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function Ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xs(r.key),r)}}function Zs(t,e,n){return(e=Xs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xs(t){var e=function(t,e){if("object"!=$s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$s(e)?e:e+""}var Js=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&Ks(t.prototype,e),n&&Ks(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"isMobile",value:function(){return t._isMobile}},{key:"isTouchDevice",value:function(){return!t._hasHover||t._hasTouch}}])}();Zs(Js,"_isMobile",Ws()({tablet:!0})),Zs(Js,"_hasHover",!(null===(Ys=window.matchMedia("(hover: hover)"))||void 0===Ys||!Ys.matches)),Zs(Js,"_hasTouch","ontouchstart"in window);const Qs=Js;var tc=n(67773),ec=n.n(tc),nc=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),rc="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ic=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),oc="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ic):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)};var ac=["top","right","bottom","left","width","height","size","weight"],sc="undefined"!=typeof MutationObserver,cc=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){oc(o)}function s(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){rc&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sc?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){rc&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;ac.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),lc=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},uc=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||ic},hc=yc(0,0,0,0);function fc(t){return parseFloat(t)||0}function dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+fc(t["border-"+n+"-width"])},0)}function pc(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return hc;var r=uc(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=fc(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=fc(r.width),c=fc(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=dc(r,"left","right")+o),Math.round(c+a)!==n&&(c-=dc(r,"top","bottom")+a)),!function(t){return t===uc(t).document.documentElement}(t)){var l=Math.round(s+o)-e,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return yc(i.left,i.top,s,c)}var vc="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof uc(t).SVGGraphicsElement}:function(t){return t instanceof uc(t).SVGElement&&"function"==typeof t.getBBox};function mc(t){return rc?vc(t)?function(t){var e=t.getBBox();return yc(0,0,e.width,e.height)}(t):pc(t):hc}function yc(t,e,n,r){return{x:t,y:e,width:n,height:r}}var gc=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=yc(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=mc(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),bc=function(t,e){var n,r,i,o,a,s,c,l=(r=(n=e).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),lc(c,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),c);lc(this,{target:t,contentRect:l})},_c=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new nc,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof uc(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new gc(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof uc(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new bc(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),wc="undefined"!=typeof WeakMap?new WeakMap:new nc,Sc=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=cc.getInstance(),r=new _c(e,n,this);wc.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){Sc.prototype[t]=function(){var e;return(e=wc.get(this))[t].apply(e,arguments)}});const Ec=void 0!==ic.ResizeObserver?ic.ResizeObserver:Sc;n(21767),n(77332),n(68707),n(92342),n(70960),n(29455),n(49130),n(69790);function xc(t){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function Tc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||kc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kc(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kc(t,e){if(t){if("string"==typeof t)return Oc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(t,e):void 0}}function Oc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pc(r.key),r)}}function Pc(t){var e=function(t,e){if("object"!=xc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xc(e)?e:e+""}var Ic=function(){return function(t,e,n){return e&&Cc(t.prototype,e),n&&Cc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._table=e,this._board=n,this._teams=this._table.teams,this._isTeamMode=!this._getGameMode().is_solo,this._nbTeams=this._teams.length,this._nbPlayers=this._getNbPlayers()},[{key:"calculate",value:function(t,e,n,r){return null}},{key:"isValid",value:function(){var t,e=Ac(this._teams.entries());try{for(e.s();!(t=e.n()).done;){var n,r=Tc(t.value,2),i=(r[0],Ac(r[1].players.entries()));try{for(i.s();!(n=i.n()).done;){var o=Tc(n.value,2),a=(o[0],o[1]);if(0===this._getNbOpponents(a))return!1}}catch(t){i.e(t)}finally{i.f()}}}catch(t){e.e(t)}finally{e.f()}return this._nbPlayers>=2}},{key:"adjustPlayerFinalRatingPoints",value:function(t,e){return e}},{key:"_setAlgorithmVariables",value:function(){}},{key:"_getNbPlayers",value:function(){var t=0;return Object.values(this._teams).forEach(function(e){Object.values(e.players).forEach(function(e){t++})}),t}},{key:"_getNbOpponents",value:function(t){var e=0;if(this._isTeamMode){var n=null;t:for(var r=0,i=Object.entries(this._teams);r<i.length;r++)for(var o=Tc(i[r],2),a=o[0],s=o[1],c=0,l=Object.values(s.players);c<l.length;c++){if(l[c].name===t.name){n=a;break t}}if(null===n)throw new Error("Could not get player team");for(var u=0,h=Object.entries(this._teams);u<h.length;u++){var f=Tc(h[u],2),d=f[0],p=f[1];d!==n&&(e+=p.players.length)}}else e=this._getNbPlayers()-1;return e}},{key:"_getGameMode",value:function(){var t,e={},n=Ac(this._board.game_modes.entries());try{for(n.s();!(t=n.n()).done;){var r=Tc(t.value,2),i=(r[0],r[1]);if(parseInt(this._board.lobby_type.id)===parseInt(this._table.id_lobby_type)&&parseInt(i.id)===parseInt(this._table.id_game_mode)){e=i;break}}}catch(t){n.e(t)}finally{n.f()}return e}}])}();const Mc=Ic;function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hc(r.key),r)}}function jc(t,e,n){return e=Fc(e),function(t,e){if(e&&("object"==Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dc()?Reflect.construct(e,n||[],Fc(t).constructor):e.apply(t,n))}function Dc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dc=function(){return!!t})()}function Nc(t,e,n,r){var i=Bc(Fc(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Bc(){return Bc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Fc(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Bc.apply(null,arguments)}function Fc(t){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fc(t)}function Uc(t,e){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uc(t,e)}function zc(t,e,n){return(e=Hc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hc(t){var e=function(t,e){if("object"!=Rc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rc(e)?e:e+""}var Gc=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zc(r=jc(this,e,[t,n]),"p",void 0),zc(r,"_scalingFactor",null),zc(r,"_k",null),zc(r,"_sa",null),zc(r,"_ea",null),r._setAlgorithmVariables(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uc(t,e)}(e,t),function(t,e,n){return e&&Lc(t.prototype,e),n&&Lc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"calculate",value:function(t,n,r,i){var o,a=0;this._isTeamMode?(o=n.score-n.penalty,a=i.score-i.penalty):(o=t.scores.reduce(function(t,e){return t+e},0)-t.penalty,a=r.scores.reduce(function(t,e){return t+e},0)-r.penalty);var s=o===a,c=o>a;return this._k=this._scalingFactor/Nc(e,"_getNbOpponents",this,3)([t]),this._sa=c?1:s?.5:0,this._ea=1/(1+Math.pow(10,(r.board_rating-t.board_rating)/400)),this._k*(this._sa-this._ea)}},{key:"isValid",value:function(){return Nc(e,"isValid",this,3)([])&&null!==this._scalingFactor}},{key:"_setAlgorithmVariables",value:function(){var t=this._getGameMode();this._scalingFactor=t.rating_scheme.scaling_factor}}])}(Mc);const qc=Gc;function Yc(t){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(t)}function Vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tl(r.key),r)}}function Wc(t,e,n){return e=Xc(e),function(t,e){if(e&&("object"==Yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$c()?Reflect.construct(e,n||[],Xc(t).constructor):e.apply(t,n))}function $c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($c=function(){return!!t})()}function Kc(t,e,n,r){var i=Zc(Xc(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Zc(){return Zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Xc(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Zc.apply(null,arguments)}function Xc(t){return Xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xc(t)}function Jc(t,e){return Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jc(t,e)}function Qc(t,e,n){return(e=tl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tl(t){var e=function(t,e){if("object"!=Yc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yc(e)?e:e+""}var el=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qc(r=Wc(this,e,[t,n]),"_baseline",null),Qc(r,"_scalingFactor",null),r._setAlgorithmVariables(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jc(t,e)}(e,t),function(t,e,n){return e&&Vc(t.prototype,e),n&&Vc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"calculate",value:function(t,e,n,r){var i,o=0;this._isTeamMode?(i=e.score-e.penalty,o=r.score-r.penalty):(i=t.scores.reduce(function(t,e){return t+e},0)-t.penalty,o=n.scores.reduce(function(t,e){return t+e},0)-n.penalty);var a=i===o,s=i>o,c=t.board_rating<n.board_rating;return a?(c?1:-1)*this._calculateByTieAlgorithm(t,n):(s?1:-1)*this._calculateByWinAlgorithm(s?t:n,s?n:t)}},{key:"isValid",value:function(){return Kc(e,"isValid",this,3)([])&&null!==this._baseline&&null!==this._scalingFactor}},{key:"adjustPlayerFinalRatingPoints",value:function(t,n){return n/Kc(e,"_getNbOpponents",this,3)([t])}},{key:"_calculateByWinAlgorithm",value:function(t,e){return 1+this._baseline*Math.pow(1+Math.max(-9997,e.board_rating-t.board_rating)/9998,this._scalingFactor)}},{key:"_calculateByTieAlgorithm",value:function(t,e){return 1.5*this._scalingFactor*(this._baseline+1)*Math.pow(Math.pow(Math.pow(Math.max(-9997,t.board_rating-e.board_rating)/9998,2),1/3),2)}},{key:"_setAlgorithmVariables",value:function(){var t=this._getGameMode();this._baseline=t.rating_scheme.baseline,this._scalingFactor=t.rating_scheme.scaling_factor}}])}(Mc);const nl=el;function rl(t){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(t)}function il(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||al(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ol(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=al(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function al(t,e){if(t){if("string"==typeof t)return sl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(t,e):void 0}}function sl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ll(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cl(Object(n),!0).forEach(function(e){ul(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ul(t,e,n){return(e=fl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fl(r.key),r)}}function fl(t){var e=function(t,e){if("object"!=rl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rl(e)?e:e+""}var dl=function(){function t(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._table=e,this._board=n,this._isRanked=r}return function(t,e,n){return e&&hl(t.prototype,e),n&&hl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"calculate",value:function(){var e=this;try{var n=this._getRatingSystem();if(!n.isValid())return null;var r={};Object.values(this._table.teams).forEach(function(t){Object.values(t.players).forEach(function(i){var o;r[i.name]=(o=0,Object.values(e._table.teams).forEach(function(e){t.name!==e.name&&Object.values(e.players).forEach(function(r){o+=n.calculate(i,t,r,e)})}),n.adjustPlayerFinalRatingPoints(i,o))})});var i=!this._getGameMode().is_solo,o=this._board.rating_settings.rating_average_by_team;i&&o&&Object.values(this._table.teams).forEach(function(t){var e=0;Object.values(t.players).forEach(function(t){e+=r[t.name]}),e/=t.players.length,Object.values(t.players).forEach(function(t){r[t.name]=e})});var a={},s=this._board.rating_settings.rating_min;return Object.values(this._table.teams).forEach(function(n){Object.values(n.players).forEach(function(i){var o=r[i.name],c=parseFloat(i.board_rating)+o;c<s&&(o=(c=s)-parseFloat(i.board_rating)),c>9999&&(o=(c=9999)-parseFloat(i.board_rating)),a[i.name]={name:i.name,team:n.name,original_rating:parseFloat(i.board_rating),delta:o,final_rating:c,team_position:n.position,in_team_position:i.in_team_position,position:i.position,original_tier:t._getTierByRating(e._board.tiers,parseFloat(i.board_rating)).name,final_tier:t._getTierByRating(e._board.tiers,c).name}})}),Object.values(a).sort(function(t,e){return i?t.team_position!==e.team_position?t.team_position-e.team_position:t.team===e.team?t.position-e.position:0:t.team_position-e.team_position||t.position-e.position}).reduce(function(t,e){return ll(ll({},t),{},ul({},e.name,e))},{})}catch(t){return null}}},{key:"_getRatingSystem",value:function(){var t=null,e=this._getGameMode();if(e.rating_scheme.code.endsWith("elo"))t=new qc(this._table,this._board);else{if(!e.rating_scheme.code.endsWith("mmr"))return null;t=new nl(this._table,this._board)}return t}},{key:"_getGameMode",value:function(){var t,e={},n=ol(this._board.game_modes.entries());try{for(n.s();!(t=n.n()).done;){var r=il(t.value,2),i=(r[0],r[1]);if(parseInt(this._board.lobby_type.id)===parseInt(this._table.id_lobby_type)&&parseInt(i.id)===parseInt(this._table.id_game_mode)){e=i;break}}}catch(t){n.e(t)}finally{n.f()}if(0===Object.values(e).length&&!this._isRanked){var o,a=ol(this._board.game_modes.entries());try{for(a.s();!(o=a.n()).done;){var s=il(o.value,2),c=(s[0],s[1]);e=c,this._table.id_lobby_type=this._board.lobby_type.id,this._table.id_game_mode=c.id;break}}catch(t){a.e(t)}finally{a.f()}}return e}}],[{key:"calculateSubmittedMatch",value:function(e,n){var r,i={},o=ol(e.teams);try{for(o.s();!(r=o.n()).done;){var a,s=r.value,c=ol(s.players);try{for(c.s();!(a=c.n()).done;){var l=a.value;i[l.name]={name:l.name,team:s.name,original_ranking:l.original_ranking?parseInt(l.original_ranking):null,final_ranking:l.final_ranking?parseInt(l.final_ranking):null,original_rating:parseFloat(l.original_rating)>0?parseFloat(l.original_rating):null,delta:parseFloat(l.final_rating)-parseFloat(l.original_rating),final_rating:parseFloat(l.final_rating),team_position:s.position,in_team_position:l.in_team_position,position:l.position,original_tier:t._getTierByRating(n.tiers,parseFloat(l.original_rating)).name,final_tier:t._getTierByRating(n.tiers,parseFloat(l.final_rating)).name}}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}var u=!function(){var t,r={},i=ol(n.game_modes.entries());try{for(i.s();!(t=i.n()).done;){var o=il(t.value,2),a=(o[0],o[1]);if(parseInt(n.lobby_type.id)===parseInt(e.id_lobby_type)&&parseInt(a.id)===parseInt(e.id_game_mode)){r=a;break}}}catch(t){i.e(t)}finally{i.f()}return r}().is_solo;return i=Object.values(i).sort(function(t,e){return u?t.team_position!==e.team_position?t.team_position-e.team_position:t.team===e.team?t.position-e.position:0:t.team_position-e.team_position||t.position-e.position}).reduce(function(t,e){return ll(ll({},t),{},ul({},e.name,e))},{}),0===Object.keys(i).length?null:i}},{key:"calculateBoardRatings",value:function(t,e){var n,r={},i=ol(e.entries());try{for(i.s();!(n=i.n()).done;){var o=il(n.value,2),a=(o[0],o[1]);null!=t&&t[a.name]&&(e.rating=parseFloat(t[a.name].final_rating)),a.rating=parseFloat(a.rating),r[a.name]=a}}catch(t){i.e(t)}finally{i.f()}for(var s=0,c=Object.entries(t);s<c.length;s++){var l=il(c[s],2),u=l[0],h=l[1];null!=r&&r[h.name]||e.push({name:h.name,ranking:null,rating:parseFloat(t[u].final_rating)})}}},{key:"calculateBoardRankings",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={},o=ol(e.entries());try{for(o.s();!(n=o.n()).done;){var a=il(n.value,2),s=(a[0],a[1]);i[s.name]=s}}catch(t){o.e(t)}finally{o.f()}for(var c=0,l=Object.entries(t);c<l.length;c++){var u=il(l[c],2),h=u[0];u[1];t[h].original_ranking=null,t[h].final_ranking=null}for(var f=0,d=Object.entries(t);f<d.length;f++){var p,v=il(d[f],2),m=v[0];v[1];null!=i&&null!==(p=i[m])&&void 0!==p&&p.ranking&&(t[m].original_ranking=parseFloat(i[m].ranking)),null!=i&&i[m]||(i[m]={name:m,ranking:null,rating:null}),i[m].rating=parseFloat(t[m].final_rating)}for(var y=Object.values(i).sort(function(t,e){return parseFloat(e.rating)-parseFloat(t.rating)}),g=function(){var e=il(_[b],2),n=e[0],i=e[1],o=y.findIndex(function(t){return t.name===i.name});if(o>=0&&(t[n].final_ranking=o+1),null===r||r.includes(n))return 1;var a,s=ol(r.entries());try{for(s.s();!(a=s.n()).done;){var c=il(a.value,2),l=(c[0],c[1]);t[l].original_rating>i.original_rating&&(t[n].original_ranking=i.original_ranking+1)}}catch(t){s.e(t)}finally{s.f()}},b=0,_=Object.entries(t);b<_.length;b++)g();var w,S=[],E=ol(y.entries());try{for(E.s();!(w=E.n()).done;){var x=il(w.value,2),T=x[0],A=x[1];A.ranking=T+1,S.push(A)}}catch(t){E.e(t)}finally{E.f()}e=S}},{key:"_getTierByRating",value:function(e,n){var r,i={},o=ol(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!(n>=a.lower_bound))break;i=a}}catch(t){o.e(t)}finally{o.f()}return 0===Object.keys(i).length&&(i=t._getLowestTier(e)),i}},{key:"_getLowestTier",value:function(t){var e,n=1/0,r=null,i=ol(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.lower_bound<n&&(n=o.lower_bound,r=o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"_getMinRating",value:function(e){return parseFloat(t._getLowestTier(e).lower_bound)}}])}();const pl=dl;n(13757),n(7038),n(35024),n(856),n(27329),n(35266);function vl(t){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(t)}function ml(t){return function(t){if(Array.isArray(t))return _l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bl(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||bl(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(t,e){if(t){if("string"==typeof t)return _l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_l(t,e):void 0}}function _l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,El(r.key),r)}}function Sl(t,e,n){return(e=El(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function El(t){var e=function(t,e){if("object"!=vl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vl(e)?e:e+""}var xl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boards=e,this._templateV1="",this._template="",this._error="",this._data=[],this._lines=[]}return function(t,e,n){return e&&wl(t.prototype,e),n&&wl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"error",get:function(){return this._error}},{key:"getTemplate",value:function(){return 1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:2)?this._templateV1:this._template}},{key:"setBoards",value:function(t){return this._boards=t,this}},{key:"parse",value:function(e){var n=this;e=t.normalize(e),this._templateV1="",this._template="",this._error="",this._data=[],this._lines=[];var r=this._getCacheKey(e),i=function(e){var i;n._templateV1="",n._template="",n._error=e,n._data=[],n._lines=[],null===(i=t.parsedMatches)||void 0===i||i.delete(r)};try{var o,a=this._getCacheItem(r);if(null!==a)return a;var s=this._getLobbyComments(e),c=this._getLines(e);if(null===c)return i('Lobby header missing.<br>Expected: "Lobby #number - lobby mode"<br>Example: "Lobby #999 Items FFA"<br>See "Presets".'),null;var l=this._getHeaderLinePosition(c),u=c.findLastIndex(function(t){return n.isPlayerLine(t)}),h=this._getTracksHeaderLinePosition(c,u),f=c,d=[];-1!==h&&(f=c.slice(0,h),d=c.slice(h+1),c=f);var p,v,m,y,g,b=d.length>0,_=[];if(-1===l)return i('Lobby header not found.<br>Expected: "Lobby #number - lobby mode"<br>Example: "Lobby #999 Items FFA"<br>See "Presets".'),null;var w=gl(this._getHeaderData(c[l]),4);if(p=w[0],v=w[1],m=w[2],y=w[3],null===p||null===v||null===m||null===y)return i('Invalid lobby header.<br>Expected: "Lobby #number - lobby mode"<br>Example: "Lobby #999 Items FFA"<br>See "Presets".'),null;if(!(g=this._getBoard(v,m))){var S,E,x=(null===(S=v.code)||void 0===S?void 0:S.charAt(0).toUpperCase())+(null===(E=v.code)||void 0===E?void 0:E.slice(1))||"";return i("Unsupported leaderboard and game mode combination.<br>Leaderboard: ".concat(x,". Game mode: ").concat(m.name,'.<br>See "Presets".')),null}this._data={processedPlayers:[],isTeamMode:this._isTeamMode(g,m),team:null,teams:[],teamNameCharCode:"A".charCodeAt(0),isPreviousLineTeam:!1,previousLineType:"",lastPlayerLinePosition:u},this._lines.push(c[0]+"\n\n");for(var T=1;T<c.length;T++){var A=c[T];if(this._isCommentLine(A))this._lines.push(A+"\n"),this._data.previousLineType="comment";else if(this._isPenaltyLine(A))this._processTeamPenaltyLine(A);else if(u>T&&this._isPossibleTeamLine(A)){if(T===c.length-1)continue;this._processTeamLine(A),this._data.previousLineType="team"}else if(this.isPlayerLine(A)){if(!this._processPlayerLine(A))return null;this._data.previousLineType="player"}else b||_.push(A)}if(this._data.teams)for(var k=this._data.teams.length-1;k>=0;k--){var O=this._data.teams[k];if(0===O.players.length){this._data.teams.splice(k,1);var C,P=yl(this._lines.entries());try{for(P.s();!(C=P.n()).done;){var I=gl(C.value,2),M=I[0];I[1].trim()===O.name.trim()&&this._lines.splice(M,1)}}catch(t){P.e(t)}finally{P.f()}}}if(this._template=(s.length?s.join("\n")+"\n\n":"")+this._lines.join("").replace(/\n{3,}/g,"\n\n").trim(),!this._areTeamsValid(m))return i(this._error),null;if(!this._arePlayersValid(m))return i(this._error),null;this._data.teams=this.sortTeams(this._data.teams);var R={id:String(g.id)+String(p||0)+String(v.id)+String(m.id),code:null,number:p,id_board:g.id,id_lobby_type:v.id,id_game_mode:m.id,played_at:this._getDate(),teams:this._data.teams,is_solo:!this._data.isTeamMode,tracks:this._extractTracks(d.length>0?d:_,null===(o=v)||void 0===o?void 0:o.code)};return this._templateV1=this._transformTemplateToV1(R),this._setCacheItem(r,R),this._data=[],this._lines=[],R}catch(t){return i("Invalid scores."),null}}},{key:"createPresetTemplate",value:function(t,e){if("example"===t)return"team"===e?"\nLobby #999999 - 4 vs. 4\n\nTeam A - description\nPlayer_1 [pe] 2|10|1|8|8|8|1|5|8|10-8\nPlayer_2 [ae] 5|8|8|10|10|10|6|4|6|4\nPlayer_3 [mx] 10|2|3|6|4|2|4|3|3|8\nPlayer_4 [sa] 6|6|5|2|6|3|3|8|2|6\n\nTeam B (-10)\nPlayer_5 [ar] 4|3|2|5|5|6|8|10|5|1\nPlayer_6 [jp] 1|1|4|3|3|5|2|1|10|3\nPlayer_7 [fi] 8|4|6|1|1|1|5|2|1|5-2\nPlayer_8 [pl] 3|5|10|4|2|4|10|6|4|5\n\nTracks\nTwilight Tour\nTiger Temple\nHAS\nSpyro Circuit\nThunder Struck\nSlide Coliseum\nSewer Speedway\nClockwork Wumpa\nTiny Arena\nPrehistoric Playground\n".trim():"\nLobby #999999 - FFA\n\nPlayer_1 [gb_en] 1|3|9|8|9|8|5|4\nPlayer_2 [br] 9|5|7|5|4|9|8|8\nPlayer_3 [us] 4|8|3|3|7|4|9|7\nPlayer_4 [au] 7|7|8|9|1|7|4|2\nPlayer_5 [it] 2|4|5|7|2|3|7|9-4\nPlayer_6 [co] 5|2|1|2|5|2|2|1\nPlayer_7 [tn] 8|9|2|1|3|1|3|5\nPlayer_8 [cl] 3|1|4|4|8|5|1|3\n\nTracks\nGingerbread Joyride\nHot Air Skyway\nSlide Coliseum\nMystery Caves\nThunder Struck\nTwilight Tour\nCrash Cove\nRoo's Tubes\n".trim();var n={},r={};t:for(var i=0,o=Object.entries(this._boards);i<o.length;i++){var a,s=gl(o[i],2),c=(s[0],s[1]),l=yl(c.game_modes.entries());try{for(l.s();!(a=l.n()).done;){var u=gl(a.value,2),h=(u[0],u[1]);if(parseInt(c.lobby_type.id)===parseInt(t)&&parseInt(h.id)===parseInt(e)){n=c.lobby_type,r=h;break t}}}catch(t){l.e(t)}finally{l.f()}}if(0===Object.values(n).length||0===Object.values(r).length)return null;var f="items"!==n.code?n.code.charAt(0).toUpperCase()+n.code.slice(1)+" ":"",d="";d+="Lobby #999999 - ".concat(f).concat(r.name),d+="\n\n";for(var p="A".charCodeAt(0),v=1,m=0;m<r.max_teams;m++){r.is_solo||(d+="Team ".concat(String.fromCharCode(p)),d+="\n",p++);for(var y=0;y<r.default_players/r.max_teams;y++)d+="Player_".concat(v," [un] ")+Array.from({length:r.track_count},function(){return"0"}).join("|"),d+="\n",v++;!r.is_solo&&m<r.max_teams-1&&(d+="\n")}return d.trim()}},{key:"_getCacheItem",value:function(e){var n=t.parsedMatches;if(n.has(e)){var r=n.get(e);return this._templateV1=r.templateV1,this._template=r.template,this._error=r.error,r.table}return null}},{key:"_setCacheItem",value:function(e,n){t.parsedMatches||(t.parsedMatches=new Map);var r=t.parsedMatches;for(r.has(e)&&r.delete(e),r.set(e,{table:n,templateV1:this._templateV1,template:this._template,error:this._error});r.size>200;){var i=r.keys().next().value;r.delete(i)}}},{key:"_getCacheKey",value:function(t){return t.replace(/\s+/g," ")}},{key:"_getLobbyComments",value:function(t){var e=t.split(/Lobby/i);if(e.length<2)return[];var n,r=e[0].split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),i=[],o=yl(r.entries());try{for(o.s();!(n=o.n()).done;){var a=gl(n.value,2),s=(a[0],a[1]);this._isCommentLine(s)&&i.push(s)}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"_getLines",value:function(t){var e=t.split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),n=this._getHeaderLinePosition(e);return-1===n?null:-1!==n?e.slice(n):e}},{key:"_getHeaderLinePosition",value:function(t){var e=this._getHeaderRegex();return t.findIndex(function(t){return e.test(t)})}},{key:"_getHeaderRegex",value:function(){return/^(lobby)\s*(?:#?(\d+))?\s*-?\s*(.+)/i}},{key:"_getHeaderData",value:function(t){var e=t.match(this._getHeaderRegex());if(e&&e[3]){var n=e[2]?parseInt(e[2],10):999999,r="Lobby #".concat(n," - ").concat(e[3].trim()),i=e[3].trim().toLowerCase().replace(/(\d+)\s*(?:v|vs\.?)\s*(\d+)/gi,"$1 vs. $2").replace(/\s+/g," ").replace(/ vs\. /g,"v").replace(/ vs /g,"v").replace(/ v /g,"v").replace(/vs\./g,"v").replace(/vs/g,"v").replace(/\b(\d+)\s*(?:vs\.?|v)\s*(\d+)\b/gi,function(t,e,n){return"".concat(e,"v").concat(n)}).replace(/ /g,"_"),o=!i.includes("_");if(i.includes("_")){o=!0;var a=i.split("_",2);t:for(var s=0,c=Object.entries(this._boards);s<c.length;s++){var l,u=gl(c[s],2),h=(u[0],u[1]),f=yl(h.game_modes.entries());try{for(f.s();!(l=f.n()).done;){var d=gl(l.value,2);d[0],d[1];if(h.lobby_type.code===a[0].toLowerCase()){o=!1;break t}}}catch(t){f.e(t)}finally{f.f()}}}o&&(i="items_"+i);var p=(i=i.split("_",2))[0].trim(),v=i[1].trim(),m={},y={};t:for(var g=0,b=Object.entries(this._boards);g<b.length;g++){var _,w=gl(b[g],2),S=(w[0],w[1]),E=yl(S.game_modes.entries());try{for(E.s();!(_=E.n()).done;){var x=gl(_.value,2),T=(x[0],x[1]);if(S.lobby_type.code===p&&(T.code===v||v.toLowerCase().includes(T.code))){m=S.lobby_type,y=T;break t}}}catch(t){E.e(t)}finally{E.f()}}return[n,m=Object.keys(m).length>0?m:null,y=Object.keys(y).length>0?y:null,r]}return[null,null,null,null]}},{key:"_getBoard",value:function(t,e){for(var n=0,r=Object.entries(this._boards);n<r.length;n++){var i,o=gl(r[n],2),a=(o[0],o[1]),s=null==a?void 0:a.game_modes.map(function(t){return t.code});if((null==a||null===(i=a.lobby_type)||void 0===i?void 0:i.code)===(null==t?void 0:t.code)&&s&&s.includes(null==e?void 0:e.code))return a}return null}},{key:"_isTeamMode",value:function(t,e){var n,r=null,i=yl(t.game_modes.entries());try{for(i.s();!(n=i.n()).done;){var o=gl(n.value,2),a=(o[0],o[1]);if(parseInt(a.id)===parseInt(e.id)){r=e.is_solo;break}}}catch(t){i.e(t)}finally{i.f()}return!r}},{key:"_isPossibleTeamLine",value:function(t){if(void 0!==this._data&&!this._data.isTeamMode)return!1;var e=this.isPlayerLine(t),n=t.match(this._getTeamRegex());return!!(e&&null!==n&&n[1]&&n[2])||!e}},{key:"isPlayerLine",value:function(t){return null!==t.match(this._getPlayerRegex())}},{key:"_getPlayerRegex",value:function(){return/^(\b(?!Bonus|Penalty\b)\S+|\b(?:Bonus|Penalty)\S+)(?:\s+\[?([A-Za-z\-_]{0,7})]?)?\s+((?:[+\-]?[0-9|])+)(\s+\(?(?:[+\-]?[0-9]?)+\)?)?(?:\s+r(\d+))?(?:\s.*)?$/i}},{key:"_processTeamLine",value:function(t){this._data.isPreviousLineTeam&&this._data.teamNameCharCode--;var e=gl(this._getTeamData(t),3),n=e[0],r=e[1],i=e[2];this._data.team={id:null,id_match:null,name:n,color:r,score:0,penalty:i,players:[]},this._data.teams&&this._data.teams.length>0&&this._data.isPreviousLineTeam&&(this._lines.pop(),this._data.teams.pop()),this._data.isPreviousLineTeam=!0,this._data.teams.push(this._data.team),this._data.teamNameCharCode++,["penalty","player"].includes(this._data.previousLineType)&&this._lines.push("\n"),this._lines.push(t+"\n")}},{key:"_getTeamData",value:function(t){var e=t.match(this._getTeamRegex()),n="Team "+String.fromCharCode(this._data.teamNameCharCode),r="",i=0;return null!==e&&(n=e[2]||e[3]?e[1]:e[0],r=e[2]?e[2]:"",i=e[3]?-1*this._sumFromString(e[3]):0),[n,r,i]}},{key:"_getTeamRegex",value:function(){return/^(.*?)\s*(#[0-9A-Fa-f]+)?(?:\s*(\((?:[+\-]?[0-9])+\)?))?(?:\s[^#(]*)?$/}},{key:"_areTeamsValid",value:function(t){if(0===this._data.teams.length)return this._error="No teams found.",!1;var e,n=yl(this._data.teams);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!r.players||0===r.players.length){var i=this._shortenString(r.name,16);return this._error='Team "'.concat(i,'" has no players.'),!1}}}catch(t){n.e(t)}finally{n.f()}var o=t.min_teams,a=t.max_teams,s="team";return"ffa"===t.code&&(o=t.min_players,a=t.max_players,s="player"),this._data.teams.length<o?(this._error="At least ".concat(o," ").concat(s,"s required."),!1):!(this._data.teams.length>a)||(this._error="Maximum ".concat(a," ").concat(s,"s allowed."),!1)}},{key:"_arePlayersValid",value:function(t){var e=this._data.processedPlayers.length;return e<t.min_players?(this._error="At least ".concat(t.min_players," players required."),!1):!(e>t.max_players)||(this._error="Maximum ".concat(t.max_players," players allowed."),!1)}},{key:"sortTeams",value:function(t){t.forEach(function(t,e){t.table_order=e});var e=0,n=1;t.sort(function(t,e){return e.score-e.penalty-(t.score-t.penalty)}),t.forEach(function(r,i){r.table_players_order=r.players.map(function(t){return t.name});var o=0;i>0&&(o=t[i-1].score-t[i-1].penalty);var a=r.score-r.penalty;0===i||i>0&&a<o?n>0?(e+=n,n=1):e++:n++,r.position=e,r.players.sort(function(t,e){return e.scores.reduce(function(t,e){return t+e},0)-e.penalty-(t.scores.reduce(function(t,e){return t+e},0)-t.penalty)}),r.players.forEach(function(t,e){t.in_team_position=e+1})});var r,i=[],o=yl(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push.apply(i,ml(a.players))}}catch(t){o.e(t)}finally{o.f()}i.sort(function(t,e){return e.scores.reduce(function(t,e){return t+e},0)-e.penalty-(t.scores.reduce(function(t,e){return t+e},0)-t.penalty)});var s={},c=0,l=1;i.forEach(function(t,e){var n=0;e>0&&(n=i[e-1].scores.reduce(function(t,e){return t+e},0)-i[e-1].penalty);var r=t.scores.reduce(function(t,e){return t+e},0)-t.penalty;0===e||e>0&&r<n?l>0?(c+=l,l=1):c++:l++,s[t.name]=c});var u,h=yl(t);try{for(h.s();!(u=h.n()).done;){var f,d=yl(u.value.players);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.position=s[p.name]}}catch(t){d.e(t)}finally{d.f()}}}catch(t){h.e(t)}finally{h.f()}return t}},{key:"_processPlayerLine",value:function(t){var e;return e=this._data.isTeamMode?this._processTeamPlayer(t):this._processSoloPlayer(t),this._lines.push(t+"\n"),e}},{key:"_processTeamPlayer",value:function(t){var e=this.getPlayerData(t);if(null===e.name){var n=this._shortenString(t,24);return this._error='Invalid player format.<br>"'.concat(n,'"'),!1}if(this._isPlayerDuplicated(e.name)){var r=this._shortenString(e.name,16);return this._error="Duplicate players not allowed: ".concat(r,"."),!1}if(!this._data.team){var i=this._shortenString(e.name,16);return this._error="Player doesn't belong to any team: ".concat(i,"."),!1}return this._data.team.players.push({id:null,id_match_team:null,name:e.name,flag:e.flag,scores:e.scores,penalty:e.penalty,board_rating:e.boardRating,board_rating_custom:e.boardRatingCustom,original_rating:null,final_rating:null}),this._data.team.score+=e.score,this._data.team.penalty+=e.penalty,this._data.isPreviousLineTeam=!1,!0}},{key:"_processSoloPlayer",value:function(t){var e=this.getPlayerData(t);if(null===e.name){var n=this._shortenString(t,24);return this._error='Invalid player format.<br>"'.concat(n,'"'),!1}if(this._isPlayerDuplicated(e.name)){var r=this._shortenString(e.name,16);return this._error="Duplicate players not allowed: ".concat(r,"."),!1}return this._data.teams.push({id:null,id_match:null,name:e.name,color:null,score:e.score,penalty:e.penalty,players:[{id:null,id_match_team:null,name:e.name,flag:e.flag,scores:e.scores,penalty:e.penalty,board_rating:e.boardRating,board_rating_custom:e.boardRatingCustom,original_rating:null,final_rating:null}]}),!0}},{key:"getPlayerData",value:function(t){var e=t.match(this._getPlayerRegex());if(!e)return[null,null,null,null,null,null];var n=e[1].trim(),r=e[2]||"",i=e[3].split("|").slice(0,32),o=e[4]?this._sumFromString(e[4]):0,a=e[5]?parseInt(e[5]):null;null!==a&&(a=Math.max(-9999,Math.min(a,9999)));var s=i.map(function(t){if((t=""===t?"0":t).includes("+")){var e=t.split("+"),n=parseInt(e[0]>0?e[0]:0),r=parseInt(e[1]>0?e[1]:0);return n+r>99?99:n+r}if(t.includes("-")){var i=t.split("-"),a=parseInt(i[0]>0?i[0]:0),s=parseInt(i[1]>0?i[1]:0);return s>0&&(o-=s),a>99?99:a}var c=parseInt(t);return c>99?99:c}),c=s.reduce(function(t,e){return t+e},0);return Number.isNaN(c)?null:(o<-99?o=-99:o>99&&(o=99),-0===(o*=-1)&&(o=0),{name:n,flag:r,scores:s,score:c,boardRating:null,boardRatingCustom:a,penalty:o})}},{key:"_isPlayerDuplicated",value:function(t){return!!this._data.processedPlayers.includes(t)||(this._data.processedPlayers.push(t),!1)}},{key:"_getDate",value:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(("00"+(t.getMonth()+1)).slice(-2),"-").concat(("00"+t.getDate()).slice(-2)," ").concat(("00"+t.getHours()).slice(-2),":").concat(("00"+t.getMinutes()).slice(-2),":").concat(("00"+t.getSeconds()).slice(-2))}},{key:"_isCommentLine",value:function(t){return this._getCommentRegex().test(t.trim())}},{key:"_getCommentRegex",value:function(){return/^(\/\/|#)/}},{key:"_processTeamPenaltyLine",value:function(t){if(this._data.isTeamMode&&["penalty","team","player"].includes(this._data.previousLineType)){var e=t.match(this._getPenaltyRegex());if(e){var n=this._data.teams[this._data.teams.length-1],r=e[1]?this._sumFromString(e[1]):0;r<-99?r=-99:r>99&&(r=99),-0===(r*=-1)&&(r=0),n.penalty+=r,this._lines.push(t+"\n"),this._data.previousLineType="penalty"}}}},{key:"_isPenaltyLine",value:function(t){return this._getPenaltyRegex().test(t.trim())}},{key:"_getPenaltyRegex",value:function(){return/^(?:Penalty|Bonus)\s+((?:[+\-]?[0-9])+)\s*?$/i}},{key:"_sumFromString",value:function(t){var e=t.replace(/[()]/g,"").trim().split(/([+-])/).map(function(t){return""===t.trim()?"0":t.trim()});if(isNaN(e[0]))return 0;for(var n=parseFloat(e[0]),r=1;r<e.length;r+=2){var i=e[r],o=parseFloat(e[r+1]);"+"===i?n+=o:"-"===i&&(n-=o)}return n}},{key:"_transformTemplateToV1",value:function(t){var e=[],n=this._template.split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),r=this._getHeaderData(n[0]),i=r[2],o=r[3];e.push(("ffa"!==i.code?"#title ":"")+o+"\n\n");var a,s=[],c=yl(t.teams.entries());try{for(c.s();!(a=c.n()).done;){var l=gl(a.value,2),u=(l[0],l[1]);s[u.table_order]=[];var h=0;if(!t.is_solo){if(0!==u.penalty){var f=ml(u.players.values()).reduce(function(t,e){return t+e.penalty},0);h=u.penalty-f}s[u.table_order].push("\n"+u.name+(u.color.length>0?" ".concat(u.color):"")+"\n")}var d,p=[],v=yl(u.players.entries());try{for(v.s();!(d=v.n()).done;){var m=gl(d.value,2),y=(m[0],m[1]),g=u.table_players_order.indexOf(y.name);p[g]="";var b="".concat(y.name," ");b+=y.flag.length>0?"[".concat(y.flag,"] "):"",b+=y.scores.join("|"),b+=y.penalty<0?"|".concat(Math.abs(y.penalty)):y.penalty>0?"-".concat(y.penalty):"",b+=y.board_rating_custom>0?" r".concat(y.board_rating_custom):"",b+="\n",p[g]=b}}catch(t){v.e(t)}finally{v.f()}p.sort(),s[u.table_order].push(p.join("")),t.is_solo||0===Math.abs(h)||s[u.table_order].push("Penalty "+(h>0?"-".concat(h):Math.abs(h))+"\n")}}catch(t){c.e(t)}finally{c.f()}s.sort();var _,w=yl(s.entries());try{for(w.s();!(_=w.n()).done;){var S=gl(_.value,2),E=(S[0],S[1]);e.push(E.join(""))}}catch(t){w.e(t)}finally{w.f()}return e.join("").replace(/\n{3,}/g,"\n\n").trim()}},{key:"_shortenString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return Array.from(t).length>e?ml(t).slice(0,e-3).join("")+"...":t}},{key:"_extractTracks",value:function(t,e){for(var n=[],r=this._getTracksHeaderLinePosition(t,this._data.lastPlayerLinePosition)+1;r<t.length;r++){var i=t[r].trim();if(i){var o=this._resolveTrackName(i,e);o&&!n.includes(o)&&n.push(o)}}return n}},{key:"_resolveTrackName",value:function(e,n){if(!(e=this._normalizeTrackName(e)))return null;var r,i=e.split(" ").filter(Boolean),o=null,a=-1,s="battle"===n?t.BATTLE_MAPS:t.TRACKS,c=yl(s);try{for(c.s();!(r=c.n()).done;){var l=r.value,u=this._normalizeTrackName(l).split(" ").filter(Boolean),h=0,f=this._getInitials(l),d=i.join("");f.startsWith(d)&&(h+=5*d.length);for(var p=0;p<i.length;p++){var v=i[p],m=0;if(p<u.length&&u[p].startsWith(v))m=2*v.length;else{var y,g=yl(u);try{for(g.s();!(y=g.n()).done;){y.value.includes(v)&&(m=Math.max(m,v.length))}}catch(t){g.e(t)}finally{g.f()}}h+=m}u[0].startsWith(i[0])&&(h+=1),h>a&&(a=h,o=l)}}catch(t){c.e(t)}finally{c.f()}if(a<1){var b,_=1/0,w=yl(s);try{for(w.s();!(b=w.n()).done;){var S=b.value,E=this._levenshtein(e,this._normalizeTrackName(S));E<_&&(_=E,o=S)}}catch(t){w.e(t)}finally{w.f()}}return o}},{key:"_getTracksHeaderLinePosition",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=/^(:motorway:\s*)?(picked\s+)?tracks?\b/i,r=0;r<t.length;r++)if(r>=e&&n.test(t[r].trim()))return r;return-1}},{key:"_normalizeTrackName",value:function(t){return t.toLowerCase().replace(/\(.*$/,"").replace(/['"]/g,"").replace(/[.\-]/g," ").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}},{key:"_levenshtein",value:function(t,e){for(var n=Array.from({length:e.length+1},function(t,e){return[e]}),r=0;r<=t.length;r++)n[0][r]=r;for(var i=1;i<=e.length;i++)for(var o=1;o<=t.length;o++)e[i-1]===t[o-1]?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o]+1,n[i][o-1]+1,n[i-1][o-1]+1);return n[e.length][t.length]}},{key:"_getInitials",value:function(t){return this._normalizeTrackName(t).split(" ").map(function(t){return t[0]}).join("")}}],[{key:"areTablesEqual",value:function(t,e){var n=function(t){return t.replace(/\s+/g," ")};return n(t)===n(e)}},{key:"normalize",value:function(t){var e=ml((t=t.trim()).matchAll(/```/g));if(e.length>=2){var n=e[e.length-1].index;t=t.slice(0,n+3)}return t=t.trim().replace(/[\u200B\u200C\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2060\uFEFF\u00AD\u0085\u200D\u200A]/g,"").replace("!table","").replace("!t","").replace(/`/g,"").replace(/[^]*?#title\s*/i,"").replace(/(\d+)\s*(?:v|vs\.?)\s*(\d+)/gi,"$1 vs. $2").trim(),!/Lobby/i.test(t)&&/#\d+\s*-\s*[^]+/.test(t)&&(t="Lobby ".concat(t)),t=t.replace(/[^]*?(?=Lobby)/i,"").trim()}}])}();Sl(xl,"parsedMatches",new Map),Sl(xl,"STATUS_EMPTY",0),Sl(xl,"STATUS_ERROR",1),Sl(xl,"STATUS_PARSED",2),Sl(xl,"STATUS_PARSED_CUSTOM",3),Sl(xl,"TRACKS",new Set(["Crash Cove","Mystery Caves","Sewer Speedway","Roo's Tubes","Slide Coliseum","Turbo Track","Coco Park","Tiger Temple","Papu's Pyramid","Dingo Canyon","Polar Pass","Tiny Arena","Dragon Mines","Blizzard Bluff","Hot Air Skyway","Cortex Castle","N.Gin Labs","Oxide Station","Inferno Island","Jungle Boogie","Clockwork Wumpa","Android Alley","Electron Avenue","Deep Sea Driving","Thunder Struck","Tiny Temple","Meteor Gorge","Barin Ruins","Out of Time","Assembly Lane","Hyper Spaceway","Twilight Tour","Prehistoric Playground","Spyro Circuit","Nina's Nightmare","Koala Carnival","Gingerbread Joyride","Megamix Mania","Drive-Thru Danger"])),Sl(xl,"BATTLE_MAPS",new Set(["Skull Rock","Nitro Court","Parking Lot","Rocky Road","Lab Basement","Rampage Ruins","The North Bowl","Temple Turmoil","Frozen Frenzy","Desert Storm","Magnetic Mayhem","Terra Drome"]));const Tl=xl;function Al(t){return Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(t)}function kl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Il(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ol(Object(n),!0).forEach(function(e){Ll(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Pl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Il(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Il(t,e){if(t){if("string"==typeof t)return Ml(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ml(t,e):void 0}}function Ml(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Rl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jl(r.key),r)}}function Ll(t,e,n){return(e=jl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jl(t){var e=function(t,e){if("object"!=Al(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Al(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Al(e)?e:e+""}var Dl=function(){return function(t,e,n){return e&&Rl(t.prototype,e),n&&Rl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ll(this,"_areMatchesEqual",function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===t||null===n)return!1;return parseInt(t.id_board)===parseInt(n.id_board)&&parseInt(t.number)===parseInt(n.number)&&parseInt(t.id_lobby_type)===parseInt(n.id_lobby_type)&&function(r,i,o){if(r.length!==i.length)return!1;if(o&&!e._areTeamPenaltiesSame(r,i))return!1;var a,s=function(t,e){return t.scores.reduce(function(t,e){return t+e},0)-t.penalty===e.scores.reduce(function(t,e){return t+e},0)-e.penalty},c=Pl(t.teams);try{for(c.s();!(a=c.n()).done;){var l,u=Pl(a.value.players);try{var h,f=function(){var t,e=l.value,r=!1,i=Pl(n.teams);try{for(i.s();!(t=i.n()).done;){var a=t.value.players.find(function(t){return t.name===e.name});if(a&&(r=!0,o&&!s(e,a)))return{v:!1}}}catch(t){i.e(t)}finally{i.f()}if(!r)return{v:!1}};for(u.s();!(l=u.n()).done;)if(h=f())return h.v}catch(t){u.e(t)}finally{u.f()}}}catch(t){c.e(t)}finally{c.f()}return!0}(t.teams,n.teams,r)}),Ll(this,"_areMatchesDuplicated",function(t,e){if(null===t||null===e)return!1;return parseInt(t.id_board)===parseInt(e.id_board)&&parseInt(t.number)===parseInt(e.number)&&parseInt(t.id_lobby_type)===parseInt(e.id_lobby_type)&&function(t,e){if(t.length!==e.length)return!1;return t.every(function(t){return e.some(function(e){return function(t,e){return t.table_players_order.every(function(t,n){return t===e.table_players_order[n]})}(t,e)})})}(t.teams,e.teams)}),this._error="",this._table=null,this._template="",this._result=null,this._board=null,this._boards={},this._resultsSubmissions=[],this._isRanked=!0},[{key:"error",get:function(){return this._error}},{key:"table",get:function(){return this._table}},{key:"predictMatch",value:function(t,e,n,r,i){var o,a;return this._table=t,this._template=e,this._boards=n,this._resultsSubmissions=r,this._isRanked=i,0===Object.keys(this._boards).length?(this._error="No leaderboards available.<br>Refresh the page and try again.",null):(this._board=null!==(o=null===(a=this._boards)||void 0===a?void 0:a[t.id_board])&&void 0!==o?o:Object.values(this._boards)[0],this._board?(this._board=Cl(Cl({},this._board),{},{players:this._board.players.map(function(t){return Cl({},t)})}),this._table=Cl(Cl({},this._table),{},{teams:this._table.teams.map(function(t){return Cl(Cl({},t),{},{players:t.players.map(function(t){return Cl({},t)})})})}),this._isRanked?(this._result=this._predictBoardMatch(),null===this._result&&(this._error="Could not calculate scores prediction."),this._result):(this._result=this._predictUnrankedBoardMatch(),null===this._result&&(this._error="Could not calculate scores."),this._result)):(this._error="No leaderboard found.<br>Check scores.",null))}},{key:"calculateSubmittedMatch",value:function(t,e){var n=new pl.calculateSubmittedMatch(t,e);return null===n&&(this._error="Could not calculate submitted match scores."),n}},{key:"getSubmittedMatch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.matches.filter(function(e){return parseInt(t.number)===parseInt(e.number)});if(0===r.length)return null;var i,o=n?r[0]:null,a=Pl(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(this._areMatchesEqual(s,t,!1)){o=s;break}}}catch(t){a.e(t)}finally{a.f()}if(!o)return null;var c,l=o.teams.map(function(t){var e;return Cl(Cl({},t),{},{players:null===(e=t.players)||void 0===e?void 0:e.map(function(t){return Cl({},t)})})}),u=Object.create(null),h=Pl(l);try{for(h.s();!(c=h.n()).done;){var f=c.value;u[f.name]=f}}catch(t){h.e(t)}finally{h.f()}var d=t.teams.map(function(t){return u[t.name]}).filter(Boolean),p=d.length===l.length?d:l;return new Tl(null).sortTeams(p),Cl(Cl({},o),{},{teams:p})}},{key:"_getLatestSubmittedMatch",value:function(){return this._board.matches.length>0?this._board.matches[0]:null}},{key:"_predictBoardMatch",value:function(){var t,e=this,n=new Tl(this._boards),r=this._getLatestSubmittedMatch(),i=null;r&&(i=new Date(r.played_at));var o,a=null,s={},c=Pl(this._resultsSubmissions.entries());try{for(c.s();!(o=c.n()).done;){var l=kl(o.value,2),u=(l[0],l[1]),h=n.parse(u.content);if(s[u.content.replace(/\s+/g,"")]=h,h&&this._areMatchesEqual(this._table,h)){a=new Date(u.datetime);break}}}catch(t){c.e(t)}finally{c.f()}var f,d={},p=Pl(this._resultsSubmissions.entries());try{for(p.s();!(f=p.n()).done;){var v,m=kl(f.value,2),y=(m[0],m[1]),g=void 0,b=y.content.replace(/\s+/g,"");if((g=null!=s&&s[b]?s[b]:n.parse(y.content))&&!(null!==(v=d)&&void 0!==v&&v[b]||g.id_board!==this._table.id_board||r&&this._areMatchesEqual(g,r)||this._areMatchesEqual(g,this._table))){var _=new Date(y.datetime);r&&_<i||a&&_>a||(d[b]=g)}}}catch(t){p.e(t)}finally{p.f()}var w=this._template.replace(/\s+/g," ");null!==(t=d)&&void 0!==t&&t[w]||(d[w]=this._table);for(var S=new Map,E=0,x=Object.entries(d);E<x.length;E++){var T=kl(x[E],2),A=(T[0],T[1]);S.has(A.lobby_number)||S.set(A.lobby_number,[]),S.get(A.lobby_number).push(A)}var k,O=Pl(S.entries());try{for(O.s();!(k=O.n()).done;){var C=kl(k.value,2),P=C[0],I=C[1];if(I.length>1){for(var M=0;M<I.length-1;M++)this._areMatchesEqual(I[M],I[M+1])&&(I[M]=null);S.set(P,I.filter(function(t){return null!==t}))}}}catch(t){O.e(t)}finally{O.f()}var R,L=Pl(S.entries());try{for(L.s();!(R=L.n()).done;){var j=kl(R.value,2),D=j[0],N=j[1];if(N.length>1){for(var B=0;B<N.length-1;B++)this._areMatchesDuplicated(N[B],N[B+1])&&(N[B]=null);S.set(D,N.filter(function(t){return null!==t}))}}}catch(t){L.e(t)}finally{L.f()}d=[];var F,U=Pl(S.entries());try{for(U.s();!(F=U.n()).done;){var z,H=Pl(kl(F.value,2)[1]);try{for(H.s();!(z=H.n()).done;){var G=z.value;d.push(G)}}catch(t){H.e(t)}finally{H.f()}}}catch(t){U.e(t)}finally{U.f()}if(0===d.length)return this._error="No matches found.",null;var q,Y={},V=Pl(d);try{for(V.s();!(q=V.n()).done;){var W=q.value,$=this._getGameMode(W);if(null===$)return this._error="Could not get game mode for match #".concat(W.number,"."),null;for(var K=$.rating_scheme,Z=0,X=Object.entries(W.teams);Z<X.length;Z++){var J,Q=kl(X[Z],2),tt=(Q[0],Pl(Q[1].players));try{for(tt.s();!(J=tt.n()).done;){var et=J.value;Y[et.name]=parseFloat(K.initial_rating)}}catch(t){tt.e(t)}finally{tt.f()}}}}catch(t){V.e(t)}finally{V.f()}for(var nt=function(){var t=kl(it[rt],2),n=t[0],r=(t[1],e._board.players.find(function(t){return t.name===n}));r&&(Y[n]=parseFloat(r.rating))},rt=0,it=Object.entries(Y);rt<it.length;rt++)nt();var ot,at=null,st=Pl(d);try{var ct,lt=function(){var t,n=ot.value,r=Pl(n.teams);try{for(r.s();!(t=r.n()).done;){var i,o=Pl(t.value.players);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.board_rating=parseFloat(Y[a.name])}}catch(t){o.e(t)}finally{o.f()}}}catch(t){r.e(t)}finally{r.f()}if(null===(at=new pl(n,e._board).calculate()))return e._error="Could not calculate match #".concat(n.number," results."),{v:null};for(var s=0,c=Object.entries(at);s<c.length;s++){var l=kl(c[s],2),u=l[0],h=l[1];Y[u]=parseFloat(h.final_rating)}var f=e._board.players.map(function(t){return t.name}),d=Object.keys(at).filter(function(t){return!f.includes(t)});pl.calculateBoardRatings(at,e._board.players),pl.calculateBoardRankings(at,e._board.players,d)};for(st.s();!(ot=st.n()).done;)if(ct=lt())return ct.v}catch(t){st.e(t)}finally{st.f()}return at}},{key:"_predictUnrankedBoardMatch",value:function(){var t=this._getGameMode(this._table);if(null===t)return null;for(var e={},n=t.rating_scheme,r=0,i=Object.entries(this._table.teams);r<i.length;r++){var o,a=Pl(kl(i[r],2)[1].players);try{for(a.s();!(o=a.n()).done;){e[o.value.name]=parseFloat(n.initial_rating)}}catch(t){a.e(t)}finally{a.f()}}var s,c=Pl(this._table.teams);try{for(c.s();!(s=c.n()).done;){var l,u=Pl(s.value.players);try{for(u.s();!(l=u.n()).done;){var h=l.value;h.board_rating=parseFloat(h.board_rating_custom||e[h.name])}}catch(t){u.e(t)}finally{u.f()}}}catch(t){c.e(t)}finally{c.f()}return new pl(this._table,this._board).calculate()}},{key:"_areTeamPenaltiesSame",value:function(t,e){if(t.length!==e.length)return!1;var n,r=Pl(t);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=Pl(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(JSON.stringify(o.table_players_order)===JSON.stringify(s.table_players_order)&&o.penalty!==s.penalty)return!1}}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}return!0}},{key:"_getGameMode",value:function(t){var e,n={},r=Pl(this._board.game_modes.entries());try{for(r.s();!(e=r.n()).done;){var i=kl(e.value,2),o=(i[0],i[1]);if(parseInt(this._board.lobby_type.id)===parseInt(t.id_lobby_type)&&parseInt(o.id)===parseInt(t.id_game_mode)){n=o;break}}}catch(t){r.e(t)}finally{r.f()}return n}}])}();const Nl=Dl;function Bl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Fl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bl(Object(n),!0).forEach(function(e){zl(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ul(t){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(t)}function zl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hl(){return Hl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}function Gl(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ql(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var Yl=ql(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Vl=ql(/Edge/i),Wl=ql(/firefox/i),$l=ql(/safari/i)&&!ql(/chrome/i)&&!ql(/android/i),Kl=ql(/iP(ad|od|hone)/i),Zl=ql(/chrome/i)&&ql(/android/i),Xl={capture:!1,passive:!1};function Jl(t,e,n){t.addEventListener(e,n,!Yl&&Xl)}function Ql(t,e,n){t.removeEventListener(e,n,!Yl&&Xl)}function tu(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function eu(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function nu(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&tu(t,e):tu(t,e))||r&&t===n)return t;if(t===n)break}while(t=eu(t))}return null}var ru,iu=/\s+/g;function ou(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(iu," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(iu," ")}}function au(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function su(t,e){var n="";if("string"==typeof t)n=t;else do{var r=au(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function cu(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function lu(){var t=document.scrollingElement;return t||document.documentElement}function uu(t,e,n,r,i){if(t.getBoundingClientRect||t===window){var o,a,s,c,l,u,h;if(t!==window&&t.parentNode&&t!==lu()?(a=(o=t.getBoundingClientRect()).top,s=o.left,c=o.bottom,l=o.right,u=o.height,h=o.width):(a=0,s=0,c=window.innerHeight,l=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Yl))do{if(i&&i.getBoundingClientRect&&("none"!==au(i,"transform")||n&&"static"!==au(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(au(i,"border-top-width")),s-=f.left+parseInt(au(i,"border-left-width")),c=a+o.height,l=s+o.width;break}}while(i=i.parentNode);if(r&&t!==window){var d=su(i||t),p=d&&d.a,v=d&&d.d;d&&(c=(a/=v)+(u/=v),l=(s/=p)+(h/=p))}return{top:a,left:s,bottom:c,right:l,width:h,height:u}}}function hu(t,e,n){for(var r=mu(t,!0),i=uu(t)[e];r;){var o=uu(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===lu())break;r=mu(r,!1)}return!1}function fu(t,e,n,r){for(var i=0,o=0,a=t.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==wh.ghost&&(r||a[o]!==wh.dragged)&&nu(a[o],n.draggable,t,!1)){if(i===e)return a[o];i++}o++}return null}function du(t,e){for(var n=t.lastElementChild;n&&(n===wh.ghost||"none"===au(n,"display")||e&&!tu(n,e));)n=n.previousElementSibling;return n||null}function pu(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===wh.clone||e&&!tu(t,e)||n++;return n}function vu(t){var e=0,n=0,r=lu();if(t)do{var i=su(t),o=i.a,a=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function mu(t,e){if(!t||!t.getBoundingClientRect)return lu();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=au(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return lu();if(r||e)return n;r=!0}}}while(n=n.parentNode);return lu()}function yu(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function gu(t,e){return function(){if(!ru){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),ru=setTimeout(function(){ru=void 0},e)}}}function bu(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _u(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function wu(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var o,a,s,c;if(nu(i,e.draggable,t,!1)&&!i.animated&&i!==n){var l=uu(i);r.left=Math.min(null!==(o=r.left)&&void 0!==o?o:1/0,l.left),r.top=Math.min(null!==(a=r.top)&&void 0!==a?a:1/0,l.top),r.right=Math.max(null!==(s=r.right)&&void 0!==s?s:-1/0,l.right),r.bottom=Math.max(null!==(c=r.bottom)&&void 0!==c?c:-1/0,l.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Su="Sortable"+(new Date).getTime();function Eu(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(t){if("none"!==au(t,"display")&&t!==wh.ghost){e.push({target:t,rect:uu(t)});var n=Fl({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=su(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,o=0;e.forEach(function(t){var e=0,n=t.target,a=n.fromRect,s=uu(n),c=n.prevFromRect,l=n.prevToRect,u=t.rect,h=su(n,!0);h&&(s.top-=h.f,s.left-=h.e),n.toRect=s,n.thisAnimationDuration&&yu(c,s)&&!yu(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(e=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(u,c,l,r.options)),yu(s,a)||(n.prevFromRect=a,n.prevToRect=s,e||(e=r.options.animation),r.animate(n,u,s,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(t),i?t=setTimeout(function(){"function"==typeof n&&n()},o):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){au(t,"transition",""),au(t,"transform","");var i=su(this.el),o=i&&i.a,a=i&&i.d,s=(e.left-n.left)/(o||1),c=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!c,au(t,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),au(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),au(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){au(t,"transition",""),au(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},r)}}}}var xu=[],Tu={initializeByDefault:!0},Au={mount:function(t){for(var e in Tu)Tu.hasOwnProperty(e)&&!(e in t)&&(t[e]=Tu[e]);xu.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),xu.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";xu.forEach(function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](Fl({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](Fl({sortable:e},n)))})},initializePlugins:function(t,e,n,r){for(var i in xu.forEach(function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var o=new r(t,e,t.options);o.sortable=t,o.options=t.options,t[i]=o,Hl(n,o.defaults)}}),t.options)if(t.options.hasOwnProperty(i)){var o=this.modifyOption(t,i,t.options[i]);void 0!==o&&(t.options[i]=o)}},getEventProperties:function(t,e){var n={};return xu.forEach(function(r){"function"==typeof r.eventProperties&&Hl(n,r.eventProperties.call(e[r.pluginName],t))}),n},modifyOption:function(t,e,n){var r;return xu.forEach(function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))}),r}};function ku(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,c=t.oldIndex,l=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,d=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[Su]){var v,m=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||Yl||Vl?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=s||n,v.item=i||n,v.clone=o,v.oldIndex=c,v.newIndex=l,v.oldDraggableIndex=u,v.newDraggableIndex=h,v.originalEvent=f,v.pullMode=d?d.lastPutMode:void 0;var g=Fl(Fl({},p),Au.getEventProperties(r,e));for(var b in g)v[b]=g[b];n&&n.dispatchEvent(v),m[y]&&m[y].call(e,v)}}var Ou=["evt"],Cu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=Gl(n,Ou);Au.pluginEvent.bind(wh)(t,e,Fl({dragEl:Iu,parentEl:Mu,ghostEl:Ru,rootEl:Lu,nextEl:ju,lastDownEl:Du,cloneEl:Nu,cloneHidden:Bu,dragStarted:Xu,putSortable:qu,activeSortable:wh.active,originalEvent:r,oldIndex:Fu,oldDraggableIndex:zu,newIndex:Uu,newDraggableIndex:Hu,hideGhostForTarget:yh,unhideGhostForTarget:gh,cloneNowHidden:function(){Bu=!0},cloneNowShown:function(){Bu=!1},dispatchSortableEvent:function(t){Pu({sortable:e,name:t,originalEvent:r})}},i))};function Pu(t){ku(Fl({putSortable:qu,cloneEl:Nu,targetEl:Iu,rootEl:Lu,oldIndex:Fu,oldDraggableIndex:zu,newIndex:Uu,newDraggableIndex:Hu},t))}var Iu,Mu,Ru,Lu,ju,Du,Nu,Bu,Fu,Uu,zu,Hu,Gu,qu,Yu,Vu,Wu,$u,Ku,Zu,Xu,Ju,Qu,th,eh,nh=!1,rh=!1,ih=[],oh=!1,ah=!1,sh=[],ch=!1,lh=[],uh="undefined"!=typeof document,hh=Kl,fh=Vl||Yl?"cssFloat":"float",dh=uh&&!Zl&&!Kl&&"draggable"in document.createElement("div"),ph=function(){if(uh){if(Yl)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),vh=function(t,e){var n=au(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=fu(t,0,e),o=fu(t,1,e),a=i&&au(i),s=o&&au(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+uu(i).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+uu(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=r&&"none"===n[fh]||o&&"none"===n[fh]&&c+l>r)?"vertical":"horizontal"},mh=function(t){function e(t,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,i,o,a),n)(r,i,o,a);var c=(n?r:i).options.group.name;return!0===t||"string"==typeof t&&t===c||t.join&&t.indexOf(c)>-1}}var n={},r=t.group;r&&"object"==Ul(r)||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},yh=function(){!ph&&Ru&&au(Ru,"display","none")},gh=function(){!ph&&Ru&&au(Ru,"display","")};uh&&!Zl&&document.addEventListener("click",function(t){if(rh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),rh=!1,!1},!0);var bh=function(t){if(Iu){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,o=t.clientY,ih.some(function(t){var e=t[Su].options.emptyInsertThreshold;if(e&&!du(t)){var n=uu(t),r=i>=n.left-e&&i<=n.right+e,s=o>=n.top-e&&o<=n.bottom+e;return r&&s?a=t:void 0}}),a);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Su]._onDragOver(n)}}var i,o,a},_h=function(t){Iu&&Iu.parentNode[Su]._isOutsideThisEl(t.target)};function wh(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Hl({},e),t[Su]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vh(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==wh.supportPointer&&"PointerEvent"in window&&(!$l||Kl),emptyInsertThreshold:5};for(var r in Au.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var i in mh(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&dh,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Jl(t,"pointerdown",this._onTapStart):(Jl(t,"mousedown",this._onTapStart),Jl(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Jl(t,"dragover",this),Jl(t,"dragenter",this)),ih.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Hl(this,Eu())}function Sh(t,e,n,r,i,o,a,s){var c,l,u=t[Su],h=u.options.onMove;return!window.CustomEvent||Yl||Vl?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=r,c.related=i||e,c.relatedRect=o||uu(e),c.willInsertAfter=s,c.originalEvent=a,t.dispatchEvent(c),h&&(l=h.call(u,c,a)),l}function Eh(t){t.draggable=!1}function xh(){ch=!1}function Th(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Ah(t){return setTimeout(t,0)}function kh(t){return clearTimeout(t)}wh.prototype={constructor:wh,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ju=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,Iu):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,l=r.filter;if(function(t){lh.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&lh.push(r)}}(n),!Iu&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!$l||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=nu(s,r.draggable,n,!1))&&s.animated||Du===s)){if(Fu=pu(s),zu=pu(s,r.draggable),"function"==typeof l){if(l.call(this,t,s,this))return Pu({sortable:e,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),Cu("filter",e,{evt:t}),void(i&&t.preventDefault())}else if(l&&(l=l.split(",").some(function(r){if(r=nu(c,r.trim(),n,!1))return Pu({sortable:e,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),Cu("filter",e,{evt:t}),!0})))return void(i&&t.preventDefault());r.handle&&!nu(c,r.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!Iu&&n.parentNode===o){var c=uu(n);if(Lu=o,Mu=(Iu=n).parentNode,ju=Iu.nextSibling,Du=n,Gu=a.group,wh.dragged=Iu,Yu={target:Iu,clientX:(e||t).clientX,clientY:(e||t).clientY},Ku=Yu.clientX-c.left,Zu=Yu.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Iu.style["will-change"]="all",r=function(){Cu("delayEnded",i,{evt:t}),wh.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Wl&&i.nativeDraggable&&(Iu.draggable=!0),i._triggerDragStart(t,e),Pu({sortable:i,name:"choose",originalEvent:t}),ou(Iu,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){cu(Iu,t.trim(),Eh)}),Jl(s,"dragover",bh),Jl(s,"mousemove",bh),Jl(s,"touchmove",bh),a.supportPointer?(Jl(s,"pointerup",i._onDrop),!this.nativeDraggable&&Jl(s,"pointercancel",i._onDrop)):(Jl(s,"mouseup",i._onDrop),Jl(s,"touchend",i._onDrop),Jl(s,"touchcancel",i._onDrop)),Wl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Iu.draggable=!0),Cu("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(Vl||Yl))r();else{if(wh.eventCanceled)return void this._onDrop();a.supportPointer?(Jl(s,"pointerup",i._disableDelayedDrag),Jl(s,"pointercancel",i._disableDelayedDrag)):(Jl(s,"mouseup",i._disableDelayedDrag),Jl(s,"touchend",i._disableDelayedDrag),Jl(s,"touchcancel",i._disableDelayedDrag)),Jl(s,"mousemove",i._delayedDragTouchMoveHandler),Jl(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Jl(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Iu&&Eh(Iu),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ql(t,"mouseup",this._disableDelayedDrag),Ql(t,"touchend",this._disableDelayedDrag),Ql(t,"touchcancel",this._disableDelayedDrag),Ql(t,"pointerup",this._disableDelayedDrag),Ql(t,"pointercancel",this._disableDelayedDrag),Ql(t,"mousemove",this._delayedDragTouchMoveHandler),Ql(t,"touchmove",this._delayedDragTouchMoveHandler),Ql(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?Jl(document,"pointermove",this._onTouchMove):Jl(document,e?"touchmove":"mousemove",this._onTouchMove):(Jl(Iu,"dragend",this),Jl(Lu,"dragstart",this._onDragStart));try{document.selection?Ah(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(nh=!1,Lu&&Iu){Cu("dragStarted",this,{evt:e}),this.nativeDraggable&&Jl(document,"dragover",_h);var n=this.options;!t&&ou(Iu,n.dragClass,!1),ou(Iu,n.ghostClass,!0),wh.active=this,t&&this._appendGhost(),Pu({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Vu){this._lastX=Vu.clientX,this._lastY=Vu.clientY,yh();for(var t=document.elementFromPoint(Vu.clientX,Vu.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Vu.clientX,Vu.clientY))!==e;)e=t;if(Iu.parentNode[Su]._isOutsideThisEl(t),e)do{if(e[Su]){if(e[Su]._onDragOver({clientX:Vu.clientX,clientY:Vu.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=eu(e));gh()}},_onTouchMove:function(t){if(Yu){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=Ru&&su(Ru,!0),a=Ru&&o&&o.a,s=Ru&&o&&o.d,c=hh&&eh&&vu(eh),l=(i.clientX-Yu.clientX+r.x)/(a||1)+(c?c[0]-sh[0]:0)/(a||1),u=(i.clientY-Yu.clientY+r.y)/(s||1)+(c?c[1]-sh[1]:0)/(s||1);if(!wh.active&&!nh){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Ru){o?(o.e+=l-(Wu||0),o.f+=u-($u||0)):o={a:1,b:0,c:0,d:1,e:l,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");au(Ru,"webkitTransform",h),au(Ru,"mozTransform",h),au(Ru,"msTransform",h),au(Ru,"transform",h),Wu=l,$u=u,Vu=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ru){var t=this.options.fallbackOnBody?document.body:Lu,e=uu(Iu,!0,hh,!0,t),n=this.options;if(hh){for(eh=t;"static"===au(eh,"position")&&"none"===au(eh,"transform")&&eh!==document;)eh=eh.parentNode;eh!==document.body&&eh!==document.documentElement?(eh===document&&(eh=lu()),e.top+=eh.scrollTop,e.left+=eh.scrollLeft):eh=lu(),sh=vu(eh)}ou(Ru=Iu.cloneNode(!0),n.ghostClass,!1),ou(Ru,n.fallbackClass,!0),ou(Ru,n.dragClass,!0),au(Ru,"transition",""),au(Ru,"transform",""),au(Ru,"box-sizing","border-box"),au(Ru,"margin",0),au(Ru,"top",e.top),au(Ru,"left",e.left),au(Ru,"width",e.width),au(Ru,"height",e.height),au(Ru,"opacity","0.8"),au(Ru,"position",hh?"absolute":"fixed"),au(Ru,"zIndex","100000"),au(Ru,"pointerEvents","none"),wh.ghost=Ru,t.appendChild(Ru),au(Ru,"transform-origin",Ku/parseInt(Ru.style.width)*100+"% "+Zu/parseInt(Ru.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;Cu("dragStart",this,{evt:t}),wh.eventCanceled?this._onDrop():(Cu("setupClone",this),wh.eventCanceled||((Nu=_u(Iu)).removeAttribute("id"),Nu.draggable=!1,Nu.style["will-change"]="",this._hideClone(),ou(Nu,this.options.chosenClass,!1),wh.clone=Nu),n.cloneId=Ah(function(){Cu("clone",n),wh.eventCanceled||(n.options.removeCloneOnHide||Lu.insertBefore(Nu,Iu),n._hideClone(),Pu({sortable:n,name:"clone"}))}),!e&&ou(Iu,i.dragClass,!0),e?(rh=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Ql(document,"mouseup",n._onDrop),Ql(document,"touchend",n._onDrop),Ql(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,Iu)),Jl(document,"drop",n),au(Iu,"transform","translateZ(0)")),nh=!0,n._dragStartId=Ah(n._dragStarted.bind(n,e,t)),Jl(document,"selectstart",n),Xu=!0,window.getSelection().removeAllRanges(),$l&&au(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,i,o=this.el,a=t.target,s=this.options,c=s.group,l=wh.active,u=Gu===c,h=s.sort,f=qu||l,d=this,p=!1;if(!ch){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=nu(a,s.draggable,o,!0),C("dragOver"),wh.eventCanceled)return p;if(Iu.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||d._ignoreWhileAnimating===a)return I(!1);if(rh=!1,l&&!s.disabled&&(u?h||(r=Mu!==Lu):qu===this||(this.lastPutMode=Gu.checkPull(this,l,Iu,t))&&c.checkPut(this,l,Iu,t))){if(i="vertical"===this._getDirection(t,a),e=uu(Iu),C("dragOverValid"),wh.eventCanceled)return p;if(r)return Mu=Lu,P(),this._hideClone(),C("revert"),wh.eventCanceled||(ju?Lu.insertBefore(Iu,ju):Lu.appendChild(Iu)),I(!0);var v=du(o,s.draggable);if(!v||function(t,e,n){var r=uu(du(n.el,n.options.draggable)),i=wu(n.el,n.options,Ru),o=10;return e?t.clientX>i.right+o||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+o||t.clientX>r.right&&t.clientY>r.top}(t,i,this)&&!v.animated){if(v===Iu)return I(!1);if(v&&o===t.target&&(a=v),a&&(n=uu(a)),!1!==Sh(Lu,o,Iu,e,a,n,t,!!a))return P(),v&&v.nextSibling?o.insertBefore(Iu,v.nextSibling):o.appendChild(Iu),Mu=o,M(),I(!0)}else if(v&&function(t,e,n){var r=uu(fu(n.el,0,n.options,!0)),i=wu(n.el,n.options,Ru),o=10;return e?t.clientX<i.left-o||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-o||t.clientY<r.bottom&&t.clientX<r.left}(t,i,this)){var m=fu(o,0,s,!0);if(m===Iu)return I(!1);if(n=uu(a=m),!1!==Sh(Lu,o,Iu,e,a,n,t,!1))return P(),o.insertBefore(Iu,m),Mu=o,M(),I(!0)}else if(a.parentNode===o){n=uu(a);var y,g,b,_=Iu.parentNode!==o,w=!function(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,o=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,c=n?e.width:e.height;return r===a||i===s||r+o/2===a+c/2}(Iu.animated&&Iu.toRect||e,a.animated&&a.toRect||n,i),S=i?"top":"left",E=hu(a,"top","top")||hu(Iu,"top","top"),x=E?E.scrollTop:void 0;if(Ju!==a&&(g=n[S],oh=!1,ah=!w&&s.invertSwap||_),y=function(t,e,n,r,i,o,a,s){var c=r?t.clientY:t.clientX,l=r?n.height:n.width,u=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!a)if(s&&th<l*i){if(!oh&&(1===Qu?c>u+l*o/2:c<h-l*o/2)&&(oh=!0),oh)f=!0;else if(1===Qu?c<u+th:c>h-th)return-Qu}else if(c>u+l*(1-i)/2&&c<h-l*(1-i)/2)return function(t){return pu(Iu)<pu(t)?1:-1}(e);if((f=f||a)&&(c<u+l*o/2||c>h-l*o/2))return c>u+l/2?1:-1;return 0}(t,a,n,i,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,ah,Ju===a),0!==y){var T=pu(Iu);do{T-=y,b=Mu.children[T]}while(b&&("none"===au(b,"display")||b===Ru))}if(0===y||b===a)return I(!1);Ju=a,Qu=y;var A=a.nextElementSibling,k=!1,O=Sh(Lu,o,Iu,e,a,n,t,k=1===y);if(!1!==O)return 1!==O&&-1!==O||(k=1===O),ch=!0,setTimeout(xh,30),P(),k&&!A?o.appendChild(Iu):a.parentNode.insertBefore(Iu,k?A:a),E&&bu(E,0,x-E.scrollTop),Mu=Iu.parentNode,void 0===g||ah||(th=Math.abs(g-uu(a)[S])),M(),I(!0)}if(o.contains(Iu))return I(!1)}return!1}function C(s,c){Cu(s,d,Fl({evt:t,isOwner:u,axis:i?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:h,fromSortable:f,target:a,completed:I,onMove:function(n,r){return Sh(Lu,o,Iu,e,n,uu(n),t,r)},changed:M},c))}function P(){C("dragOverAnimationCapture"),d.captureAnimationState(),d!==f&&f.captureAnimationState()}function I(e){return C("dragOverCompleted",{insertion:e}),e&&(u?l._hideClone():l._showClone(d),d!==f&&(ou(Iu,qu?qu.options.ghostClass:l.options.ghostClass,!1),ou(Iu,s.ghostClass,!0)),qu!==d&&d!==wh.active?qu=d:d===wh.active&&qu&&(qu=null),f===d&&(d._ignoreWhileAnimating=a),d.animateAll(function(){C("dragOverAnimationComplete"),d._ignoreWhileAnimating=null}),d!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===Iu&&!Iu.animated||a===o&&!a.animated)&&(Ju=null),s.dragoverBubble||t.rootEl||a===document||(Iu.parentNode[Su]._isOutsideThisEl(t.target),!e&&bh(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function M(){Uu=pu(Iu),Hu=pu(Iu,s.draggable),Pu({sortable:d,name:"change",toEl:o,newIndex:Uu,newDraggableIndex:Hu,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ql(document,"mousemove",this._onTouchMove),Ql(document,"touchmove",this._onTouchMove),Ql(document,"pointermove",this._onTouchMove),Ql(document,"dragover",bh),Ql(document,"mousemove",bh),Ql(document,"touchmove",bh)},_offUpEvents:function(){var t=this.el.ownerDocument;Ql(t,"mouseup",this._onDrop),Ql(t,"touchend",this._onDrop),Ql(t,"pointerup",this._onDrop),Ql(t,"pointercancel",this._onDrop),Ql(t,"touchcancel",this._onDrop),Ql(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;Uu=pu(Iu),Hu=pu(Iu,n.draggable),Cu("drop",this,{evt:t}),Mu=Iu&&Iu.parentNode,Uu=pu(Iu),Hu=pu(Iu,n.draggable),wh.eventCanceled||(nh=!1,ah=!1,oh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kh(this.cloneId),kh(this._dragStartId),this.nativeDraggable&&(Ql(document,"drop",this),Ql(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$l&&au(document.body,"user-select",""),au(Iu,"transform",""),t&&(Xu&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Ru&&Ru.parentNode&&Ru.parentNode.removeChild(Ru),(Lu===Mu||qu&&"clone"!==qu.lastPutMode)&&Nu&&Nu.parentNode&&Nu.parentNode.removeChild(Nu),Iu&&(this.nativeDraggable&&Ql(Iu,"dragend",this),Eh(Iu),Iu.style["will-change"]="",Xu&&!nh&&ou(Iu,qu?qu.options.ghostClass:this.options.ghostClass,!1),ou(Iu,this.options.chosenClass,!1),Pu({sortable:this,name:"unchoose",toEl:Mu,newIndex:null,newDraggableIndex:null,originalEvent:t}),Lu!==Mu?(Uu>=0&&(Pu({rootEl:Mu,name:"add",toEl:Mu,fromEl:Lu,originalEvent:t}),Pu({sortable:this,name:"remove",toEl:Mu,originalEvent:t}),Pu({rootEl:Mu,name:"sort",toEl:Mu,fromEl:Lu,originalEvent:t}),Pu({sortable:this,name:"sort",toEl:Mu,originalEvent:t})),qu&&qu.save()):Uu!==Fu&&Uu>=0&&(Pu({sortable:this,name:"update",toEl:Mu,originalEvent:t}),Pu({sortable:this,name:"sort",toEl:Mu,originalEvent:t})),wh.active&&(null!=Uu&&-1!==Uu||(Uu=Fu,Hu=zu),Pu({sortable:this,name:"end",toEl:Mu,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Cu("nulling",this),Lu=Iu=Mu=Ru=ju=Nu=Du=Bu=Yu=Vu=Xu=Uu=Hu=Fu=zu=Ju=Qu=qu=Gu=wh.dragged=wh.ghost=wh.clone=wh.active=null,lh.forEach(function(t){t.checked=!0}),lh.length=Wu=$u=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Iu&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)nu(t=n[r],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Th(t));return e},sort:function(t,e){var n={},r=this.el;this.toArray().forEach(function(t,e){var i=r.children[e];nu(i,this.options.draggable,r,!1)&&(n[t]=i)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(r.removeChild(n[t]),r.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return nu(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=Au.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&mh(n)},destroy:function(){Cu("destroy",this);var t=this.el;t[Su]=null,Ql(t,"mousedown",this._onTapStart),Ql(t,"touchstart",this._onTapStart),Ql(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ql(t,"dragover",this),Ql(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ih.splice(ih.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Bu){if(Cu("hideClone",this),wh.eventCanceled)return;au(Nu,"display","none"),this.options.removeCloneOnHide&&Nu.parentNode&&Nu.parentNode.removeChild(Nu),Bu=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Bu){if(Cu("showClone",this),wh.eventCanceled)return;Iu.parentNode!=Lu||this.options.group.revertClone?ju?Lu.insertBefore(Nu,ju):Lu.appendChild(Nu):Lu.insertBefore(Nu,Iu),this.options.group.revertClone&&this.animate(Iu,Nu),au(Nu,"display",""),Bu=!1}}else this._hideClone()}},uh&&Jl(document,"touchmove",function(t){(wh.active||nh)&&t.cancelable&&t.preventDefault()}),wh.utils={on:Jl,off:Ql,css:au,find:cu,is:function(t,e){return!!nu(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:gu,closest:nu,toggleClass:ou,clone:_u,index:pu,nextTick:Ah,cancelNextTick:kh,detectDirection:vh,getChild:fu,expando:Su},wh.get=function(t){return t[Su]},wh.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(wh.utils=Fl(Fl({},wh.utils),t.utils)),Au.mount(t)})},wh.create=function(t,e){return new wh(t,e)},wh.version="1.15.6";var Oh,Ch,Ph,Ih,Mh,Rh,Lh=[],jh=!1;function Dh(){Lh.forEach(function(t){clearInterval(t.pid)}),Lh=[]}function Nh(){clearInterval(Rh)}var Bh=gu(function(t,e,n,r){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,c=e.scrollSpeed,l=lu(),u=!1;Ch!==n&&(Ch=n,Dh(),Oh=e.scroll,i=e.scrollFn,!0===Oh&&(Oh=mu(n,!0)));var h=0,f=Oh;do{var d=f,p=uu(d),v=p.top,m=p.bottom,y=p.left,g=p.right,b=p.width,_=p.height,w=void 0,S=void 0,E=d.scrollWidth,x=d.scrollHeight,T=au(d),A=d.scrollLeft,k=d.scrollTop;d===l?(w=b<E&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),S=_<x&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(w=b<E&&("auto"===T.overflowX||"scroll"===T.overflowX),S=_<x&&("auto"===T.overflowY||"scroll"===T.overflowY));var O=w&&(Math.abs(g-o)<=s&&A+b<E)-(Math.abs(y-o)<=s&&!!A),C=S&&(Math.abs(m-a)<=s&&k+_<x)-(Math.abs(v-a)<=s&&!!k);if(!Lh[h])for(var P=0;P<=h;P++)Lh[P]||(Lh[P]={});Lh[h].vx==O&&Lh[h].vy==C&&Lh[h].el===d||(Lh[h].el=d,Lh[h].vx=O,Lh[h].vy=C,clearInterval(Lh[h].pid),0==O&&0==C||(u=!0,Lh[h].pid=setInterval(function(){r&&0===this.layer&&wh.active._onTouchMove(Mh);var e=Lh[this.layer].vy?Lh[this.layer].vy*c:0,n=Lh[this.layer].vx?Lh[this.layer].vx*c:0;"function"==typeof i&&"continue"!==i.call(wh.dragged.parentNode[Su],n,e,t,Mh,Lh[this.layer].el)||bu(Lh[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=mu(f,!1)));jh=u}},30),Fh=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var c=n||i;a();var l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function Uh(){}function zh(){}Uh.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=fu(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:Fh},Hl(Uh,{pluginName:"revertOnSpill"}),zh.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:Fh},Hl(zh,{pluginName:"removeOnSpill"});wh.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?Jl(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Jl(document,"pointermove",this._handleFallbackAutoScroll):e.touches?Jl(document,"touchmove",this._handleFallbackAutoScroll):Jl(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?Ql(document,"dragover",this._handleAutoScroll):(Ql(document,"pointermove",this._handleFallbackAutoScroll),Ql(document,"touchmove",this._handleFallbackAutoScroll),Ql(document,"mousemove",this._handleFallbackAutoScroll)),Nh(),Dh(),clearTimeout(ru),ru=void 0},nulling:function(){Mh=Ch=Oh=jh=Rh=Ph=Ih=null,Lh.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(r,i);if(Mh=t,e||this.options.forceAutoScrollFallback||Vl||Yl||$l){Bh(t,this.options,o,e);var a=mu(o,!0);!jh||Rh&&r===Ph&&i===Ih||(Rh&&Nh(),Rh=setInterval(function(){var o=mu(document.elementFromPoint(r,i),!0);o!==a&&(a=o,Dh()),Bh(t,n.options,o,e)},10),Ph=r,Ih=i)}else{if(!this.options.bubbleScroll||mu(o,!0)===lu())return void Dh();Bh(t,this.options,mu(o,!1),!1)}}},Hl(t,{pluginName:"scroll",initializeByDefault:!0})}),wh.mount(zh,Uh);const Hh=wh;function Gh(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qh(t){return t instanceof Gh(t).Element||t instanceof Element}function Yh(t){return t instanceof Gh(t).HTMLElement||t instanceof HTMLElement}function Vh(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Gh(t).ShadowRoot||t instanceof ShadowRoot)}var Wh=Math.max,$h=Math.min,Kh=Math.round;function Zh(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Xh(){return!/^((?!chrome|android).)*safari/i.test(Zh())}function Jh(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Yh(t)&&(i=t.offsetWidth>0&&Kh(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Kh(r.height)/t.offsetHeight||1);var a=(qh(t)?Gh(t):window).visualViewport,s=!Xh()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/i,l=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,h=r.height/o;return{width:u,height:h,top:l,right:c+u,bottom:l+h,left:c,x:c,y:l}}function Qh(t){var e=Gh(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function tf(t){return t?(t.nodeName||"").toLowerCase():null}function ef(t){return((qh(t)?t.ownerDocument:t.document)||window.document).documentElement}function nf(t){return Jh(ef(t)).left+Qh(t).scrollLeft}function rf(t){return Gh(t).getComputedStyle(t)}function of(t){var e=rf(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function af(t,e,n){void 0===n&&(n=!1);var r,i,o=Yh(e),a=Yh(e)&&function(t){var e=t.getBoundingClientRect(),n=Kh(e.width)/t.offsetWidth||1,r=Kh(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),s=ef(e),c=Jh(t,a,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==tf(e)||of(s))&&(l=(r=e)!==Gh(r)&&Yh(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Qh(r)),Yh(e)?((u=Jh(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=nf(s))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function sf(t){var e=Jh(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function cf(t){return"html"===tf(t)?t:t.assignedSlot||t.parentNode||(Vh(t)?t.host:null)||ef(t)}function lf(t){return["html","body","#document"].indexOf(tf(t))>=0?t.ownerDocument.body:Yh(t)&&of(t)?t:lf(cf(t))}function uf(t,e){var n;void 0===e&&(e=[]);var r=lf(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=Gh(r),a=i?[o].concat(o.visualViewport||[],of(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(uf(cf(a)))}function hf(t){return["table","td","th"].indexOf(tf(t))>=0}function ff(t){return Yh(t)&&"fixed"!==rf(t).position?t.offsetParent:null}function df(t){for(var e=Gh(t),n=ff(t);n&&hf(n)&&"static"===rf(n).position;)n=ff(n);return n&&("html"===tf(n)||"body"===tf(n)&&"static"===rf(n).position)?e:n||function(t){var e=/firefox/i.test(Zh());if(/Trident/i.test(Zh())&&Yh(t)&&"fixed"===rf(t).position)return null;var n=cf(t);for(Vh(n)&&(n=n.host);Yh(n)&&["html","body"].indexOf(tf(n))<0;){var r=rf(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var pf="top",vf="bottom",mf="right",yf="left",gf="auto",bf=[pf,vf,mf,yf],_f="start",wf="end",Sf="viewport",Ef="popper",xf=bf.reduce(function(t,e){return t.concat([e+"-"+_f,e+"-"+wf])},[]),Tf=[].concat(bf,[gf]).reduce(function(t,e){return t.concat([e,e+"-"+_f,e+"-"+wf])},[]),Af=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function kf(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}}),r.push(t)}return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||i(t)}),r}var Of={placement:"bottom",modifiers:[],strategy:"absolute"};function Cf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function Pf(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?Of:i;return function(t,e,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Of,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:qh(t)?uf(t):t.contextElement?uf(t.contextElement):[],popper:uf(e)};var a,l,f=function(t){var e=kf(t);return Af.reduce(function(t,n){return t.concat(e.filter(function(t){return t.phase===n}))},[])}((a=[].concat(r,s.options.modifiers),l=a.reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t},{}),Object.keys(l).map(function(t){return l[t]})));return s.orderedModifiers=f.filter(function(t){return t.enabled}),s.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:s,name:e,instance:u,options:r}),a=function(){};c.push(o||a)}}),u.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,n=t.popper;if(Cf(e,n)){s.rects={reference:af(e,df(n),"fixed"===s.options.strategy),popper:sf(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(t){return s.modifiersData[t.name]=Object.assign({},t.data)});for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,c=void 0===a?{}:a,h=i.name;"function"==typeof o&&(s=o({state:s,options:c,name:h,instance:u})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(t){u.forceUpdate(),t(s)})},function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(i())})})),a}),destroy:function(){h(),l=!0}};if(!Cf(t,e))return u;function h(){c.forEach(function(t){return t()}),c=[]}return u.setOptions(n).then(function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)}),u}}var If={passive:!0};function Mf(t){return t.split("-")[0]}function Rf(t){return t.split("-")[1]}function Lf(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function jf(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?Mf(i):null,a=i?Rf(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case pf:e={x:s,y:n.y-r.height};break;case vf:e={x:s,y:n.y+n.height};break;case mf:e={x:n.x+n.width,y:c};break;case yf:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var l=o?Lf(o):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case _f:e[l]=e[l]-(n[u]/2-r[u]/2);break;case wf:e[l]=e[l]+(n[u]/2-r[u]/2)}}return e}var Df={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nf(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=a.x,d=void 0===f?0:f,p=a.y,v=void 0===p?0:p,m="function"==typeof u?u({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),b=yf,_=pf,w=window;if(l){var S=df(n),E="clientHeight",x="clientWidth";if(S===Gh(n)&&"static"!==rf(S=ef(n)).position&&"absolute"===s&&(E="scrollHeight",x="scrollWidth"),i===pf||(i===yf||i===mf)&&o===wf)_=vf,v-=(h&&S===w&&w.visualViewport?w.visualViewport.height:S[E])-r.height,v*=c?1:-1;if(i===yf||(i===pf||i===vf)&&o===wf)b=mf,d-=(h&&S===w&&w.visualViewport?w.visualViewport.width:S[x])-r.width,d*=c?1:-1}var T,A=Object.assign({position:s},l&&Df),k=!0===u?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Kh(n*i)/i||0,y:Kh(r*i)/i||0}}({x:d,y:v},Gh(n)):{x:d,y:v};return d=k.x,v=k.y,c?Object.assign({},A,((T={})[_]=g?"0":"",T[b]=y?"0":"",T.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",T)):Object.assign({},A,((e={})[_]=g?v+"px":"",e[b]=y?d+"px":"",e.transform="",e))}const Bf={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];Yh(i)&&tf(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});Yh(r)&&tf(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]};const Ff={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=Tf.reduce(function(t,n){return t[n]=function(t,e,n){var r=Mf(t),i=[yf,pf].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[yf,mf].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,o),t},{}),s=a[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}};var Uf={left:"right",right:"left",bottom:"top",top:"bottom"};function zf(t){return t.replace(/left|right|bottom|top/g,function(t){return Uf[t]})}var Hf={start:"end",end:"start"};function Gf(t){return t.replace(/start|end/g,function(t){return Hf[t]})}function qf(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Vh(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Vf(t,e,n){return e===Sf?Yf(function(t,e){var n=Gh(t),r=ef(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var l=Xh();(l||!l&&"fixed"===e)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+nf(t),y:c}}(t,n)):qh(e)?function(t,e){var n=Jh(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):Yf(function(t){var e,n=ef(t),r=Qh(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=Wh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Wh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+nf(t),c=-r.scrollTop;return"rtl"===rf(i||n).direction&&(s+=Wh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(ef(t)))}function Wf(t,e,n,r){var i="clippingParents"===e?function(t){var e=uf(cf(t)),n=["absolute","fixed"].indexOf(rf(t).position)>=0&&Yh(t)?df(t):t;return qh(n)?e.filter(function(t){return qh(t)&&qf(t,n)&&"body"!==tf(t)}):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(e,n){var i=Vf(t,n,r);return e.top=Wh(i.top,e.top),e.right=$h(i.right,e.right),e.bottom=$h(i.bottom,e.bottom),e.left=Wh(i.left,e.left),e},Vf(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function $f(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Kf(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}function Zf(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,a=void 0===o?t.strategy:o,s=n.boundary,c=void 0===s?"clippingParents":s,l=n.rootBoundary,u=void 0===l?Sf:l,h=n.elementContext,f=void 0===h?Ef:h,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,y=$f("number"!=typeof m?m:Kf(m,bf)),g=f===Ef?"reference":Ef,b=t.rects.popper,_=t.elements[p?g:f],w=Wf(qh(_)?_:_.contextElement||ef(t.elements.popper),c,u,a),S=Jh(t.elements.reference),E=jf({reference:S,element:b,strategy:"absolute",placement:i}),x=Yf(Object.assign({},b,E)),T=f===Ef?x:S,A={top:w.top-T.top+y.top,bottom:T.bottom-w.bottom+y.bottom,left:w.left-T.left+y.left,right:T.right-w.right+y.right},k=t.modifiersData.offset;if(f===Ef&&k){var O=k[i];Object.keys(A).forEach(function(t){var e=[mf,vf].indexOf(t)>=0?1:-1,n=[pf,vf].indexOf(t)>=0?"y":"x";A[t]+=O[n]*e})}return A}function Xf(t,e,n){return Wh(t,$h(e,n))}const Jf={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=Zf(e,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),y=Mf(e.placement),g=Rf(e.placement),b=!g,_=Lf(y),w="x"===_?"y":"x",S=e.modifiersData.popperOffsets,E=e.rects.reference,x=e.rects.popper,T="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,A="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(S){if(o){var C,P="y"===_?pf:yf,I="y"===_?vf:mf,M="y"===_?"height":"width",R=S[_],L=R+m[P],j=R-m[I],D=d?-x[M]/2:0,N=g===_f?E[M]:x[M],B=g===_f?-x[M]:-E[M],F=e.elements.arrow,U=d&&F?sf(F):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[P],G=z[I],q=Xf(0,E[M],U[M]),Y=b?E[M]/2-D-q-H-A.mainAxis:N-q-H-A.mainAxis,V=b?-E[M]/2+D+q+G+A.mainAxis:B+q+G+A.mainAxis,W=e.elements.arrow&&df(e.elements.arrow),$=W?"y"===_?W.clientTop||0:W.clientLeft||0:0,K=null!=(C=null==k?void 0:k[_])?C:0,Z=R+V-K,X=Xf(d?$h(L,R+Y-K-$):L,R,d?Wh(j,Z):j);S[_]=X,O[_]=X-R}if(s){var J,Q="x"===_?pf:yf,tt="x"===_?vf:mf,et=S[w],nt="y"===w?"height":"width",rt=et+m[Q],it=et-m[tt],ot=-1!==[pf,yf].indexOf(y),at=null!=(J=null==k?void 0:k[w])?J:0,st=ot?rt:et-E[nt]-x[nt]-at+A.altAxis,ct=ot?et+E[nt]+x[nt]-at-A.altAxis:it,lt=d&&ot?function(t,e,n){var r=Xf(t,e,n);return r>n?n:r}(st,et,ct):Xf(d?st:rt,et,d?ct:it);S[w]=lt,O[w]=lt-et}e.modifiersData[r]=O}},requiresIfExists:["offset"]};const Qf={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Mf(n.placement),c=Lf(s),l=[yf,mf].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(t,e){return $f("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Kf(t,bf))}(i.padding,n),h=sf(o),f="y"===c?pf:yf,d="y"===c?vf:mf,p=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],v=a[c]-n.rects.reference[c],m=df(o),y=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,b=u[f],_=y-h[l]-u[d],w=y/2-h[l]/2+g,S=Xf(b,w,_),E=c;n.modifiersData[r]=((e={})[E]=S,e.centerOffset=S-w,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&qf(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function td(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ed(t){return[pf,mf,vf,yf].some(function(e){return t[e]>=0})}var nd=Pf({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=Gh(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(t){t.addEventListener("scroll",n.update,If)}),s&&c.addEventListener("resize",n.update,If),function(){o&&l.forEach(function(t){t.removeEventListener("scroll",n.update,If)}),s&&c.removeEventListener("resize",n.update,If)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=jf({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:Mf(e.placement),variation:Rf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Nf(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Nf(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Bf,Ff,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=e.options.placement,y=Mf(m),g=c||(y===m||!p?[zf(m)]:function(t){if(Mf(t)===gf)return[];var e=zf(t);return[Gf(t),e,Gf(e)]}(m)),b=[m].concat(g).reduce(function(t,n){return t.concat(Mf(n)===gf?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?Tf:c,u=Rf(r),h=u?s?xf:xf.filter(function(t){return Rf(t)===u}):bf,f=h.filter(function(t){return l.indexOf(t)>=0});0===f.length&&(f=h);var d=f.reduce(function(e,n){return e[n]=Zf(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[Mf(n)],e},{});return Object.keys(d).sort(function(t,e){return d[t]-d[e]})}(e,{placement:n,boundary:u,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)},[]),_=e.rects.reference,w=e.rects.popper,S=new Map,E=!0,x=b[0],T=0;T<b.length;T++){var A=b[T],k=Mf(A),O=Rf(A)===_f,C=[pf,vf].indexOf(k)>=0,P=C?"width":"height",I=Zf(e,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:l}),M=C?O?mf:yf:O?vf:pf;_[P]>w[P]&&(M=zf(M));var R=zf(M),L=[];if(o&&L.push(I[k]<=0),s&&L.push(I[M]<=0,I[R]<=0),L.every(function(t){return t})){x=A,E=!1;break}S.set(A,L)}if(E)for(var j=function(t){var e=b.find(function(e){var n=S.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return x=e,"break"},D=p?3:1;D>0;D--){if("break"===j(D))break}e.placement!==x&&(e.modifiersData[r]._skip=!0,e.placement=x,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Jf,Qf,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Zf(e,{elementContext:"reference"}),s=Zf(e,{altBoundary:!0}),c=td(a,r),l=td(s,i,o),u=ed(c),h=ed(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),rd="tippy-content",id="tippy-backdrop",od="tippy-arrow",ad="tippy-svg-arrow",sd={passive:!0,capture:!0},cd=function(){return document.body};function ld(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function ud(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function hd(t,e){return"function"==typeof t?t.apply(void 0,e):t}function fd(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};var n}function dd(t){return[].concat(t)}function pd(t,e){-1===t.indexOf(e)&&t.push(e)}function vd(t){return t.split("-")[0]}function md(t){return[].slice.call(t)}function yd(t){return Object.keys(t).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{})}function gd(){return document.createElement("div")}function bd(t){return["Element","Fragment"].some(function(e){return ud(t,e)})}function _d(t){return ud(t,"MouseEvent")}function wd(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Sd(t){return bd(t)?[t]:function(t){return ud(t,"NodeList")}(t)?md(t):Array.isArray(t)?t:md(document.querySelectorAll(t))}function Ed(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function xd(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Td(t){var e,n=dd(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function Ad(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[r](e,n)})}function kd(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Od={isTouch:!1},Cd=0;function Pd(){Od.isTouch||(Od.isTouch=!0,window.performance&&document.addEventListener("mousemove",Id))}function Id(){var t=performance.now();t-Cd<20&&(Od.isTouch=!1,document.removeEventListener("mousemove",Id)),Cd=t}function Md(){var t=document.activeElement;if(wd(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Rd=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Ld={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},jd=Object.assign({appendTo:cd,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ld,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Dd=Object.keys(jd);function Nd(t){var e=(t.plugins||[]).reduce(function(e,n){var r,i=n.name,o=n.defaultValue;i&&(e[i]=void 0!==t[i]?t[i]:null!=(r=jd[i])?r:o);return e},{});return Object.assign({},t,e)}function Bd(t,e){var n=Object.assign({},e,{content:hd(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Nd(Object.assign({},jd,{plugins:e}))):Dd).reduce(function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e},{})}(t,e.plugins));return n.aria=Object.assign({},jd.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function Fd(t,e){t.innerHTML=e}function Ud(t){var e=gd();return!0===t?e.className=od:(e.className=ad,bd(t)?e.appendChild(t):Fd(e,t)),e}function zd(t,e){bd(e.content)?(Fd(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Fd(t,e.content):t.textContent=e.content)}function Hd(t){var e=t.firstElementChild,n=md(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(rd)}),arrow:n.find(function(t){return t.classList.contains(od)||t.classList.contains(ad)}),backdrop:n.find(function(t){return t.classList.contains(id)})}}function Gd(t){var e=gd(),n=gd();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=gd();function i(n,r){var i=Hd(e),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||zd(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(Ud(r.arrow))):o.appendChild(Ud(r.arrow)):s&&o.removeChild(s)}return r.className=rd,r.setAttribute("data-state","hidden"),zd(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props),{popper:e,onUpdate:i}}Gd.$$tippy=!0;var qd=1,Yd=[],Vd=[];function Wd(t,e){var n,r,i,o,a,s,c,l,u=Bd(t,Object.assign({},jd,Nd(yd(e)))),h=!1,f=!1,d=!1,p=!1,v=[],m=fd(W,u.interactiveDebounce),y=qd++,g=(l=u.plugins).filter(function(t,e){return l.indexOf(t)===e}),b={id:y,reference:t,popper:gd(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(e){0;if(b.state.isDestroyed)return;R("onBeforeUpdate",[b,e]),Y();var n=b.props,r=Bd(t,Object.assign({},n,yd(e),{ignoreAttributes:!0}));b.props=r,q(),n.interactiveDebounce!==r.interactiveDebounce&&(D(),m=fd(W,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?dd(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&t.removeAttribute("aria-expanded");j(),M(),S&&S(n,r);b.popperInstance&&(X(),Q().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));R("onAfterUpdate",[b,e])},setContent:function(t){b.setProps({content:t})},show:function(){0;var t=b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=Od.isTouch&&!b.props.touch,i=ld(b.props.duration,0,jd.duration);if(t||e||n||r)return;if(O().hasAttribute("disabled"))return;if(R("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,k()&&(w.style.visibility="visible");M(),U(),b.state.isMounted||(w.style.transition="none");if(k()){var o=P();Ed([o.box,o.content],0)}s=function(){var t;if(b.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,k()&&b.props.animation){var e=P(),n=e.box,r=e.content;Ed([n,r],i),xd([n,r],"visible")}L(),j(),pd(Vd,b),null==(t=b.popperInstance)||t.forceUpdate(),R("onMount",[b]),b.props.animation&&k()&&function(t,e){H(t,e)}(i,function(){b.state.isShown=!0,R("onShown",[b])})}},function(){var t,e=b.props.appendTo,n=O();t=b.props.interactive&&e===cd||"parent"===e?n.parentNode:hd(e,[n]);t.contains(w)||t.appendChild(w);b.state.isMounted=!0,X(),!1}()},hide:function(){0;var t=!b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=ld(b.props.duration,1,jd.duration);if(t||e||n)return;if(R("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,h=!1,k()&&(w.style.visibility="hidden");if(D(),z(),M(!0),k()){var i=P(),o=i.box,a=i.content;b.props.animation&&(Ed([o,a],r),xd([o,a],"hidden"))}L(),j(),b.props.animation?k()&&function(t,e){H(t,function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&e()})}(r,b.unmount):b.unmount()},hideWithInteractivity:function(t){0;C().addEventListener("mousemove",m),pd(Yd,m),m(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;J(),Q().forEach(function(t){t._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w);Vd=Vd.filter(function(t){return t!==b}),b.state.isMounted=!1,R("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),Y(),delete t._tippy,b.state.isDestroyed=!0,R("onDestroy",[b])}};if(!u.render)return b;var _=u.render(b),w=_.popper,S=_.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,t._tippy=b,w._tippy=b;var E=g.map(function(t){return t.fn(b)}),x=t.hasAttribute("aria-expanded");return q(),j(),M(),R("onCreate",[b]),u.showOnCreate&&tt(),w.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&C().addEventListener("mousemove",m)}),b;function T(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function A(){return"hold"===T()[0]}function k(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function O(){return c||t}function C(){var t=O().parentNode;return t?Td(t):document}function P(){return Hd(w)}function I(t){return b.state.isMounted&&!b.state.isVisible||Od.isTouch||o&&"focus"===o.type?0:ld(b.props.delay,t?0:1,jd.delay)}function M(t){void 0===t&&(t=!1),w.style.pointerEvents=b.props.interactive&&!t?"":"none",w.style.zIndex=""+b.props.zIndex}function R(t,e,n){var r;(void 0===n&&(n=!0),E.forEach(function(n){n[t]&&n[t].apply(n,e)}),n)&&(r=b.props)[t].apply(r,e)}function L(){var e=b.props.aria;if(e.content){var n="aria-"+e.content,r=w.id;dd(b.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(n);if(b.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var i=e&&e.replace(r,"").trim();i?t.setAttribute(n,i):t.removeAttribute(n)}})}}function j(){!x&&b.props.aria.expanded&&dd(b.props.triggerTarget||t).forEach(function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===O()?"true":"false"):t.removeAttribute("aria-expanded")})}function D(){C().removeEventListener("mousemove",m),Yd=Yd.filter(function(t){return t!==m})}function N(e){if(!Od.isTouch||!d&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!kd(w,n)){if(dd(b.props.triggerTarget||t).some(function(t){return kd(t,n)})){if(Od.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),f=!0,setTimeout(function(){f=!1}),b.state.isMounted||z())}}}function B(){d=!0}function F(){d=!1}function U(){var t=C();t.addEventListener("mousedown",N,!0),t.addEventListener("touchend",N,sd),t.addEventListener("touchstart",F,sd),t.addEventListener("touchmove",B,sd)}function z(){var t=C();t.removeEventListener("mousedown",N,!0),t.removeEventListener("touchend",N,sd),t.removeEventListener("touchstart",F,sd),t.removeEventListener("touchmove",B,sd)}function H(t,e){var n=P().box;function r(t){t.target===n&&(Ad(n,"remove",r),e())}if(0===t)return e();Ad(n,"remove",a),Ad(n,"add",r),a=r}function G(e,n,r){void 0===r&&(r=!1),dd(b.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,n,r),v.push({node:t,eventType:e,handler:n,options:r})})}function q(){var t;A()&&(G("touchstart",V,{passive:!0}),G("touchend",$,{passive:!0})),(t=b.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(G(t,V),t){case"mouseenter":G("mouseleave",$);break;case"focus":G(Rd?"focusout":"blur",K);break;case"focusin":G("focusout",K)}})}function Y(){v.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),v=[]}function V(t){var e,n=!1;if(b.state.isEnabled&&!Z(t)&&!f){var r="focus"===(null==(e=o)?void 0:e.type);o=t,c=t.currentTarget,j(),!b.state.isVisible&&_d(t)&&Yd.forEach(function(e){return e(t)}),"click"===t.type&&(b.props.trigger.indexOf("mouseenter")<0||h)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:tt(t),"click"===t.type&&(h=!n),n&&!r&&et(t)}}function W(t){var e=t.target,n=O().contains(e)||w.contains(e);if("mousemove"!==t.type||!n){var r=Q().concat(w).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:u}:null}).filter(Boolean);(function(t,e){var n=e.clientX,r=e.clientY;return t.every(function(t){var e=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=vd(i.placement),s=i.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,h="left"===a?s.right.x:0,f=e.top-r+c>o,d=r-e.bottom-l>o,p=e.left-n+u>o,v=n-e.right-h>o;return f||d||p||v})})(r,t)&&(D(),et(t))}}function $(t){Z(t)||b.props.trigger.indexOf("click")>=0&&h||(b.props.interactive?b.hideWithInteractivity(t):et(t))}function K(t){b.props.trigger.indexOf("focusin")<0&&t.target!==O()||b.props.interactive&&t.relatedTarget&&w.contains(t.relatedTarget)||et(t)}function Z(t){return!!Od.isTouch&&A()!==t.type.indexOf("touch")>=0}function X(){J();var e=b.props,n=e.popperOptions,r=e.placement,i=e.offset,o=e.getReferenceClientRect,a=e.moveTransition,c=k()?Hd(w).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||O()}:t,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(k()){var n=P().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},u];k()&&c&&h.push({name:"arrow",options:{element:c,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),b.popperInstance=nd(l,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:h}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return md(w.querySelectorAll("[data-tippy-root]"))}function tt(t){b.clearDelayTimeouts(),t&&R("onTrigger",[b,t]),U();var e=I(!0),r=T(),i=r[0],o=r[1];Od.isTouch&&"hold"===i&&o&&(e=o),e?n=setTimeout(function(){b.show()},e):b.show()}function et(t){if(b.clearDelayTimeouts(),R("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&h)){var e=I(!1);e?r=setTimeout(function(){b.state.isVisible&&b.hide()},e):i=requestAnimationFrame(function(){b.hide()})}}else z()}}function $d(t,e){void 0===e&&(e={});var n=jd.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Pd,sd),window.addEventListener("blur",Md);var r=Object.assign({},e,{plugins:n}),i=Sd(t).reduce(function(t,e){var n=e&&Wd(e,r);return n&&t.push(n),t},[]);return bd(t)?i[0]:i}$d.defaultProps=jd,$d.setDefaultProps=function(t){Object.keys(t).forEach(function(e){jd[e]=t[e]})},$d.currentInput=Od;Object.assign({},Bf,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});$d.setDefaultProps({render:Gd});const Kd=$d;function Zd(t){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(t)}function Xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jd(r.key),r)}}function Jd(t){var e=function(t,e){if("object"!=Zd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zd(e)?e:e+""}var Qd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&Xd(t.prototype,e),n&&Xd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"set",value:function(t){Kd(t,{arrow:!0,theme:"custom",animation:"shift-away-subtle",placement:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto"})}},{key:"showOnceOnMouseEnter",value:function(e,n){var r,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;Array.isArray(e)?(i=e[0],e=e[1]):i=document.querySelector(e);var c=localStorage.getItem("tippy_mouseenter_".concat(e));if(!(o&&null!==c&&parseInt(c)>=s))return null!==(r=t.cache.instance)&&void 0!==r&&r[e]||(t.cache.instance[e]={nbTimeTriggered:0,mouseEnter:null,mouseLeave:null,enabled:!0}),Kd(i,{arrow:!0,content:n,theme:"custom",animation:"shift-away-subtle",duration:[150,150],placement:a,trigger:"mouseenter",allowHTML:!0,onTrigger:function(n,r){t.cache.instance[e].enabled&&(t.cache.instance[e].mouseEnter=new Date,t.cache.instance[e].nbTimeTriggered+=1)},onUntrigger:function(n,r){t.cache.instance[e].enabled&&(t.cache.instance[e].mouseLeave=new Date,t.cache.instance[e].nbTimeTriggered>0&&t.cache.instance[e].mouseEnter&&t.cache.instance[e].mouseLeave&&t.cache.instance[e].mouseLeave-t.cache.instance[e].mouseEnter>=800&&(t.cache.instance[e].enabled=!1,n.disable(),o&&(null===c&&(c=0),localStorage.setItem("tippy_mouseenter_".concat(e),String(parseInt(c)+1))),t.disableBySelector(e)))}})}},{key:"show",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"custom";if("string"==typeof t)t=document.querySelector(t);else if("object"!==Zd(t))return;document.querySelectorAll(".js-tippy").forEach(function(t){void 0!==t._tippy&&t._tippy.destroy()});var a={arrow:!0,content:e,theme:o,animation:"shift-away-subtle",duration:[150,150],placement:n,hideOnClick:!1,trigger:"manual",allowHTML:!0,interactive:i,onCreate:function(t){i&&t.popper.classList.add("interactive")},onHidden:function(e){e.destroy(),t.classList.remove("js-tippy")}},s=Kd(t,a);return t.classList.add("js-tippy"),s.show(),r>0&&setTimeout(function(){void 0!==t._tippy&&s.hide()},r),s}},{key:"showOnMouseEnter",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"custom";if("string"==typeof t)t=document.querySelector(t);else if("object"!==Zd(t)||!t)return;t._tippy&&t._tippy.destroy();var o={arrow:!0,content:e,theme:i,animation:"shift-away-subtle",duration:[150,150],placement:n,trigger:"mouseenter",allowHTML:!0,interactive:r,onCreate:function(t){r&&t.popper.classList.add("interactive")}},a=Kd(t,o);return t.classList.add("js-tippy"),a}},{key:"disableBySelector",value:function(t){document.querySelectorAll(t).forEach(function(t){t._tippy&&t._tippy.disable()})}}])}();!function(t,e,n){(e=Jd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Qd,"cache",{instance:{}});const tp=Qd;function ep(t){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(t)}function np(t){return function(t){if(Array.isArray(t))return ap(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||op(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||op(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=op(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function op(t,e){if(t){if("string"==typeof t)return ap(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ap(t,e):void 0}}function ap(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cp(r.key),r)}}function cp(t){var e=function(t,e){if("object"!=ep(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ep(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ep(e)?e:e+""}var lp=function(){return function(t,e,n){return e&&sp(t.prototype,e),n&&sp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._race=1,this._raceSelectType="auto",this._board=null,this._parsedTable=null,this._isRanked=!0,this._tableParser=new Tl,this._alertDialog=new Or,this._sortable=null,this._raceChoices=null,this._subscribeElements()},[{key:"_selectors",get:function(){return{item:".js-edit-scores-item",position:".js-edit-scores-player-position",name:".js-edit-scores-player-name",penalty:".js-edit-scores-player-penalty",race:".js-race-select",raceChoices:"#edit-scores-modal .choices"}}},{key:"_subscribeElements",value:function(){this._elements={textarea:document.querySelector(".js-scores-table"),race:document.querySelector(".js-race-select"),playersList:document.querySelector(".js-players-list"),editScores:document.querySelector(".js-edit-scores"),apply:document.querySelector(".js-edit-scores-apply"),editScoresModal:document.querySelector("#edit-scores-modal"),penaltyModal:document.querySelector("#edit-scores-penalty-options-modal")}}},{key:"setRace",value:function(t){if("auto"===t){if(!this._parsedTable)return this._raceSelectType="auto",this._race=this._getAutomaticRaceNumber(),this;if(this._canUseAutomaticRaceMode())return this._raceSelectType="auto",this._race=this._getAutomaticRaceNumber(),this;this._raceSelectType="manual",this._race=1}else this._raceSelectType="manual",this._race=parseInt(t,10);return this}},{key:"setBoard",value:function(t){return this._board=t,this}},{key:"setParsedTable",value:function(t){return this._parsedTable=t,this}},{key:"setIsRanked",value:function(t){return this._isRanked=t,this}},{key:"loadControls",value:function(){this._raceChoices||this._initRaceChoices(),this._fillRaceChoices("auto"===this._raceSelectType?"auto":String(this._race));var t=this._getPlayers();if(t){this._elements.playersList.innerHTML="";var e,n=ip(t.entries());try{for(n.s();!(e=n.n()).done;){var r=rp(e.value,2)[1],i=document.createElement("li");i.className="js-edit-scores-item list-group-item d-flex align-items-center draggable",i.dataset.value=r.name,i.innerHTML='\n      <span class="position js-edit-scores-player-position">'.concat(this._getPositionLabel(r.positions[this._race-1]),'</span>\n      <span class="name js-edit-scores-player-name flex-grow-1">').concat(this._getPlayerName(r.name,16),'</span>\n      <span class="penalty js-edit-scores-player-penalty">[P]</span>\n    '),this._setPlayerListeners(i),this._elements.playersList.appendChild(i)}}catch(t){n.e(t)}finally{n.f()}this._setTippyTooltips(),this._sortable||this._initSortable();var o=ec().getInstance(this._elements.editScoresModal)||new(ec())(this._elements.editScoresModal);this._elements.editScoresModal.classList.contains("show")||o.show()}}},{key:"closeControls",value:function(){(ec().getInstance(this._elements.editScoresModal)||new(ec())(this._elements.editScoresModal)).hide()}},{key:"applyChanges",value:function(){var t=this,e=this._elements.race.value;if(this.setRace(e),isNaN(this._race)||this._race<1)return!1;var n=[];np(this._elements.playersList.querySelectorAll("li")).forEach(function(e){if("0"===e.querySelector(t._selectors.penalty).textContent.trim()){var r=e.querySelector(t._selectors.position),i=parseInt(r.textContent,10);n.push(isNaN(i)?999:i)}});var r={};np(this._elements.playersList.querySelectorAll("li")).forEach(function(e){var i=e.dataset.value,o=e.querySelector(t._selectors.position),a=e.querySelector(t._selectors.penalty).textContent.trim(),s=parseInt(o.textContent,10);if((isNaN(s)||"0"===a)&&(s=999),999!==s&&n.length>0){var c,l=0,u=ip(n.entries());try{for(u.s();!(c=u.n()).done;){s>rp(c.value,2)[1]&&l++}}catch(t){u.e(t)}finally{u.f()}s-=l}var h=t._getScoreByPosition(s),f=0;if("0"===a);else if("[P]"===a);else{var d=parseInt(a,10);isNaN(d)||(f=d)}r[i]={score:h,penalty:f}});var i,o=this._getTableLines(),a=!1,s=ip(o.entries());try{for(s.s();!(i=s.n()).done;){var c=rp(i.value,2),l=c[0],u=c[1];if(this._tableParser.isPlayerLine(u)){var h,f,d=this._tableParser.getPlayerData(u);if(!d)continue;var p="".concat(d.name," ");for(p+=d.flag.length>0?"[".concat(d.flag,"] "):"";d.scores.length<=this._race-1;)d.scores.push(0);var v=np(d.scores);v[this._race-1]=null!==(h=null==r?void 0:r[d.name].score)&&void 0!==h?h:0,p+=v.join("|");var m=0===d.penalty?0:-Math.abs(d.penalty);p+=(m+=null!==(f=null==r?void 0:r[d.name].penalty)&&void 0!==f?f:0)<0?"".concat(m):"",p+=d.boardRatingCustom>0?" r".concat(d.boardRatingCustom):"",o[l]=p,d.scores.reduce(function(t,e){return t+e},0)===v.reduce(function(t,e){return t+e},0)&&Math.abs(d.penalty)===Math.abs(m)||(a=!0)}}}catch(t){s.e(t)}finally{s.f()}if(!a)return!1;var y=Tl.normalize(o.join("\n"));return this._elements.textarea.value=y,!0}},{key:"_setPlayerListeners",value:function(t){var e,n,r=this,i=!1,o=!1,a=t.querySelector(this._selectors.name);a.addEventListener("mousedown",function(t){0===t.button&&(o=!0,i=!1,e=t.clientX,n=t.clientY)}),a.addEventListener("mousemove",function(t){0===t.button&&(i||o&&(Math.abs(t.clientX-e)>5||Math.abs(t.clientY-n)>5)&&(i=!0))}),a.addEventListener("mouseup",function(e){if(0===e.button){if(o&&!i)return tp.show(t,"Drag and drop to set race positions.","top",1500),void r._alertDialog.show("How to use",{selector:".js-edit-scores-help-alert-dialog",type:Or.TYPE_NONE,triggerType:Or.TRIGGER_TYPE_INSTANT,animationTime:2e3});o=!1,i=!1}}),t.querySelector(this._selectors.position).addEventListener("click",function(){r._onTieClick(t)}),t.querySelector(this._selectors.penalty).addEventListener("click",function(){r._onPenaltyClick(t)})}},{key:"_onTieClick",value:function(t){var e=t.closest(".js-players-list"),n=Array.from(e.querySelectorAll("li")),r=n.indexOf(t);if(0===r)return tp.show(t.querySelector(this._selectors.position),'To tie with first place, click on the "2nd" place text below.',"top",2e3),void this._alertDialog.show("How to use",{selector:".js-edit-scores-help-alert-dialog",type:Or.TYPE_NONE,triggerType:Or.TRIGGER_TYPE_INSTANT,animationTime:1250});var i=this._getPosition(t),o=this._getPosition(n[r-1]);i===o||this._setPosition(t,o);for(var a=r;a<n.length;a++)this._getPosition(n[a])===i&&this._setPosition(n[a],a+1)}},{key:"_onPenaltyClick",value:function(t){var e=t.querySelector(this._selectors.name).innerText,n=t.querySelector(this._selectors.penalty),r=this._elements.penaltyModal.querySelector(".js-penalties");this._elements.penaltyModal.querySelector(".js-penalty-options-player-name").textContent=e,r.innerHTML="";var i=ec().getInstance(this._elements.penaltyModal)||new(ec())(this._elements.penaltyModal);[-10,-8,-6,-5,-4,-3,-2,0,"[P]"].forEach(function(t){var e=0===t;if(e){var o=document.createElement("hr");o.style.margin="0",r.appendChild(o),(o=document.createElement("hr")).style.margin="4px 0 0 0",r.appendChild(o)}var a=document.createElement("li");a.className="list-group-item d-flex align-items-center",a.style.cursor="pointer",e&&(a.style.border="none"),a.textContent=0===t?"Zero points":"[P]"===t?"No penalty":"".concat(t," points"),a.addEventListener("click",function(){n.textContent=0===t?"0":""===t?t:"".concat(t),i.hide()}),r.appendChild(a)}),i.show()}},{key:"_setTippyTooltips",value:function(){if(!Qs.isTouchDevice()){tp.showOnceOnMouseEnter(this._selectors.raceChoices,"Pick a race to edit scores for.<br>Auto = selects the first race without scores.<br>You can paste track names at the bottom of the results field to label races.",!0,"top");var t,e=ip(Array.from(this._elements.playersList.querySelectorAll("li")).entries());try{for(e.s();!(t=e.n()).done;){var n=rp(t.value,2),r=(n[0],n[1]);tp.showOnceOnMouseEnter([r.querySelector(this._selectors.position),this._selectors.position],"Click to tie or untie with the player above.",!0,"right"),tp.showOnceOnMouseEnter([r.querySelector(this._selectors.name),this._selectors.name],"Drag and drop to set race positions.",!0,"top"),tp.showOnceOnMouseEnter([r.querySelector(this._selectors.penalty),this._selectors.penalty],"Click to apply a penalty or zero points.",!0,"left")}}catch(t){e.e(t)}finally{e.f()}}}},{key:"_initRaceChoices",value:function(){var t=this;this._raceChoices=new Ss(this._elements.race,{searchEnabled:!1,itemSelectText:"",shouldSort:!1,placeholder:!1}),this._raceChoices.passedElement.element.addEventListener("showDropdown",function(){t._raceChoices.containerOuter.element.querySelectorAll(".choices__item--choice").forEach(function(t){return t.classList.remove("is-highlighted")})}),this._raceChoices.passedElement.element.addEventListener("choice",function(e){t.setRace(e.detail.value).loadControls()})}},{key:"_fillRaceChoices",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this._raceChoices.getValue(!0));var n=[].concat(np(this._canUseAutomaticRaceMode()?[{value:"auto",label:this._getTrackName("auto")}]:[]),np(Array.from({length:this._getTrackCount()},function(e,n){return{value:String(n+1),label:t._getTrackName(n+1)}})));!e&&n.length&&(e=n[0].value),this._raceChoices.removeActiveItems(),this._raceChoices.clearChoices(),this._raceChoices.setChoices(n,"value","label",!0),requestAnimationFrame(function(){t._raceChoices.setChoiceByValue(e),t._raceChoices.containerOuter.element.querySelectorAll(".choices__item--choice").forEach(function(t){return t.classList.remove("is-highlighted")});var n=t._raceChoices.containerOuter.element.querySelector(".choices__item.choices__item--selectable"),r=t._raceChoices.containerOuter.element.querySelector("#choices--race-select-item-choice-1");null!=n&&n.textContent&&""===n.textContent.trim()&&null!=r&&r.textContent&&(t._raceChoices.containerOuter.element.querySelector(".choices__item.choices__item--selectable").innerHTML=r.textContent)})}},{key:"_initSortable",value:function(){var t=this,e=null,n=null;this._sortable=Hh.create(this._elements.playersList,{forceFallback:!0,animation:150,direction:"vertical",handle:this._selectors.name,onChange:function(r){var i=Array.from(t._elements.playersList.querySelectorAll("li"));null===e&&null===n?(e=r.oldIndex,n=r.newIndex):r.newIndex!==n&&(e=n,n=r.newIndex);var o=r.item,a=i.indexOf(o)+1,s=i[e],c=i.indexOf(s)+1;t._setPosition(s,c),t._setPosition(o,a),t._elements.playersList.querySelectorAll(".draggable").forEach(function(e,n){if(e!==o&&e!==s){var r=t._getPosition(e);r!==a&&r!==c||(e.querySelector(t._selectors.position).textContent=t._getPositionLabel(n+1))}})},onEnd:function(t){e=null,n=null}})}},{key:"_getTrackCount",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(!this._isRanked){var n,r=ip(this._getPlayers().entries());try{for(r.s();!(n=r.n()).done;){var i=rp(n.value,2)[1];i.scores.length>e&&(e=i.scores.length)}}catch(t){r.e(t)}finally{r.f()}}var o=e;if(!this._parsedTable)return o;var a=null===(t=this._board)||void 0===t?void 0:t.game_modes;if(!a)return o;var s,c=ip(a.entries());try{for(c.s();!(s=c.n()).done;){var l=rp(s.value,2),u=(l[0],l[1]);if(u.id===this._parsedTable.id_game_mode){o=u.track_count;break}}}catch(t){c.e(t)}finally{c.f()}return!this._isRanked&&e>o&&(o=e),o}},{key:"_getScoreByPosition",value:function(t){var e,n;if(!this._parsedTable)return 0;if(999===t)return 0;var r=null===(e=this._board)||void 0===e?void 0:e.game_modes;if(!r)return 0;var i,o=null,a=ip(r.entries());try{for(a.s();!(i=a.n()).done;){var s=rp(i.value,2),c=(s[0],s[1]);if(c.id===this._parsedTable.id_game_mode){o=c;break}}}catch(t){a.e(t)}finally{a.f()}if(!o)return 0;var l=o.points.split(",").map(Number);if(0===l.length)return 0;var u=null!==(n=null==l?void 0:l[t-1])&&void 0!==n?n:0,h=this._getPlayers().length;return h<o.max_players&&(u-=o.max_players-h),!this._isRanked&&h>o.max_players&&(u+=h-o.max_players),u}},{key:"_getAutomaticRaceNumber",value:function(){var t=this._getPlayers();if(!t)return 1;for(var e,n=function(e){if(t.every(function(t){var n;return 0===(null!==(n=t.scores[e])&&void 0!==n?n:0)}))return{v:e+1}},r=0;r<this._getTrackCount();r++)if(e=n(r))return e.v;return 1}},{key:"_canUseAutomaticRaceMode",value:function(){var t=this._getPlayers();if(!t)return!1;for(var e,n=function(e){if(t.every(function(t){var n;return 0===(null!==(n=t.scores[e])&&void 0!==n?n:0)}))return{v:!0}},r=0;r<this._getTrackCount();r++)if(e=n(r))return e.v;return!1}},{key:"_getTable",value:function(){return Tl.normalize(this._elements.textarea.value)}},{key:"_getTableLines",value:function(){return this._getTable().split(/\r?\n/)}},{key:"_getPosition",value:function(t){return parseInt(t.querySelector(this._selectors.position).textContent,10)}},{key:"_setPosition",value:function(t,e){t.querySelector(this._selectors.position).textContent=this._getPositionLabel(e)}},{key:"_getPositionLabel",value:function(t){var e="th";return 1===t?e="st":2===t?e="nd":3===t&&(e="rd"),t+e}},{key:"_getPlayers",value:function(){var t=this;if(!this._getTable())return[];var e,n=[],r=ip(this._getTableLines());try{for(r.s();!(e=r.n()).done;){var i=e.value;if(this._tableParser.isPlayerLine(i)){var o=this._tableParser.getPlayerData(i);if(!o)continue;o.positions=[],n.push(o)}}}catch(t){r.e(t)}finally{r.f()}if(!n.length)return n;for(var a=Math.max.apply(Math,np(n.map(function(t){return t.scores.length}))),s=function(t){if(n.map(function(e){var n;return null!==(n=e.scores[t])&&void 0!==n?n:0}).every(function(t){return 0===t}))return n.forEach(function(e,n){e.positions[t]=n+1}),1;for(var e=[].concat(n).sort(function(e,n){var r,i,o=null!==(r=e.scores[t])&&void 0!==r?r:0;return(null!==(i=n.scores[t])&&void 0!==i?i:0)-o}),r=1,i=0;i<e.length;i++)if(0===i)e[i].positions[t]=r;else{var o,a,s=null!==(o=e[i-1].scores[t])&&void 0!==o?o:0;(null!==(a=e[i].scores[t])&&void 0!==a?a:0)===s?e[i].positions[t]=e[i-1].positions[t]:(r=i+1,e[i].positions[t]=r)}},c=0;c<a;c++)s(c);return this._race&&n.sort(function(e,n){var r,i,o=null!==(r=e.scores[t._race-1])&&void 0!==r?r:0;return(null!==(i=n.scores[t._race-1])&&void 0!==i?i:0)-o}),n}},{key:"_getPlayerName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return Array.from(t).length>e?np(t).slice(0,e-3).join("")+"...":t}},{key:"_getTrackName",value:function(t){var e="auto"===t?this._getAutomaticRaceNumber():t,n=this._parsedTable.tracks.length>0,r=this._parsedTable&&void 0!==this._parsedTable.tracks[e-1];return"auto"!==t||r?"auto"===t&&r?"Auto (".concat(e,". ").concat(this._parsedTable.tracks[e-1],")"):r||n?!r&&n?"".concat(e,". Race #").concat(e):"".concat(e,". ").concat(this._parsedTable.tracks[e-1]):"Race #".concat(e):"Auto (Race #".concat(e,")")}}])}();const up=lp;n(86032);function hp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return fp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dp(t){return dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(t)}function pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vp(r.key),r)}}function vp(t){var e=function(t,e){if("object"!=dp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dp(e)?e:e+""}var mp=function(){return function(t,e,n){return e&&pp(t.prototype,e),n&&pp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"getParamer",value:function(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):null}},{key:"removeParameters",value:function(t){var e=window.location.href,n=new URLSearchParams(window.location.search);Array.isArray(t)?t.forEach(function(t){n.delete(t)}):"object"===dp(t)&&Object.keys(t).forEach(function(t){n.delete(t)});var r=e.split("?")[0]+(n.toString()?"?"+n.toString():"");window.history.replaceState({path:r},"",r)}},{key:"addParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=window.location.href,n=new URLSearchParams(window.location.search);if(0===Object.keys(t).length&&t.constructor===Object);else{var r="table";if(null!=t&&t[r]){var i=t[r];delete t[r];var o=new URLSearchParams;o.set(r,i),n.forEach(function(t,e){e!==r&&o.append(e,t)}),Object.entries(t).forEach(function(t){var e=hp(t,2),n=e[0],r=e[1];o.append(n,r)}),n=o}else Object.entries(t).forEach(function(t){var e=hp(t,2),r=e[0],i=e[1];n.has(r)?n.set(r,i):n.append(r,i)})}var a=e.split("?")[0]+"?"+n.toString();window.history.replaceState({path:a},"",a)}}])}();const yp=mp;function gp(t){return gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(t)}function bp(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return _p(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(_p(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,_p(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,_p(h,"constructor",l),_p(l,"constructor",c),c.displayName="GeneratorFunction",_p(l,i,"GeneratorFunction"),_p(h),_p(h,i,"Generator"),_p(h,r,function(){return this}),_p(h,"toString",function(){return"[object Generator]"}),(bp=function(){return{w:o,m:f}})()}function _p(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}_p=function(t,e,n,r){function o(e,n){_p(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},_p(t,e,n,r)}function wp(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Sp(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){wp(o,r,i,a,s,"next",t)}function s(t){wp(o,r,i,a,s,"throw",t)}a(void 0)})}}function Ep(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xp(r.key),r)}}function xp(t){var e=function(t,e){if("object"!=gp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gp(e)?e:e+""}var Tp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&Ep(t.prototype,e),n&&Ep(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"until",value:(n=Sp(bp().m(function e(n){var r,i=arguments;return bp().w(function(e){for(;;)switch(e.n){case 0:r=i.length>1&&void 0!==i[1]?i[1]:60;case 1:if(n()){e.n=3;break}return e.n=2,t.for(r);case 2:e.n=1;break;case 3:return e.a(2)}},e)})),function(t){return n.apply(this,arguments)})},{key:"while",value:(e=Sp(bp().m(function e(n){var r,i=arguments;return bp().w(function(e){for(;;)switch(e.n){case 0:r=i.length>1&&void 0!==i[1]?i[1]:60;case 1:if(!n()){e.n=3;break}return e.n=2,t.for(r);case 2:e.n=1;break;case 3:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})},{key:"for",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}}]);var e,n}();const Ap=Tp;function kp(t){return kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(t)}function Op(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return Cp(l,"_invoke",function(n,r,i){var o,s,c,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,c=t,f.n=n,a}};function d(n,r){for(s=n,c=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],d=f.p,p=o[2];n>3?(i=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,s=0))}if(i||n>1)return a;throw h=!0,r}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,c=p;(e=s<2?t:c)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(h=f.n<0)?c:n.call(r,f))!==a)break}catch(e){o=t,s=1,c=e}finally{l=1}}return{value:e,done:h}}}(n,i,o),!0),l}var a={};function s(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(Cp(e={},r,function(){return this}),e),h=l.prototype=s.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Cp(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return c.prototype=l,Cp(h,"constructor",l),Cp(l,"constructor",c),c.displayName="GeneratorFunction",Cp(l,i,"GeneratorFunction"),Cp(h),Cp(h,i,"Generator"),Cp(h,r,function(){return this}),Cp(h,"toString",function(){return"[object Generator]"}),(Op=function(){return{w:o,m:f}})()}function Cp(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Cp=function(t,e,n,r){function o(e,n){Cp(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},Cp(t,e,n,r)}function Pp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pp(Object(n),!0).forEach(function(e){Fp(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pp(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Mp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Dp(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rp(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Lp(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){Rp(o,r,i,a,s,"next",t)}function s(t){Rp(o,r,i,a,s,"throw",t)}a(void 0)})}}function jp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Dp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(t,e){if(t){if("string"==typeof t)return Np(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Np(t,e):void 0}}function Np(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Up(r.key),r)}}function Fp(t,e,n){return(e=Up(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Up(t){var e=function(t,e){if("object"!=kp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kp(e)?e:e+""}var zp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Nr.acquire("preloader"),Nr.acquire("data"),this._appStart={createdAt:new Date,preloader:1e3,status:"starting",data:"none"},this._appStart.preloader>0&&setTimeout(function(){Nr.release("preloader",!0)},this._appStart.preloader),this._table={parsed:null,status:Tl.STATUS_EMPTY,status_before_calculation:Tl.STATUS_EMPTY,template:"",templateV1:"",src:""},this._submittedMatch={active:!1,exists:!1,parsed:null,disabled:[],time:{started_at:null,ended_at:null,perceptual_minimum:300}},this._presets={selected:null,choices:null},this._data={processing:!1,boards:{ranked:{},custom:{}},resultsSubmissions:[]},this._calculation={processing:!1,time:{started_at:null,ended_at:null,perceptual_minimum:300},error:""},this._timeouts={scroll:null,resize:null,bubble:{timeout:null,processing:!1},textarea:{resizeRAF:{timeout:null,width:0}},table:{displaying:!1,calculating:null,resizeRAF:{timeout:null,width:0}}},this._isSmallScreen=window.innerWidth<1082,this._canvas=new Zi,this._tableGenerator=new Di,this._alertDialog=new Or,this._encryption=new er,this._tableParser=new Tl,qs.addEventListener("app:start:failed",this._onAppStartFailed.bind(this))}return function(t,e,n){return e&&Bp(t.prototype,e),n&&Bp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_selectors",get:function(){return{appStartAlertModal:"#app-start-alert-modal",appTryAgain:".js-try-again",contextMenuModal:"#context-menu-modal",contextMenuCopy:".js-context-menu-copy",contextMenuCopyUrl:".js-context-menu-copy-url",contextMenuDownload:".js-context-menu-download",contextMenuView:".js-context-menu-view",contextMenuEditScores:".js-context-menu-edit",copyImage:".js-copy-image",copyTable:".js-copy-table-data",copyTableText:".js-copy-table-data-text",copyTableLobby:".js-copy-table-data-lobby",customBoardCalculation:".js-use-board-calculation-off",customPresets:".js-custom-presets",downloadImage:".js-download-image",editScores:".js-edit-scores",editScoresApply:".js-edit-scores-apply",editScoresHelpModal:"#edit-scores-help-modal",editScoresModal:"#edit-scores-modal",editScoresRaceSelect:".js-race-select",editScoresShowHelpModal:".js-edit-scores-help-show-modal",howToUseModal:"#how-to-use-modal",canvasPreloader:".js-canvas-preloader",presetConfirmModal:"#preset-confirm-modal",presetConfirmModalYes:".js-preset-confirm-modal-yes",presets:".js-presets",rankedBoardCalculation:".js-use-board-calculation-on",scoresAlert:".js-scores-alert-dialog",scrollBubbles:".js-scroll-bubble",scrollBubbleImage:".js-scroll-bubble-image",showHowToUseModal:".js-how-to-use-modal-show",showTableFormattingModal:".js-table-formatting-modal-show",submittedMatchAlertWrapperXS:".js-match-alert-wrapper-xs",submittedMatchSwitch:".js-submitted-match-switch",tableCanvas:".js-table-canvas",tableFormattingModal:"#table-formatting-modal",textarea:".js-scores-table",textareaClone:".js-scores-table-clone",collapseButton:'[data-bs-toggle="collapse"]'}}},{key:"subscribeElements",value:function(){this._elements={};for(var t=0,e=Object.entries(this._selectors);t<e.length;t++){var n=jp(e[t],2),r=n[0],i=n[1],o=document.querySelectorAll(i);0!==o.length&&(1!==o.length?this._elements[r]=o:this._elements[r]=o[0])}}},{key:"loadData",value:(E=Lp(Op().m(function t(){var e,n=this;return Op().w(function(t){for(;;)switch(t.n){case 0:if(e=function(){var t=Lp(Op().m(function t(){var e,r,i,o,a,s,c,l,u,h,f,d,p;return Op().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,"failed"!==window.appData){t.n=1;break}throw new Error("App data failed to load.");case 1:if(e=n._encryption.decryptPackerGZ(window.appData,!0)){t.n=2;break}throw new Error("App data decryption failed.");case 2:if((r=e[0]).length>0){i=Mp(n._mapBoardsManually(r).entries());try{for(i.s();!(o=i.n()).done;)(a=jp(o.value,2))[0],s=a[1],n._data.boards.ranked[s.id]=s,n._data.boards.custom[s.id]={id:s.id,name:s.name,code:s.code,lobby_type:Ip({},s.lobby_type),game_modes:s.game_modes.map(function(t){return Ip(Ip({},t),{},{rating_scheme:Ip({},t.rating_scheme)})}),rating_settings:Ip({},s.rating_settings),tiers:s.tiers.map(function(t){return Ip({},t)}),players:[],matches:[]}}catch(t){i.e(t)}finally{i.f()}}c=e[1],l=Mp(c.entries());try{for(l.s();!(u=l.n()).done;)h=jp(u.value,2),f=h[1],n._data.resultsSubmissions.push({content:f[0],datetime:f[1]})}catch(t){l.e(t)}finally{l.f()}hr.appDataLastModified=window.appDataLastModified,t.n=4;break;case 3:t.p=3,p=t.v,hr.logError("ScoresCalculationController.initializeAppData: ".concat(p.message),"fatal");case 4:return t.p=4,window.appData=null,window.appDataLastModified=null,(d=Object.keys(n._data.boards.ranked).length>0)||(n._appStart.data="failed",n._appStart.status="failed",qs.dispatch("app:start:failed")),d&&(n._appStart.data="ok"),Nr.release("data",!0),t.f(4);case 5:return t.a(2)}},t,null,[[0,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),"string"!=typeof window.appData){t.n=1;break}return e(),t.a(2);case 1:document.addEventListener("data:ready",e);case 2:return t.a(2)}},t)})),function(){return E.apply(this,arguments)})},{key:"fetchAppDataAndCalculate",value:(S=Lp(Op().m(function t(){var e=this;return Op().w(function(t){for(;;)switch(t.n){case 0:if(!document.hidden){t.n=1;break}return t.a(2);case 1:if(!this._data.processing){t.n=2;break}return t.a(2);case 2:this._data.processing=!0,this.fetchAppData().then(function(t){t&&e._isRanked()&&!e._submittedMatch.active&&e._getTable(!0)&&e._calculate().catch(function(t){return t})}).catch(function(t){return hr.logError("ScoresCalculationController.fetchDataFromApi: ".concat(t.message))}).finally(Lp(Op().m(function t(){return Op().w(function(t){for(;;)switch(t.n){case 0:e._data.processing=!1;case 1:return t.a(2)}},t)})));case 3:return t.a(2)}},t,this)})),function(){return S.apply(this,arguments)})},{key:"fetchAppData",value:(w=Lp(Op().m(function t(){var e,n,r,i,o,a,s,c,l,u,h,f,d,p,v;return Op().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,hr.getBoardsAndResultsSubmissions();case 1:if(e=t.v,0!==Object.keys(e).length){t.n=2;break}return t.a(2,!1);case 2:n={},r=Mp(this._mapBoardsManually(e.boards).entries());try{for(r.s();!(i=r.n()).done;)o=jp(i.value,2),a=o[1],n[a.id]=a}catch(t){r.e(t)}finally{r.f()}s=[],c=Mp(e.resultsSubmissions.entries());try{for(c.s();!(l=c.n()).done;)u=jp(l.value,2),h=u[1],s.push({content:h[0],datetime:h[1]})}catch(t){c.e(t)}finally{c.f()}for(this._data.boards.ranked=n,f=0,d=Object.entries(n);f<d.length;f++)p=jp(d[f],2),v=p[1],this._data.boards.custom[v.id]={id:v.id,name:v.name,code:v.code,lobby_type:Ip({},v.lobby_type),game_modes:v.game_modes.map(function(t){return Ip(Ip({},t),{},{rating_scheme:Ip({},t.rating_scheme)})}),rating_settings:Ip({},v.rating_settings),tiers:v.tiers.map(function(t){return Ip({},t)}),players:[],matches:[]};return this._data.resultsSubmissions=s,t.a(2,!0)}},t,this)})),function(){return w.apply(this,arguments)})},{key:"_mapBoardsManually",value:function(t){return t.map(function(t){return{id:t[0],name:t[1],code:t[2],lobby_type:{id:t[3][0],code:t[3][1]},rating_settings:{rating_average_by_team:t[4][0],rating_min:t[4][1]},game_modes:t[5].map(function(t){return{id:t[0],name:t[1],code:t[2],is_solo:t[3],track_count:t[4],min_players:t[5],default_players:t[6],max_players:t[7],min_teams:t[8],max_teams:t[9],points:t[10],rating_scheme:{id:t[11][0],code:t[11][1],initial_rating:t[11][2],scaling_factor:t[11][3],baseline:t[11][4]}}}),players:t[6].map(function(t){return{name:t[0],ranking:t[1],rating:t[2]}}),matches:t[7].map(function(t){return{number:t[0],id_board:t[1],id_lobby_type:t[2],id_game_mode:t[3],played_at:t[4],is_solo:t[5],teams:t[6].map(function(t){return{name:t[0],score:t[1],penalty:t[2],players:t[3].map(function(t){return{name:t[0],flag:t[1],scores:t[2],penalty:t[3],original_ranking:t[4],final_ranking:t[5],original_rating:t[6],final_rating:t[7]}})}})}}),tiers:t[8].map(function(t){return{name:t[0],lower_bound:t[1],color:t[2]}})}})}},{key:"runApplication",value:(_=Lp(Op().m(function e(){var n,r,i=this;return Op().w(function(e){for(;;)switch(e.n){case 0:return(n=this._getTable(!0))&&(this._disableButtons(),this._elements.textarea.classList.add("disabled")),e.n=1,Nr.wait("data");case 1:if("failed"!==this._appStart.data){e.n=2;break}return e.a(2);case 2:if(this._isRanked()&&"custom"===yp.getParamer("board")&&this._setRanked(!1,!0),setInterval(this.fetchAppDataAndCalculate.bind(this),t.DATA_FETCH_INTERVAL),r=function(){var t=Lp(Op().m(function t(){return Op().w(function(t){for(;;)switch(t.n){case 0:i._removeCanvasPreloader(),i._enableButtons(),i._elements.textarea.classList.remove("disabled"),i._appStart.status="started";case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),n){e.n=3;break}return r(),e.a(2);case 3:this._calculate().then(function(t){return t}).catch(function(t){return t}).finally(function(){return r()});case 4:return e.a(2)}},e,this)})),function(){return _.apply(this,arguments)})},{key:"addEventListeners",value:function(){var t=this;this._elements.textarea.addEventListener("input",function(){return t._resizeTextarea(!0)}),this._elements.textarea.addEventListener("input",Ns.debounce(this._onTextareaChange.bind(this),500)),this._onTextareaObserve(),document.addEventListener("keydown",this._onKeyDown.bind(this)),this._elements.collapseButton instanceof NodeList?this._elements.collapseButton.forEach(function(e){t._onCollapse(e)}):this._onCollapse(this._elements.collapseButton),this._elements.copyTable.forEach(function(e){e.addEventListener("click",t._onCopyTableToClipboard.bind(t))}),this._elements.presets.addEventListener("change",this._onPresetChange.bind(this)),this._elements.presets.addEventListener("blur",this._onPresetBlur.bind(this));var e=["choices","presets",this._selectors.customPresets.replace(".","")];this._getTable(!0)&&(e.push("disabled"),e.push("js-disabled")),this._presets.choices=new Ss(this._elements.presets,{searchEnabled:!1,shouldSort:!1,itemSelectText:"",placeholder:!0,placeholderValue:"Presets",classNames:{containerOuter:e}}),this._presets.choices.passedElement.element.addEventListener("hideDropdown",this._onPresetBlur.bind(this)),this._elements.presetConfirmModalYes.forEach(function(e){e.addEventListener("click",t._changeToPreset.bind(t))}),this._elements.downloadImage.addEventListener("click",this._onDownloadTableCanvas.bind(this)),this._elements.customBoardCalculation.addEventListener("click",this._onCustomBoard.bind(this)),this._elements.rankedBoardCalculation.addEventListener("click",this.onRankedBoard.bind(this)),this._elements.submittedMatchSwitch.forEach(function(e){e.addEventListener("click",t._onSubmittedMatchClick.bind(t))}),this._elements.showHowToUseModal.forEach(function(e){e.addEventListener("click",t._onShowHowToUseModal.bind(t))}),this._elements.showTableFormattingModal.forEach(function(e){e.addEventListener("click",t._onShowTableFormattingModal.bind(t))}),this._elements.scrollBubbles instanceof NodeList?this._elements.scrollBubbles.forEach(function(e){e.addEventListener("click",t._scrollToTarget.bind(t))}):this._elements.scrollBubbles.addEventListener("click",this._scrollToTarget.bind(this)),this._processCanvasScrollBubble().catch(function(t){return t}),window.addEventListener("resize",this._onResize.bind(this)),window.addEventListener("scroll",this._onScroll.bind(this)),Qs.isTouchDevice()||(tp.showOnceOnMouseEnter(this._selectors.rankedBoardCalculation,"When the <b>Ranked</b> board is selected, match results will use the ranked leaderboards and players' ratings for calculating match results.<br><br>See <b>How to use</b> and <b>Table formatting</b>.",!0),tp.showOnceOnMouseEnter(this._selectors.customBoardCalculation,"When the <b>Custom</b> board is selected, match results won't be calculated using the ranked leaderboards.<br><br>If you choose this mode a default rating will be set for every player. You can override players' board ratings by specifying a rating number with an \"r\" prefix at the end of the player line (e.g. r1620).<br><br>See <b>How to use</b> and <b>Table formatting</b>.",!0),tp.showOnceOnMouseEnter(this._selectors.copyTableText,"Copies the <b>results</b> text to your clipboard.",!0),tp.showOnceOnMouseEnter(this._selectors.copyTableLobby,"Copies the <b>!table results</b> text to your clipboard.<br><br>Paste the copied text into a Discord <b>#lobby-room</b> channel to generate an image.",!0)),this._tableControl=new up,this._elements.editScores.addEventListener("click",this._onEditScores.bind(this)),this._elements.editScoresApply.addEventListener("click",this._onApplyEditScores.bind(this)),this._elements.editScoresModal.addEventListener("hidden.bs.modal",this._onEditScoresModalClose.bind(this)),this._elements.editScoresShowHelpModal.forEach(function(e){e.addEventListener("click",t._onShowEditScoresHelpModal.bind(t))}),this._onTableCanvas(),Nr.release("ui_loaded",!0)}},{key:"_onAppStartFailed",value:(b=Lp(Op().m(function t(){var e;return Op().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Nr.wait("ui_loaded");case 1:if(this._elements.appStartAlertModal){t.n=2;break}return t.a(2);case 2:if(!this._elements.appStartAlertModal.classList.contains("show")){t.n=3;break}return t.a(2);case 3:(ec().getInstance(this._elements.appStartAlertModal)||new(ec())(this._elements.appStartAlertModal,{backdrop:"static",keyboard:!1})).show(),(e=document.createElement("div")).style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0)",e.style.zIndex=1050,e.style.pointerEvents="auto",document.body.appendChild(e),this._elements.appTryAgain.style.position="relative",this._elements.appTryAgain.style.zIndex=1060,this._elements.appTryAgain.style.pointerEvents="auto",e.addEventListener("click",function(t){return t.stopPropagation()});case 4:return t.a(2)}},t,this)})),function(){return b.apply(this,arguments)})},{key:"_onTextareaObserve",value:function(){var t=this;window.ResizeObserver||(window.ResizeObserver=Ec),new Ec(function(e){if(!t._timeouts.textarea.resizeRAF.timeout&&t._table.status!==Tl.STATUS_EMPTY&&!t._timeouts.textarea.displaying){var n=e[0],r=Math.round(n.contentRect.width);r!==t._timeouts.textarea.resizeRAF.width&&(t._timeouts.textarea.resizeRAF.width=r,t._timeouts.textarea.resizeRAF.timeout=requestAnimationFrame(function(){t._timeouts.textarea.resizeRAF.timeout=null,t._resizeTextarea(!0)}))}}).observe(this._elements.textarea)}},{key:"_onKeyDown",value:function(t){if(!(null!==document.querySelector(".modal.show"))){var e=window.getSelection();if(!(e&&e.toString().length>0))if("Tab"!==t.key||t.shiftKey)if((t.ctrlKey||t.metaKey)&&"s"===t.key.toLowerCase())t.preventDefault(),this._elements.downloadImage&&this._getTable()&&this._elements.downloadImage.click();else if((t.ctrlKey||t.metaKey)&&"c"===t.key.toLowerCase()){this._elements.textarea===document.activeElement&&this._elements.textarea.selectionStart!==this._elements.textarea.selectionEnd||(t.preventDefault(),this._elements.copyTableText&&this._getTable()&&this._elements.copyTableText.click())}else(t.ctrlKey||t.metaKey)&&"a"===t.key.toLowerCase()?(t.preventDefault(),this._elements.textarea.select()):"F1"===t.key?(this._onShowHowToUseModal(null),t.preventDefault()):"F2"===t.key&&(this._onShowTableFormattingModal(null),t.preventDefault());else t.preventDefault(),this._elements.textarea.focus()}}},{key:"_onTextareaChange",value:(g=Lp(Op().m(function t(e){var n;return Op().w(function(t){for(;;)switch(t.n){case 0:if(n=this._getTable(!0),![Tl.STATUS_PARSED,Tl.STATUS_PARSED_CUSTOM].includes(this._table.status)||!Tl.areTablesEqual(this._table.template?this._table.template:"",n)){t.n=1;break}return this._parseTable().catch(function(t){return t}),this._saveTableLocalStorage(),t.a(2);case 1:this._calculate().catch(function(t){return t});case 2:return t.a(2)}},t,this)})),function(t){return g.apply(this,arguments)})},{key:"_onCollapse",value:function(t){var e=this,n=t.getAttribute("data-bs-target");if(n){var r=document.querySelector(n);r&&(r.addEventListener("shown.bs.collapse",function(){e._processCanvasScrollBubble().catch(function(t){return t})}),r.addEventListener("hidden.bs.collapse",function(){e._processCanvasScrollBubble().catch(function(t){return t})}))}}},{key:"_onCopyTableToClipboard",value:function(t){var e=t.currentTarget.classList.contains(this._selectors.copyTableLobby.replace(".",""))?this._table.templateV1:this._getTable(!0);""!==e?Ms.text("".concat(t.target.dataset.prefix," ").concat(e," ").concat(t.target.dataset.suffix).trim()).then(function(e){return tp.show(t.target,"Copied to clipboard!","bottom")}).catch(function(e){hr.logError("ScoresCalculationController._onCopyTableToClipboard: ".concat(e.message)),tp.show(t.target,"Copy failed","bottom")}):tp.show(t.target,"Nothing to copy","bottom")}},{key:"_onPresetChange",value:function(t){var e=this,n=t.currentTarget;if(this._presets.selected=n.options[n.selectedIndex],this._onPresetBlur(),this._getTable(!0))if(this._table.parsed)if(0!==this._table.parsed.teams.reduce(function(t,e){return t+e.players.reduce(function(t,e){return t+e.scores.reduce(function(t,e){return t+e},0)},0)},0)){var r=function(t){"Enter"===t.key&&(t.preventDefault(),e._changeToPreset(null),i.hide())};this._elements.presetConfirmModal.addEventListener("keydown",r),this._elements.presetConfirmModal.addEventListener("hidden.bs.modal",function(){e._elements.presetConfirmModal.removeEventListener("keydown",r)},{once:!0});var i=ec().getInstance(this._elements.presetConfirmModal)||new(ec())(this._elements.presetConfirmModal);i.show()}else this._changeToPreset(null);else this._changeToPreset(null);else this._changeToPreset(null)}},{key:"_onPresetBlur",value:function(){this._presets.choices.removeActiveItems(),this._presets.choices.setChoiceByValue("Presets"),this._presets.choices.containerOuter.element.querySelectorAll(".choices__item.choices__item--choice").forEach(function(t){t.classList.remove("is-highlighted"),t.setAttribute("aria-selected","false")}),this._elements.presets.selectedIndex=0}},{key:"_changeToPreset",value:function(t){var e,n=this;"1"===(null==t||null===(e=t.currentTarget)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.cliboard)&&Ms.text(this._getTable(!0)).catch(function(t){return t});var r=this._tableParser.setBoards(this._data.boards.ranked).createPresetTemplate(this._presets.selected.dataset.idlobbytype,this._presets.selected.dataset.idgamemode);r?Tl.STATUS_PARSED===this._table.status&&Tl.areTablesEqual(""!==this._table.template?this._table.template:"",r)?(ec().getInstance(this._elements.presetConfirmModal)||new(ec())(this._elements.presetConfirmModal)).hide():(this._elements.textarea.value=r,this._resizeTextarea(!1),this._hideModalAsync(this._elements.presetConfirmModal).then(function(){n._calculate().catch(function(t){return t})})):(ec().getInstance(this._elements.presetConfirmModal)||new(ec())(this._elements.presetConfirmModal)).hide()}},{key:"_onShowTableCanvasInNewTab",value:(y=Lp(Op().m(function t(e){var n,r;return Op().w(function(t){for(;;)switch(t.n){case 0:if(n=tp.show(e.target,"Opening...","top",5e3),!this._canvas.canvas){t.n=2;break}return t.n=1,this._canvas.getUrl();case 1:if(!(r=t.v)){t.n=2;break}return window.open(r,"_blank"),n.hide(),t.a(2,!0);case 2:return n.hide(),tp.show(e.target,"Opening failed","top"),t.a(2,!1)}},t,this)})),function(t){return y.apply(this,arguments)})},{key:"_onDownloadTableCanvas",value:(m=Lp(Op().m(function t(e){var n,r,i,o,a=arguments;return Op().w(function(t){for(;;)switch(t.n){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:"bottom",r=tp.show(e.target,"Downloading...",n,5e3),this._getTable()){t.n=1;break}return r.hide(),tp.show(e.target,"Nothing to download",n),t.a(2,!1);case 1:if(!this._canvas.canvas){t.n=2;break}if(!(i=this._canvas.dataUrl)){t.n=2;break}return(o=document.createElement("a")).download=this._getImageTableFileName(),o.href=i,o.click(),r.hide(),tp.show(e.target,"Downloaded!",n),t.a(2,!0);case 2:return r.hide(),tp.show(e.target,"Download failed",n),t.a(2,!1)}},t,this)})),function(t){return m.apply(this,arguments)})},{key:"_onCopyTableCanvas",value:(v=Lp(Op().m(function t(e){var n=this;return Op().w(function(t){for(;;)if(0===t.n)return t.a(2,new Promise(function(){var t=Lp(Op().m(function t(r,i){var o,a;return Op().w(function(t){for(;;)switch(t.n){case 0:if(o=tp.show(e.target,"Copying...","top",5e3),!n._canvas.canvas){t.n=2;break}return t.n=1,n._canvas.getBlob();case 1:if(!(a=t.v)){t.n=2;break}return Ms.image(a).then(function(t){o.hide(),tp.show(e.target,"Copied to clipboard!","top"),r(!0)}).catch(function(t){o.hide(),tp.show(e.target,"Copying failed","top"),r(!1)}),t.a(2,!0);case 2:return o.hide(),tp.show(e.target,"Copying failed","top"),r(!1),t.a(2,!1)}},t)}));return function(e,n){return t.apply(this,arguments)}}()))},t)})),function(t){return v.apply(this,arguments)})},{key:"_onCopyTableCanvasUrl",value:(p=Lp(Op().m(function t(e){var n=this;return Op().w(function(t){for(;;)if(0===t.n)return t.a(2,new Promise(function(t,r){var i=tp.show(e.target,"Copying...","top",5e3);if(n._canvas.canvas){var o=n._canvas.dataUrl;if(o)return Ms.text(o).then(function(n){i.hide(),tp.show(e.target,"Copied to clipboard!","top"),t(!0)}).catch(function(n){i.hide(),tp.show(e.target,"Copying failed","top"),t(!1)}),!0}return i.hide(),tp.show(e.target,"Copying failed","top"),t(!1),!1}))},t)})),function(t){return p.apply(this,arguments)})},{key:"_getImageTableFileName",value:function(){var t=this._isRanked()?"ranked_":"unranked_",e=this._submittedMatch.active?"_submitted":"",n=this._getBoard();if(!n)return t+"scores"+e+".png";var r,i=Mp(n.game_modes.entries());try{for(i.s();!(r=i.n()).done;){var o=jp(r.value,2),a=(o[0],o[1]);if(parseInt(n.lobby_type.id)===parseInt(this._table.parsed.id_lobby_type)&&parseInt(a.id)===parseInt(this._table.parsed.id_game_mode))return t+n.lobby_type.code.toLowerCase()+"_"+a.code.toLowerCase()+"_"+this._table.parsed.number+e+".png"}}catch(t){i.e(t)}finally{i.f()}return t+"scores"+e+".png"}},{key:"_onCustomBoard",value:function(t){if(!t.currentTarget.classList.contains("active")){this._setSubmittedMatchOff(),t.stopPropagation(),t.preventDefault();var e=this._isRanked();this._setRanked(!1),this._elements.copyTableText.style.display="inline-block",this._elements.copyTableText.style.setProperty("margin-right","0","important"),this._elements.copyTableLobby.style.display="none",this._getTable(!0)&&(e!==this._isRanked()?this._calculate().catch(function(t){return t}):this._enableButtons())}}},{key:"onRankedBoard",value:function(t){if(!t.currentTarget.classList.contains("active")){this._setSubmittedMatchOff(),t.stopPropagation(),t.preventDefault();var e=this._isRanked();this._setRanked(!0),this._elements.copyTableText.removeAttribute("style"),this._elements.copyTableLobby.removeAttribute("style"),this._getTable(!0)&&(yp.removeParameters(["board"]),e!==this._isRanked()?this._calculate().catch(function(t){return t}):this._enableButtons())}}},{key:"_onSubmittedMatchClick",value:(d=Lp(Op().m(function t(e){var n=this;return Op().w(function(t){for(;;)switch(t.n){case 0:if(!this._submittedMatch.active){t.n=1;break}return this._calculate().then(function(t){return t}).catch(function(t){return t}).finally(function(){n._elements.submittedMatchSwitch.forEach(function(t,e){t.textContent="Show"})}),t.a(2);case 1:this._calculateSubmitted().catch(function(t){return t});case 2:return t.a(2)}},t,this)})),function(t){return d.apply(this,arguments)})},{key:"_onShowHowToUseModal",value:function(t){var e=this;(ec().getInstance(this._elements.tableFormattingModal)||new(ec())(this._elements.tableFormattingModal)).hide(),setTimeout(function(){(ec().getInstance(e._elements.howToUseModal)||new(ec())(e._elements.howToUseModal)).show()},375)}},{key:"_onShowTableFormattingModal",value:function(t){var e=this;(ec().getInstance(this._elements.howToUseModal)||new(ec())(this._elements.howToUseModal)).hide(),setTimeout(function(){(ec().getInstance(e._elements.tableFormattingModal)||new(ec())(e._elements.tableFormattingModal)).show()},375)}},{key:"_scrollToTarget",value:function(t){var e=t.currentTarget,n=e.dataset.target;if(n){var r=document.querySelector(n);r&&(r.scrollIntoView({behavior:"smooth",block:"start"}),this._hideScrollBubble(e).catch(function(t){return t}))}}},{key:"_onResize",value:function(t){var e=this,n=window.innerWidth<1082;n!==this._isSmallScreen&&(this._isSmallScreen=n),clearTimeout(this._timeouts.resize),this._timeouts.resize=setTimeout(function(){e._processCanvasScrollBubble().catch(function(t){return t})},150)}},{key:"_onScroll",value:function(t){var e=this;clearTimeout(this._timeouts.scroll),this._timeouts.scroll=setTimeout(function(){e._processCanvasScrollBubble().catch(function(t){return t})},150)}},{key:"_onEditScores",value:function(t){this._table.parsed?this._tableControl.setBoard(this._getBoard()).setParsedTable(this._table.parsed).setIsRanked(this._isRanked()).loadControls():t.currentTarget===this._elements.editScores&&tp.show(t.currentTarget,"No scores to edit","bottom")}},{key:"_onApplyEditScores",value:function(t){var e=this,n=this._tableControl.applyChanges();this._hideModalAsync(this._elements.editScoresModal).then(function(){n&&e._calculate().catch(function(t){return t})})}},{key:"_onEditScoresModalClose",value:function(t){this._tableControl.setRace(this._elements.editScoresRaceSelect.value)}},{key:"_onShowEditScoresHelpModal",value:function(t){(ec().getInstance(this._elements.editScoresHelpModal)||new(ec())(this._elements.editScoresHelpModal)).show()}},{key:"_onTableCanvas",value:function(){var e=this;if(t.USE_CUSTOM_CONTEXT_MENU){var n=!1,r=!1,i=null,o=!1,a=0,s=0,c=new Set,l=!1,u=function(){i&&(clearTimeout(i),i=null)};this._elements.tableCanvas.addEventListener("pointerdown",function(t){if(0===t.button){if(n=!0,r=!1,o=!1,a=t.clientX,s=t.clientY,c.add(t.pointerId),c.size>1)return l=!0,void u();l=!1,i=setTimeout(function(){i=null,e._showContextMenu(),r=!0},200),t.preventDefault(),e._elements.tableCanvas.setPointerCapture(t.pointerId)}}),this._elements.tableCanvas.addEventListener("pointermove",function(t){if(e._elements.tableCanvas.hasPointerCapture(t.pointerId)&&Qs.isTouchDevice()&&!l){var n=Math.abs(t.clientX-a),r=Math.abs(t.clientY-s);(n>5||r>5)&&(o=!0,u())}}),this._elements.tableCanvas.addEventListener("pointercancel",function(t){c.delete(t.pointerId),l=!1,u()}),this._elements.tableCanvas.addEventListener("lostpointercapture",function(t){c.delete(t.pointerId),l=!1,u()}),this._elements.tableCanvas.addEventListener("pointerup",function(t){"mouse"===t.pointerType&&0!==t.button||(n?(n=!1,c.delete(t.pointerId),c.size<=1&&(l=!1),e._elements.tableCanvas.releasePointerCapture(t.pointerId),l||r||o||(u(),e._onEditScores(t))):n=!1)}),this._elements.tableCanvas.addEventListener("contextmenu",function(t){t.preventDefault(),e._showContextMenu()}),this._elements.contextMenuDownload.addEventListener("click",function(t){e._onDownloadTableCanvas(t,"top").then(function(){var t=Lp(Op().m(function t(n){return Op().w(function(t){for(;;)switch(t.n){case 0:if(!n){t.n=2;break}return t.n=1,Ap.for(1e3);case 1:e._closeContextMenu();case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}),this._elements.contextMenuView.addEventListener("click",function(t){e._onShowTableCanvasInNewTab(t).then(function(){var t=Lp(Op().m(function t(n){return Op().w(function(t){for(;;)switch(t.n){case 0:n&&e._closeContextMenu();case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}),navigator.clipboard&&navigator.clipboard.write?this._elements.contextMenuCopy.addEventListener("click",function(t){e._onCopyTableCanvas(t).then(function(){var t=Lp(Op().m(function t(n){return Op().w(function(t){for(;;)switch(t.n){case 0:if(!n){t.n=2;break}return t.n=1,Ap.for(1e3);case 1:e._closeContextMenu();case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}):this._elements.contextMenuCopy.remove(),this._elements.contextMenuCopyUrl.addEventListener("click",function(t){e._onCopyTableCanvasUrl(t).then(function(){var t=Lp(Op().m(function t(n){return Op().w(function(t){for(;;)switch(t.n){case 0:if(!n){t.n=2;break}return t.n=1,Ap.for(1e3);case 1:e._closeContextMenu();case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}),this._elements.contextMenuEditScores.addEventListener("click",function(t){e._closeContextMenu(),e._onEditScores(t)})}else this._elements.tableCanvas.addEventListener("click",this._onEditScores.bind(this))}},{key:"_showContextMenu",value:function(){this._getTable()&&(ec().getInstance(this._elements.contextMenuModal)||new(ec())(this._elements.contextMenuModal)).show()}},{key:"_closeContextMenu",value:function(){(ec().getInstance(this._elements.contextMenuModal)||new(ec())(this._elements.contextMenuModal)).hide()}},{key:"_nullifyTableControl",value:function(){this._tableControl.setBoard(null).setParsedTable(null).setIsRanked(this._isRanked()).setRace("auto")}},{key:"_resetTableControl",value:function(){this._tableControl.setBoard(this._getBoard()).setParsedTable(this._table.parsed).setIsRanked(this._isRanked()).setRace("auto")}},{key:"_calculate",value:(f=Lp(Op().m(function e(){var n,r,i,o,a,s=this;return Op().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Nr.wait("calculate");case 1:return this._calculation.processing=!0,this._calculation.time.started_at=new Date,e.n=2,this._dimTableCanvas();case 2:return this._disableButtons(),this._table.status_before_calculation=this._table.status,this._setSubmittedMatchOff(!this._submittedMatch.active),this._canvas.canvas=null,this._canvas.url="",n=this._getTable(!0),this._timeouts.table.calculating=setTimeout(function(){n&&s._showScoresCalculationCalculatingAlert()},200),r=this._table.parsed?this._table.parsed.id:"",e.n=3,this._parseTable().catch(function(t){return t});case 3:if(Tl.STATUS_EMPTY!==this._table.status){e.n=4;break}return clearTimeout(this._timeouts.table.calculating),this._hideSubmittedMatchButtons().catch(function(t){return t}),tp.disableBySelector(this._selectors.scoresAlert),this._alertDialog.hideAsync(Or.ALERT_SCORES,{triggerType:Or.TRIGGER_TYPE_INSTANT,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t}),this._saveTableLocalStorage(),this._hideTableCanvas(),this._enableButtons(),this._nullifyTableControl(),this._calculation.time.ended_at=new Date,this._calculation.processing=!1,Nr.release("calculate"),e.a(2);case 4:if(this._table.status!==Tl.STATUS_PARSED_CUSTOM&&this._table.status!==Tl.STATUS_PARSED){e.n=12;break}if(this._saveTableLocalStorage(),i=this._predictScores()){e.n=5;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),e.a(2);case 5:return e.n=6,this._generateTableCanvas(i);case 6:if(e.v){e.n=7;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),e.a(2);case 7:if(o=this._htmlToCanvas()){e.n=8;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),e.a(2);case 8:if(!("starting"===this._appStart.status&&this._appStart.preloader>0&&new Date-this._appStart.createdAt<this._appStart.preloader)){e.n=10;break}return e.n=9,Nr.wait("preloader");case 9:this._removeCanvasPreloader();case 10:return a=this._table.status_before_calculation===Tl.STATUS_EMPTY,e.n=11,this._displayTableCanvas(o,a,this._calculation.time);case 11:return this._elements.tableCanvas.style.cursor="pointer",clearTimeout(this._timeouts.table.calculating),this._enableButtons(),this._showScoresCalculationSuccessAlert(),this._showHideSubmittedMatchButtons().catch(function(t){return t}),r!==this._table.parsed.id&&this._resetTableControl(),this._calculation.time.ended_at=new Date,this._calculation.processing=!1,Nr.release("calculate"),e.a(2);case 12:this._calculation.time.ended_at=new Date,this._endCalculationAsError();case 13:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"_endCalculationAsError",value:function(){clearTimeout(this._timeouts.table.calculating),this._elements.tableCanvas.style.cursor="",this._dimTableCanvas().catch(function(t){return t}),this._hideSubmittedMatchButtons().catch(function(t){return t}),this._showScoresCalculationErrorAlert(),this._enableButtons(),this._calculation.processing=!1,Nr.release("calculate")}},{key:"_calculateSubmitted",value:(h=Lp(Op().m(function t(){var e,n,r,i=this;return Op().w(function(t){for(;;)switch(t.n){case 0:if(this._canvas.canvas=null,this._canvas.url="",yp.removeParameters(["board"]),!this._submittedMatch.disabled.includes(this._table.parsed.number)&&this._isRanked()){t.n=1;break}return this._calculation.error="Could not load submitted match.<br>Refresh the page and try again.",this._endCalculationAsError(),t.a(2);case 1:if(this._timeouts.table.calculating=setTimeout(function(){i._showScoresCalculationCalculatingAlert()},200),this._submittedMatch.parsed){t.n=2;break}return this._calculation.error="Could not load submitted match.<br>Refresh the page and try again.",this._submittedMatch.disabled.push(this._table.parsed.number),this._endCalculationAsError(),t.a(2);case 2:return this._submittedMatch.time.started_at=new Date,t.n=3,this._dimTableCanvas();case 3:if(this._disableButtons(),this._table.status_before_calculation=this._table.status,e=new Nl,n=e.calculateSubmittedMatch(this._submittedMatch.parsed,this._getBoard())){t.n=4;break}return this._submittedMatch.time.ended_at=new Date,this._calculation.error=e.error,this._submittedMatch.disabled.push(this._table.parsed.number),this._endCalculationAsError(),t.a(2);case 4:return t.n=5,this._generateTableCanvas(n,!0);case 5:if(t.v){t.n=6;break}return this._submittedMatch.time.ended_at=new Date,this._submittedMatch.disabled.push(this._table.parsed.number),this._endCalculationAsError(),t.a(2);case 6:if(r=this._htmlToCanvas()){t.n=7;break}return this._calculation.time.ended_at=new Date,this._endCalculationAsError(),t.a(2);case 7:return t.n=8,this._displayTableCanvas(r,!1,this._submittedMatch.time);case 8:clearTimeout(this._timeouts.table.calculating),this._showScoresCalculationSuccessAlert(),this._submittedMatch.active=!0,this._submittedMatch.time.ended_at=new Date,this._showSubmittedMatchButtons().catch(function(t){return t}),this._enableButtons();case 9:return t.a(2)}},t,this)})),function(){return h.apply(this,arguments)})},{key:"_parseTable",value:(u=Lp(Op().m(function t(){var e,n;return Op().w(function(t){for(;;)switch(t.p=t.n){case 0:if(this._tableParser.setBoards(this._data.boards.ranked),t.p=1,""!==this._getTable(!0)){t.n=2;break}return this._table.status=Tl.STATUS_EMPTY,this._table.parsed=null,this._table.templateV1="",this._table.template="",this._calculation.error="",t.a(2,!0);case 2:if((e=this._tableParser.parse(this._getTable(!0)))&&(null!==e.id_board||!this._isRanked())){t.n=3;break}return this._table.status=Tl.STATUS_ERROR,this._table.parsed=null,this._table.templateV1="",this._table.template="",this._calculation.error=this._tableParser.error?this._tableParser.error:"Invalid scores.",t.a(2,!1);case 3:return null===e.id_board?this._table.status=Tl.STATUS_PARSED_CUSTOM:this._table.status=Tl.STATUS_PARSED,this._table.parsed=e,this._table.templateV1=this._tableParser.getTemplate(1),this._table.template=this._tableParser.getTemplate(),this._calculation.error="",t.a(2,!0);case 4:return t.p=4,n=t.v,hr.logError("ScoresCalculationController._parseTable: ".concat(n.message),"info"),this._table.status=Tl.STATUS_ERROR,this._table.parsed=null,this._table.templateV1="",this._table.template="",this._calculation.error="Invalid scores.",t.a(2,!1)}},t,this,[[1,4]])})),function(){return u.apply(this,arguments)})},{key:"_generateTableCanvas",value:(l=Lp(Op().m(function t(e){var n,r,i,o,a=arguments;return Op().w(function(t){for(;;)switch(t.p=t.n){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],t.p=1,r=this._getBoard(),i=n?this._submittedMatch.parsed:this._table.parsed,t.n=2,this._tableGenerator.generate(i,r,e,n,this._isRanked());case 2:return t.a(2,t.v);case 3:return t.p=3,o=t.v,this._calculation.error="Could not generate the results image.<br>Refresh the page and try again.",hr.logError("ScoresCalculationController._refreshResultsTable: ".concat(o.message)),t.a(2,!1)}},t,this,[[1,3]])})),function(t){return l.apply(this,arguments)})},{key:"_htmlToCanvas",value:function(){var t=this._canvas.htmlToCanvas(!0);return t?(Di.getElements().body.appendChild(t),t):(this._calculation.error="Could not generate the results image.<br>Refresh the page and try again.",null)}},{key:"_predictScores",value:function(){var t=new Nl;try{var e,n,r=this._getTable();if(!r)return this._calculation.error="Invalid scores.",null;this._isRanked()?(e=this._data.boards.ranked,n=this._data.resultsSubmissions):(e=this._data.boards.custom,n=[]);var i=t.predictMatch(this._table.parsed,r,e,n,this._isRanked());return i||(this._calculation.error=t.error,null)}catch(t){return hr.logError("ScoresCalculationController._predictScores: ".concat(t.message)),this._calculation.error="Scores prediction failed.<br>Refresh the page and try again.",null}}},{key:"_disableButtons",value:function(){var t,e=Mp(this._getSelectorsForVisiblityChange(!0).entries());try{for(e.s();!(t=e.n()).done;){var n=jp(t.value,2)[1];document.querySelectorAll(n).forEach(function(t,e){t.classList.add("disabled"),t.classList.add("js-disabled"),t.style.pointerEvents="none"})}}catch(t){e.e(t)}finally{e.f()}}},{key:"_enableButtons",value:function(){var t,e=Mp(this._getSelectorsForVisiblityChange().entries());try{for(e.s();!(t=e.n()).done;){var n=jp(t.value,2)[1];document.querySelectorAll(n).forEach(function(t,e){t.classList.contains("js-disabled")&&(t.classList.remove("disabled"),t.classList.remove("js-disabled"),t.removeAttribute("style"),t.style.visibility="visible",t.style.opacity=1)})}}catch(t){e.e(t)}finally{e.f()}}},{key:"_getSelectorsForVisiblityChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[this._selectors.customBoardCalculation,this._selectors.rankedBoardCalculation,this._selectors.copyImage,this._selectors.downloadImage,this._selectors.presets,this._selectors.editScoresApply,this._selectors.customPresets];return t&&e.push(this._selectors.submittedMatchSwitch),e}},{key:"_hideSubmittedMatchShowHideButton",value:function(){var t=this;this._setSubmittedMatchOff(!1);var e=this._elements.submittedMatchSwitch;e.forEach(function(n,r){mr.fadeTo(n,0,0,"swing",function(){n.style.visibility="hidden",t._submittedMatch.active?n.textContent="Hide":n.textContent="Show"}),r===e.length-1&&t._elements.submittedMatchAlertWrapperXS.classList.add("d-none")})}},{key:"_showSubmittedMatchShowHideButton",value:function(){var t=this,e=this._elements.submittedMatchSwitch;e.forEach(function(n,r){t._submittedMatch.active?n.textContent="Hide":n.textContent="Show",n.classList.remove("disabled"),n.classList.remove("js-disabled"),n.style.pointerEvents="unset",n.style.visibility="visible",mr.fadeTo(n,0,1,"swing"),r===e.length-1&&t._elements.submittedMatchAlertWrapperXS.classList.remove("d-none")})}},{key:"_hideSubmittedMatchButtons",value:(c=Lp(Op().m(function e(){var n=this;return Op().w(function(e){for(;;)switch(e.n){case 0:this._elements.submittedMatchSwitch.forEach(function(e,r){var i=e.parentElement;mr.fadeTo(i,t.ANIMATION_TIME,0,"swing",function(){n._alertDialog.hideAsync(Or.ALERT_MATCH,{triggerType:Or.TRIGGER_TYPE_INSTANT,fadeTime:0}).catch(function(t){return t}),n._hideSubmittedMatchShowHideButton()})});case 1:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"_showHideSubmittedMatchButtons",value:(s=Lp(Op().m(function t(){var e,n,r,i,o;return Op().w(function(t){for(;;)switch(t.n){case 0:this._isRanked()?(r=(null===(e=this._getBoard())||void 0===e?void 0:e.matches)||[],i=(null===(n=r[0])||void 0===n?void 0:n.number)||"0",parseInt(this._table.parsed.number)>parseInt(i)?this._submittedMatch.exists=!1:(o=(new Nl).getSubmittedMatch(this._table.parsed,this._getBoard()),this._submittedMatch.exists=!!o,this._submittedMatch.exists&&o&&(this._submittedMatch.parsed=o))):this._submittedMatch.exists=!1,this._submittedMatch.exists?this._showSubmittedMatchButtons().catch(function(t){return t}):this._hideSubmittedMatchButtons().catch(function(t){return t});case 1:return t.a(2)}},t,this)})),function(){return s.apply(this,arguments)})},{key:"_showSubmittedMatchButtons",value:(a=Lp(Op().m(function e(){return Op().w(function(e){for(;;)switch(e.n){case 0:this._submittedMatch.active?this._alertDialog.showAsync("Showing submitted lobby #".concat(this._table.parsed.number),{selector:Or.ALERT_MATCH,type:Or.TYPE_WARNING,triggerType:Or.TRIGGER_TYPE_INSTANT,animationTime:0}).catch(function(t){return t}):this._alertDialog.showAsync("Lobby #".concat(this._table.parsed.number," was already submitted"),{selector:Or.ALERT_MATCH,type:Or.TYPE_WARNING,triggerType:Or.TRIGGER_TYPE_INSTANT,animationTime:0,fadeTime:0}).catch(function(t){return t}),this._showSubmittedMatchShowHideButton(),this._elements.submittedMatchSwitch.forEach(function(e,n){var r=e.parentElement;mr.fadeTo(r,t.ANIMATION_TIME,1,"swing")});case 1:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"_setSubmittedMatchOff",value:function(){this._submittedMatch.active=!1,this._submittedMatch.parsed=null}},{key:"_dimTableCanvas",value:(o=Lp(Op().m(function t(){var e;return Op().w(function(t){for(;;)switch(t.n){case 0:if(!(e=Di.getElements()).image){t.n=1;break}return e.image.style.opacity="0.65",t.n=1,new Promise(function(t){var n=function(){e.image.removeEventListener("transitionend",n),t()};e.image.addEventListener("transitionend",n)});case 1:return t.a(2)}},t)})),function(){return o.apply(this,arguments)})},{key:"_hideTableCanvas",value:function(){var e=this._elements.tableCanvas,n=Di.getElements().image;if(n){"blob"===t.IMAGE_TYPE&&this._table.src&&URL.revokeObjectURL(this._table.src),this._table.src="";var r=e.getBoundingClientRect();e.style.height="".concat(r.height,"px"),e.style.transition="height 0.1s",requestAnimationFrame(function(){e.style.height="",n.style.opacity="0",setTimeout(function(){n.remove(),e.removeAttribute("style")},100)})}}},{key:"_displayTableCanvas",value:(i=Lp(Op().m(function e(n,r,i){var o,a,s,c,l,u,h,f;return Op().w(function(e){for(;;)switch(e.n){case 0:"blob"===t.IMAGE_TYPE&&this._table.src&&URL.revokeObjectURL(this._table.src),"canvas"!==t.IMAGE_TYPE&&(this._table.src=n.src),o=this._elements.tableCanvas,(a=Di.getElements()).image||(o.appendChild(n),n.style.visibility="hidden",n.style.opacity="0"),s=o.getBoundingClientRect(),n instanceof HTMLCanvasElement?(l=n.getBoundingClientRect(),c=l.height/l.width):c=n.naturalHeight/n.naturalWidth,u=s.width*c,r&&(o.style.transition="",o.style.height="".concat(s.height,"px")),o.style.transition=r?"height 0.1s":"",o.style.height="".concat(u,"px"),n.style.opacity="0.65",a.image?a.image.replaceWith(n):n.style.visibility="visible",setTimeout(function(){o.style.transition="",o.style.height="auto"},100),h=new Date-i.started_at,f=Math.max(0,i.perceptual_minimum-h),console.log("min_remaining",f,h),setTimeout(function(){n.style.opacity="1"},f);case 1:return e.a(2)}},e,this)})),function(t,e,n){return i.apply(this,arguments)})},{key:"_getTable",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Tl.normalize(this._elements.textarea.value):""===this._table.template?"":Tl.normalize(this._table.template)}},{key:"_saveTableLocalStorage",value:function(){if([Tl.STATUS_PARSED,Tl.STATUS_PARSED_CUSTOM].includes(this._table.status)){t="table",e=this._getTable(!0),n=864e5,r={value:e,expiry:(new Date).getTime()+n},localStorage.setItem(t,JSON.stringify(r))}else localStorage.removeItem("table");var t,e,n,r}},{key:"_setRanked",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this._elements.customBoardCalculation.classList.remove("active","disabled"),this._elements.rankedBoardCalculation.classList.remove("active","disabled")):(this._elements.customBoardCalculation.classList.remove("active"),this._elements.rankedBoardCalculation.classList.remove("active")),t?this._elements.rankedBoardCalculation.classList.add("active"):(this._elements.customBoardCalculation.classList.add("active"),e&&(this._elements.customBoardCalculation.classList.add("disabled"),this._elements.rankedBoardCalculation.classList.add("disabled"))),t?(this._elements.copyTableLobby.classList.remove("disabled"),this._elements.copyTableLobby.style.pointerEvents="unset"):(this._elements.copyTableLobby.classList.add("disabled"),this._elements.copyTableLobby.style.pointerEvents="none")}},{key:"_isRanked",value:function(){return this._elements.rankedBoardCalculation.classList.contains("active")}},{key:"_getBoard",value:function(){var t,e,n,r;return this._isRanked()?null!==(n=null===(r=this._data.boards.ranked)||void 0===r?void 0:r[this._table.parsed.id_board])&&void 0!==n?n:null:null!==(t=null===(e=this._data.boards.custom)||void 0===e?void 0:e[this._table.parsed.id_board])&&void 0!==t?t:null}},{key:"_resizeTextarea",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._elements.textarea,r=this._elements.textareaClone,i=n.offsetHeight;n.value=n.value.replace(/\n{5,}$/g,"\n\n\n\n"),r.style.width=n.offsetWidth+"px",r.textContent=n.value+"\n";var o=getComputedStyle(n),a=Math.min(r.scrollHeight,parseInt(o.maxHeight)||1/0);if(window.innerWidth>=1082&&a<=parseInt(o.minHeight)&&(a=parseInt(o.minHeight)),!e)return n.style.transition="none",n.style.height=a+"px",n.offsetHeight,void requestAnimationFrame(function(){n.style.transition="",Math.round(i)!==Math.round(a)&&t._processCanvasScrollBubble().catch(function(t){return t})});n.offsetHeight,requestAnimationFrame(function(){n.scrollTop=0,n.style.height=a+"px",Math.round(i)!==Math.round(a)&&t._processCanvasScrollBubble().catch(function(t){return t})})}},{key:"_showScoresCalculationCalculatingAlert",value:function(){tp.disableBySelector(this._selectors.scoresAlert),this._alertDialog.showAsync("Calculating",{selector:Or.ALERT_SCORES,type:Or.TYPE_LOADER,triggerType:Or.TRIGGER_TYPE_INSTANT,animationTime:0,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t})}},{key:"_showScoresCalculationSuccessAlert",value:function(){tp.disableBySelector(this._selectors.scoresAlert),this._alertDialog.showAsync("Calculated",{selector:Or.ALERT_SCORES,type:Or.TYPE_SUCCESS,triggerType:Or.TRIGGER_TYPE_INSTANT,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t})}},{key:"_showScoresCalculationErrorAlert",value:function(){var e=this;this._alertDialog.showAsync("Error",{selector:Or.ALERT_SCORES,type:Or.TYPE_ERROR,triggerType:Or.TRIGGER_TYPE_INSTANT,fadeTime:t.ANIMATION_TIME}).catch(function(t){return t}),""!==this._calculation.error.trim()&&setTimeout(function(){var t="left";(e._isSmallScreen||e._submittedMatch.exists)&&(t="top"),tp.show(e._selectors.scoresAlert,e._calculation.error,t,-1,!1,"error")},50)}},{key:"_processCanvasScrollBubble",value:(r=Lp(Op().m(function t(){var e=this;return Op().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Nr.wait("canvas_scroll_bubble");case 1:this._timeouts.bubble.processing=!0,clearTimeout(this._timeouts.bubble.timeout),this._timeouts.bubble.timeout=setTimeout(function(){if(e._isSmallScreen)if(e._getTable(!0)){var t=e._elements.tableCanvas.getBoundingClientRect();t.top>window.innerHeight||!e._isElementVisibleFraction(t,.25)?e._showScrollBubbleImage(e._elements.scrollBubbleImage,300).then(function(){e._timeouts.bubble.processing=!1,Nr.release("canvas_scroll_bubble")}):e._hideScrollBubble(e._elements.scrollBubbleImage,300).then(function(){e._timeouts.bubble.processing=!1,Nr.release("canvas_scroll_bubble")})}else e._hideScrollBubble(e._elements.scrollBubbleImage).then(function(){e._timeouts.bubble.processing=!1,Nr.release("canvas_scroll_bubble")});else e._hideScrollBubble(e._elements.scrollBubbleImage).then(function(){e._timeouts.bubble.processing=!1,Nr.release("canvas_scroll_bubble")})},150);case 2:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"_showScrollBubbleImage",value:(n=Lp(Op().m(function t(e){var n,r=arguments;return Op().w(function(t){for(;;)if(0===t.n)return n=r.length>1&&void 0!==r[1]?r[1]:300,t.a(2,new Promise(function(t,r){e.classList.contains("d-none")&&"1"!==e.style.opacity?(e.style.opacity="0",e.classList.remove("d-none"),mr.fadeTo(e,n,1,"swing",function(){t(!0)})):t(!0)}))},t)})),function(t){return n.apply(this,arguments)})},{key:"_hideScrollBubble",value:(e=Lp(Op().m(function t(e){var n,r=arguments;return Op().w(function(t){for(;;)if(0===t.n)return n=r.length>1&&void 0!==r[1]?r[1]:300,t.a(2,new Promise(function(t,r){e.classList.contains("d-none")?t(!0):"0"!==e.style.opacity?(e.style.opacity="1",mr.fadeTo(e,n,0,"swing",function(){e.classList.add("d-none"),t(!0)})):t(!0)}))},t)})),function(t){return e.apply(this,arguments)})},{key:"_isElementVisibleFraction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=window.innerHeight||document.documentElement.clientHeight;return(Math.min(t.bottom,n)-Math.max(t.top,0))/t.height>=e}},{key:"_removeCanvasPreloader",value:function(){var e=document.querySelector(this._selectors.canvasPreloader);e&&!e.dataset.removing&&(e.dataset.removing="true",e.style.transition="opacity ".concat(t.ANIMATION_TIME,"ms ease"),e.style.opacity="0",setTimeout(function(){e.remove()},t.ANIMATION_TIME))}},{key:"_hideModalAsync",value:function(t){return new Promise(function(e){var n=ec().getInstance(t)||new(ec())(t);t.addEventListener("hidden.bs.modal",function n(){t.removeEventListener("hidden.bs.modal",n),e()}),n.hide()})}}]);var e,n,r,i,o,a,s,c,l,u,h,f,d,p,v,m,y,g,b,_,w,S,E}();Fp(zp,"DATA_FETCH_INTERVAL",15e3),Fp(zp,"ANIMATION_TIME",100),Fp(zp,"IMAGE_TYPE","canvas"),Fp(zp,"USE_CUSTOM_CONTEXT_MENU",!0);const Hp=zp;window._a9bdu6u621c5938u8||(window._a9bdu6u621c5938u8=!0,window.started_at=new Date,function(){var t=new Hp;t.loadData().catch(function(t){return t});var e=function(){t.subscribeElements(),t.runApplication().catch(function(t){return t}),t.addEventListeners()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e()}):e()}())})()})();